"use strict";(self.webpackChunkAngularArchitecture=self.webpackChunkAngularArchitecture||[]).push([[563],{82563:(U,m,s)=>{s.r(m),s.d(m,{LoginModule:()=>L});var l=s(36895),o=s(24006),a=s(28729),c=s(97661),e=s(94650),p=s(32278),u=s(83827),h=s(14455),f=s(45798);function v(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",36)(1,"b"),e.\u0275\u0275text(2,"UserName is required !"),e.\u0275\u0275elementEnd()())}function _(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",34),e.\u0275\u0275template(1,v,3,0,"div",35),e.\u0275\u0275elementEnd()),2&t){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.f.userid.errors.required)}}function I(t,r){1&t&&(e.\u0275\u0275elementStart(0,"p",37)(1,"strong"),e.\u0275\u0275text(2,"In Correct UserName"),e.\u0275\u0275elementEnd()())}function k(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",36)(1,"b"),e.\u0275\u0275text(2,"Password is required !"),e.\u0275\u0275elementEnd()())}function b(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",34),e.\u0275\u0275template(1,k,3,0,"div",35),e.\u0275\u0275elementEnd()),2&t){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.f.password.errors.required)}}function y(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"p",37)(1,"strong"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&t){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.message)}}const g=function(t){return{"has-error":t}},C=[{path:"",component:(()=>{class t{constructor(i,n,d,E,x,N,w){this.formBuilder=i,this.router=n,this.notifyService=d,this.cd=E,this.authService=x,this.service=N,this.loadingBar=w,this.submitted=!1,this.isLoading=!1,this.InValidPassword=!1,this.InValidUserName=!1,this.dashboardUrl="backend/dashboard",this.policyUrl="userpolicy",this.cosnt_Loadingbar=this.loadingBar.useRef("http"),this.Obj_ILoginDTO=new c.M,this.loginForm=this.formBuilder.group({userid:["",o.kI.required],password:["",o.kI.required]})}ngOnInit(){this.authService.logout()}get f(){return this.loginForm.controls}OnKeyPress(){this.InValidPassword=!1,this.InValidUserName=!1,this.message=""}login(){this.submitted=!0,!this.loginForm.invalid&&(this.Obj_ILoginDTO.UserName=this.f.userid.value,this.Obj_ILoginDTO.Password=this.f.password.value,this.service.LoginCredentials(this.Obj_ILoginDTO).subscribe(i=>{this.UserDetails_List=i,this.message=this.UserDetails_List[0].Message,this.DB_username=this.UserDetails_List[0].UserName.toLowerCase(),this.DB_password=this.UserDetails_List[0].Password,this.User_FullName=this.UserDetails_List[0].TM_DisplayName,this.IsPolicy=this.UserDetails_List[0].IsPolicy,this.f.userid.value.toLowerCase()==this.DB_username&&this.f.password.value==this.DB_password?(localStorage.setItem("isLoggedIn","true"),this.InValidPassword=!1,this.cd.detectChanges(),this.EmpNo=i[0].Emp_No,localStorage.setItem("EmpNo",this.EmpNo),this.EmpCompNo=i[0].Emp_Comp_No.replace(/\s/g,""),this.SystemRole=i[0].Emp_SystemRole,this.OrganizationId=i[0].OrganizationId,sessionStorage.setItem("Emp_Email",i[0].Emp_Email),sessionStorage.setItem("Session_EmpNo",this.EmpNo),sessionStorage.setItem("EmpCompNo",this.EmpCompNo),localStorage.setItem("UserfullName",this.User_FullName),localStorage.setItem("_Currentuser",this.DB_username),localStorage.setItem("OrganizationId",this.OrganizationId),1==this.IsPolicy?(this.router.navigate([this.dashboardUrl]),this.notifyService.showInfo(this.User_FullName+"  ","Login By :"),this.notifyService.showSuccess("Successfully","Logged In"),this.InValidPassword=!1,this.cd.detectChanges()):0==this.IsPolicy&&(this.router.navigate([this.policyUrl]),this.InValidPassword=!1,this.cd.detectChanges())):(this.InValidPassword=!0,console.log("Invalid Login"),this.authService.logout(),localStorage.removeItem("EmpNo"),this.cd.detectChanges())}))}}return t.\u0275fac=function(i){return new(i||t)(e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(a.F0),e.\u0275\u0275directiveInject(p.g),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(u.e),e.\u0275\u0275directiveInject(h.B),e.\u0275\u0275directiveInject(f.dL))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-login"]],decls:46,vars:11,consts:[[1,"kt-grid","kt-grid--ver","kt-grid--root","kt-page"],["id","kt_login",1,"kt-grid","kt-grid--hor","kt-grid--root","kt-login","kt-login--v6","kt-login--signin","h-100"],[1,"kt-grid__item","kt-grid__item--fluid","kt-grid","kt-grid--desktop","kt-grid--ver-desktop","kt-grid--hor-tablet-and-mobile"],[1,"kt-grid__item","kt-grid__item--fluid","kt-grid__item--center","kt-grid","kt-grid--ver","kt-login__content",2,"background-image","url(assets/images/login-banner.jpg)"],[1,"kt-login__section"],[1,"kt-login__block"],[1,"kt-login__desc"],[1,"kt-grid__item","kt-grid__item--order-tablet-and-mobile-2","kt-grid","kt-grid--hor","kt-login__aside","p-0"],[1,"kt-login__wrapper"],[1,"kt-login__container"],[1,"kt-login__body",2,"padding","25px 30px","border-radius","5px"],[1,"kt-login__logo","mb-4"],["href","#"],[1,"kt-login__signin"],[1,"kt-login__head"],[2,"font-size","2rem","color","#67666e"],[1,"kt-login__form"],["action","",1,"kt-form",3,"formGroup","ngSubmit"],[1,"form-group","mb-4",3,"ngClass"],["type","text","placeholder","UserName","autocomplete","off","formControlName","userid",1,"form-control"],["class","help-block",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"form-group",3,"ngClass"],["type","password","placeholder","Password","formControlName","password",1,"form-control",3,"keypress"],["class","text-center error","class","text-danger",4,"ngIf"],[1,"kt-login__actions"],["id","kt_login_signin_submit","type","submit",1,"btn","btn-primary","kt-btn","px-5",2,"height","38px"],[1,"kt-login__forgot"],[1,"kt-login__title"],["action","",1,"kt-form"],[1,"form-group"],["type","text","placeholder","Email","name","email","id","kt_email","autocomplete","off",1,"form-control"],["id","kt_login_forgot_submit",1,"btn","btn-brand","btn-pill","btn-elevate"],["id","kt_login_forgot_cancel",1,"btn","btn-outline-brand","btn-pill"],[1,"help-block"],["class","text-info",4,"ngIf"],[1,"text-info"],[1,"text-danger"]],template:function(i,n){1&i&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e.\u0275\u0275element(7,"br"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11),e.\u0275\u0275element(13,"a",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",13)(15,"div",14)(16,"h2",15),e.\u0275\u0275text(17,"Sign In "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"div",16)(19,"form",17),e.\u0275\u0275listener("ngSubmit",function(){return n.login()}),e.\u0275\u0275elementStart(20,"div",18),e.\u0275\u0275element(21,"input",19),e.\u0275\u0275template(22,_,2,1,"div",20),e.\u0275\u0275template(23,I,3,0,"p",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",22)(25,"input",23),e.\u0275\u0275listener("keypress",function(){return n.OnKeyPress()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(26,b,2,1,"div",20),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(27,y,3,1,"p",24),e.\u0275\u0275elementStart(28,"div",25)(29,"button",26),e.\u0275\u0275text(30,"Sign In"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(31,"div",27)(32,"div",14)(33,"h3",28),e.\u0275\u0275text(34,"Forgotten Password ?"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"div",6),e.\u0275\u0275text(36,"Enter your email to reset your password:"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(37,"div",16)(38,"form",29)(39,"div",30),e.\u0275\u0275element(40,"input",31),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"div",25)(42,"button",32),e.\u0275\u0275text(43,"Request"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"button",33),e.\u0275\u0275text(45,"Cancel"),e.\u0275\u0275elementEnd()()()()()()()()()()()()),2&i&&(e.\u0275\u0275advance(19),e.\u0275\u0275property("formGroup",n.loginForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(7,g,n.submitted&&n.f.userid.errors)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.submitted&&n.f.userid.errors),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.InValidUserName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(9,g,n.submitted&&n.f.password.errors)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.submitted&&n.f.password.errors),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.message))},dependencies:[l.mk,l.O5,o._Y,o.Fj,o.JJ,o.JL,o.F,o.sg,o.u],styles:["@media only screen and (min-width: 1024px){.h-100[_ngcontent-%COMP%]{height:100vh!important}}#kt_login_signin_submit[_ngcontent-%COMP%]{background-color:#5867dd;border-color:#5867dd;color:#fff}"]}),t})()}];let S=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[a.Bz.forChild(C),a.Bz]}),t})(),L=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[l.ez,o.u5,o.UX,S]}),t})()}}]);