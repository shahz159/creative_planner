"use strict";(self.webpackChunkAngularArchitecture=self.webpackChunkAngularArchitecture||[]).push([[8637],{88637:(re,g,l)=>{l.r(g),l.d(g,{ActionToProjectModule:()=>q});var u=l(36895),c=l(24006),p=l(28729),C=l(80529),b=l(9962),v=l(12359),E=l(35226),m=l.n(E),D=l(15439),e=l(94650),j=l(32278),S=l(14455),T=l(65938),P=l(3238),w=l(77585),A=l(32444),y=l(80872),N=l(6075),h=l(99602),_=l(64537);function M(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"ng-option",47),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const n=a.$implicit;e.\u0275\u0275property("value",n.Project_Code),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.Project_Name," ")}}function k(o,a){1&o&&(e.\u0275\u0275elementStart(0,"span",48),e.\u0275\u0275text(1,"Project required!"),e.\u0275\u0275elementEnd())}function x(o,a){1&o&&(e.\u0275\u0275elementStart(0,"span",48),e.\u0275\u0275text(1,"Action Name required!"),e.\u0275\u0275elementEnd())}function O(o,a){1&o&&(e.\u0275\u0275elementStart(0,"span",48),e.\u0275\u0275text(1,"Description required!"),e.\u0275\u0275elementEnd())}function I(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"ng-option",47),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const n=a.$implicit;e.\u0275\u0275property("value",n.Emp_No),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.DisplayName," ")}}function F(o,a){1&o&&(e.\u0275\u0275elementStart(0,"span",48),e.\u0275\u0275text(1,"Assign To required!"),e.\u0275\u0275elementEnd())}function B(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"ng-option",47),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const n=a.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n," ")}}function R(o,a){1&o&&(e.\u0275\u0275elementStart(0,"span",48),e.\u0275\u0275text(1,"Start Date required!"),e.\u0275\u0275elementEnd())}function L(o,a){1&o&&(e.\u0275\u0275elementStart(0,"span",48),e.\u0275\u0275text(1,"End Date required!"),e.\u0275\u0275elementEnd())}function U(o,a){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",27)(1,"label"),e.\u0275\u0275text(2,"End Date :"),e.\u0275\u0275elementStart(3,"span",11),e.\u0275\u0275text(4,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",49)(6,"input",50,51),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const i=e.\u0275\u0275reference(11);return e.\u0275\u0275resetView(i.open())})("ngModelChange",function(i){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r._EndDate=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",31),e.\u0275\u0275element(9,"mat-datepicker-toggle",32)(10,"mat-datepicker",null,52),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(12,L,2,0,"span",15),e.\u0275\u0275elementEnd()}if(2&o){const n=e.\u0275\u0275reference(11),t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("matDatepicker",n)("min",t._StartDate)("ngModel",t._EndDate),e.\u0275\u0275advance(3),e.\u0275\u0275property("for",n),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",1==t._edate)}}function V(o,a){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",27)(1,"label"),e.\u0275\u0275text(2,"End Date :"),e.\u0275\u0275elementStart(3,"span",11),e.\u0275\u0275text(4,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",28),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.enddateChecker())}),e.\u0275\u0275elementStart(6,"input",53,51),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const i=e.\u0275\u0275reference(11);return e.\u0275\u0275resetView(i.open())})("ngModelChange",function(i){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r._EndDate=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",31),e.\u0275\u0275element(9,"mat-datepicker-toggle",32)(10,"mat-datepicker",null,52),e.\u0275\u0275elementEnd()()()}if(2&o){const n=e.\u0275\u0275reference(11),t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("matDatepicker",n)("matDatepickerFilter",t.myFilter)("ngModel",t._EndDate),e.\u0275\u0275advance(3),e.\u0275\u0275property("for",n)}}function G(o,a){1&o&&(e.\u0275\u0275elementStart(0,"span",11),e.\u0275\u0275text(1,"*"),e.\u0275\u0275elementEnd())}function Y(o,a){1&o&&(e.\u0275\u0275elementStart(0,"span",48),e.\u0275\u0275text(1,"Allocated hours required!"),e.\u0275\u0275elementEnd())}function z(o,a){1&o&&(e.\u0275\u0275elementStart(0,"span",48),e.\u0275\u0275text(1,"*Allocation per day limit is 10 hours."),e.\u0275\u0275elementEnd())}function H(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"span",48),e.\u0275\u0275text(1,"Please enter the hours less than or equal to "),e.\u0275\u0275elementStart(2,"b"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(4," hours!"),e.\u0275\u0275elementEnd()),2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.maxAllocation)}}function J(o,a){1&o&&(e.\u0275\u0275elementStart(0,"span",48),e.\u0275\u0275text(1,"*Allocated hours cannot be 0, please enter a value."),e.\u0275\u0275elementEnd())}function $(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"span",48),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n._message)}}function Q(o,a){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",54),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.sweetAlert())}),e.\u0275\u0275text(1,"Submit "),e.\u0275\u0275elementEnd()}if(2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("disabled",!n.Sub_ProjectName||!n._Description||!n.selectedEmpNo||!n._StartDate||!n._EndDate||!n._allocated||n._allocated>n.maxAllocation)}}function W(o,a){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",54),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.sweetAlert())}),e.\u0275\u0275text(1,"Submit "),e.\u0275\u0275elementEnd()}if(2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("disabled",!n.Sub_ProjectName||!n._Description||!n.selectedEmpNo||!n._StartDate||!n._EndDate||n._allocated>n.maxAllocation)}}const X=[{path:"",component:(()=>{class o{constructor(n,t,i,r,s,f,ee,te,ne,oe,ie){this.notifyService=n,this.ProjectTypeService=t,this.router=i,this.dialog=r,this.dateAdapter=s,this.BsService=f,this.service=ee,this._projectunplanned=te,this._Todoproject=ne,this._MoreDetails=oe,this.route=ie,this.Sub_ProjectName=null,this._Description=null,this._StartDate=null,this._EndDate=null,this._inputAttachments=[],this.selectedEmpNo=null,this._MainPrjectName="",this.dropdownSettings_EMP={},this.disablePreviousDate=new Date,this.task_id=null,this.ProjectsDropdownBoolean=!1,this._MasterCode=null,this.ProjectBlock=null,this.selectedFile=null,this.dropdownSettings_Projects={},this.cat_name="",this._EmployeeListForDropdown=[],this.ownerArr=[],this.selected_Employee=[],this.maxlimit=!0,this.isHierarchy=!1,this.CurrentUser_ID=localStorage.getItem("EmpNo"),this.ObjSubTaskDTO=new b.M,this.ObjUserDetails=new v.O,this.disablePreviousDate.setDate(this.disablePreviousDate.getDate()),this.BsService.bs_projectCode.subscribe(d=>this.pcode=d),this.BsService.bs_ProjectName.subscribe(d=>this._MainPrjectName=d),this.BsService.bs_AssignId.subscribe(d=>this.task_id=d),this.BsService.bs_TaskName.subscribe(d=>{this.Sub_ProjectName=d}),this._inputAttachments=[],this._projcode=!1,this._desbool=!1,this._subname=!1,this._sdate=!1,this._edate=!1,this._selectemp=!1}ngOnInit(){this._projcode=!1,this._desbool=!1,this._subname=!1,this._sdate=!1,this._edate=!1,this._selectemp=!1,this._Urlid=this.route.snapshot.params.id,this.BsService.bs_catId.subscribe(t=>{this.cat_id=t}),this.BsService.bs_catName.subscribe(t=>{this.cat_name=t}),this.Current_user_ID=localStorage.getItem("EmpNo"),this.GetAllEmployeesForAssignDropdown(),this.gethierarchy(),document.getElementById("hour-input").addEventListener("wheel",function(t){t.preventDefault()})}GetAllEmployeesForAssignDropdown(){this.ownerArr=[];let n={pagenumber:1,Emp_No:this.CurrentUser_ID,Mode:"AssignedTask"};this.BsService.bs_projectCode.subscribe(t=>{null==t?(this.ProjectsDropdownBoolean=!1,this.GetProjectsByUserName(),this._MasterCode=null):(this._MasterCode=t,this.ProjectsDropdownBoolean=!0,this.selectedProjectCode=t,this.service.GetDeadlineByProjectCode(this.selectedProjectCode).subscribe(i=>{this.ProjectDeadLineDate=i.DeadLine,this.ProjectStartDate=i.StartDate,this.Owner_Empno=i.Owner_empno,this.Resp_empno=i.Resp_empno,this.Autho_empno=i.Autho_empno;const r=new Date(this.disablePreviousDate);new Date(this.ProjectStartDate)>r&&(this.disablePreviousDate=this.ProjectStartDate)}))}),this.service._GetCompletedProjects(n).subscribe(t=>{this._EmployeeListForDropdown=JSON.parse(t[0].EmployeeList),this._EmployeeListForDropdown.forEach(i=>{this.Current_user_ID!=this.Owner_Empno?(i.Emp_No==this.Current_user_ID&&(this.CurrentUser_Name=i.DisplayName,this.ownerArr.push(this.CurrentUser_Name)),i.Emp_No==this.Owner_Empno&&(this.ownerName=i.DisplayName,this.ownerArr.push(this.ownerName)),i.Emp_No==this.Resp_empno&&i.Emp_No!=this.Current_user_ID&&(this.RespName=i.DisplayName,this.ownerArr.push(this.RespName))):this.Current_user_ID==this.Owner_Empno&&(i.Emp_No==this.Owner_Empno&&(this.ownerName=i.DisplayName,this.ownerArr.push(this.ownerName)),i.Emp_No==this.Resp_empno&&(this.RespName=i.DisplayName,this.ownerArr.push(this.RespName)))}),console.log(this.ownerArr,this.Resp_empno,this.Owner_Empno,"owners"),this.dropdownSettings_EMP={searchAutofocus:!0,singleSelection:!0,idField:"Emp_No",textField:"DisplayName",itemsShowLimit:2,closeDropDownOnSelection:!0,allowSearchFilter:!0}})}onFilterChange(n){this.filterText=n,this.GetProjectsByUserName()}ProjectOnSelect(){this.ownerArr=[];let n={pagenumber:1,Emp_No:this.CurrentUser_ID,Mode:"AssignedTask"};this.selectedProjectCode=this.selectedProjectCodelist,this.service.GetDeadlineByProjectCode(this.selectedProjectCode).subscribe(t=>{this.ProjectDeadLineDate=t.DeadLine,this.ProjectStartDate=t.StartDate,this.Owner_Empno=t.Owner_empno,this.Resp_empno=t.Resp_empno,this.Autho_empno=t.Autho_empno;const i=new Date(this.disablePreviousDate);new Date(this.ProjectStartDate)>i&&(this.disablePreviousDate=this.ProjectStartDate)}),this.service._GetCompletedProjects(n).subscribe(t=>{this._EmployeeListForDropdown=JSON.parse(t[0].EmployeeList),this._EmployeeListForDropdown.forEach(i=>{this.Current_user_ID!=this.Owner_Empno?(i.Emp_No==this.Current_user_ID&&(this.CurrentUser_Name=i.DisplayName,this.ownerArr.push(this.CurrentUser_Name)),i.Emp_No==this.Owner_Empno&&(this.ownerName=i.DisplayName,this.ownerArr.push(this.ownerName)),i.Emp_No==this.Resp_empno&&i.Emp_No!=this.Current_user_ID&&(this.RespName=i.DisplayName,this.ownerArr.push(this.RespName))):this.Current_user_ID==this.Owner_Empno&&(i.Emp_No==this.Owner_Empno&&(this.ownerName=i.DisplayName,this.ownerArr.push(this.ownerName)),i.Emp_No==this.Resp_empno&&(this.RespName=i.DisplayName,this.ownerArr.push(this.RespName)))}),console.log(this.ownerArr,this.Resp_empno,this.Owner_Empno,"owners"),this.dropdownSettings_EMP={searchAutofocus:!0,singleSelection:!0,idField:"Emp_No",textField:"DisplayName",itemsShowLimit:2,closeDropDownOnSelection:!0,allowSearchFilter:!0}})}ProjectOnDeselect(n){this.selectedProjectCode=""}GetProjectsByUserName(){this.ObjUserDetails.PageNumber=1,this.ObjUserDetails.PageSize=30,this.ObjUserDetails.SearchText=this.filterText,this.service.GetProjectsForRunwayTaskDropdown(this.ObjUserDetails).subscribe(n=>{this._ProjectDataList=JSON.parse(n[0].DropdownProjects_Json),this.Owner_Empno=this._ProjectDataList[0].Owner_EmpNo,this.dropdownSettings_Projects={singleSelection:!0,idField:"Project_Code",textField:"Project_Name",itemsShowLimit:1,allowSearchFilter:!0,closeDropDownOnSelection:!0,clearSearchFilter:!0,searchPlaceholderText:"Search by project name",maxHeight:"500px",allowRemoteDataSearch:!0,noDataAvailablePlaceholderText:"Please wait.."}})}onFileChange(n){this._inputAttachments=[...this._inputAttachments,{FileName:n.target.files[0].name,Size:n.target.files[0].size,Files:n.target.files[0]}]}EmployeeOnSelect(n){this.selectedEmpNo=n}EmployeeOnDeselect(n){this.selectedEmpNo=null}alertMaxAllocation(){if(null==this._StartDate||null==this._EndDate)this._message="Start Date/End date missing!!";else{var t=(this._StartDate.getTime()-this._EndDate.getTime())/864e5;0==t&&(t=-1),this.maxAllocation=10*-t/1}}OnSubmit(){return 2!=this._Urlid||null!=this.selectedProjectCodelist&&null!=this.selectedProjectCodelist?""==this._Description||null==this._Description||null==this._Description?(this._desbool=!0,!1):""==this.Sub_ProjectName||null==this.Sub_ProjectName||null==this.Sub_ProjectName?(this._subname=!0,!1):null==this._StartDate||null==this._StartDate||null==this._StartDate?(this._sdate=!0,!1):null==this._EndDate||null==this._EndDate||null==this._EndDate?(this._edate=!0,!1):""==this.selectedEmpNo||null==this.selectedEmpNo||null==this.selectedEmpNo?(this._selectemp=!0,!1):(null==this.owner||null==this.owner||""==this.owner?this.ownerNo=null:this.owner==this.CurrentUser_Name?this.ownerNo=this.Current_user_ID:this.owner==this.ownerName?this.ownerNo=this.Owner_Empno:this.owner==this.RespName&&(this.ownerNo=this.Resp_empno),null==this._MasterCode?(this.ObjSubTaskDTO.MasterCode=this.selectedProjectCode,this._MasterCode=this.selectedProjectCode):this.ObjSubTaskDTO.MasterCode=this._MasterCode,void this.service._GetNewProjectCode(this.ObjSubTaskDTO).subscribe(n=>{this.Sub_ProjectCode=n.SubTask_ProjectCode,this.EmpNo_Autho=n.Team_Autho,this.ProjectBlock=n.ProjectBlock,null!=this.task_id?this.ObjSubTaskDTO.AssignId=this.task_id:this.task_id=0,this.ObjSubTaskDTO.SubProject_Name=this.Sub_ProjectName,this.ObjSubTaskDTO.SubtaskDescription=this._Description,this.ObjSubTaskDTO.ProjectBlock=this.ProjectBlock,this.ObjSubTaskDTO.StartDate=this._StartDate,this.ObjSubTaskDTO.SubProject_DeadLine=this._EndDate,this.maxAllocation=8*this.maxAllocation/1,this.ObjSubTaskDTO.Emp_No=this.CurrentUser_ID,this.ObjSubTaskDTO.AssignTo=this.selectedEmpNo,this.ObjSubTaskDTO.Remarks=this._remarks,this.ObjSubTaskDTO.Duration=this._allocated,this._inputAttachments.length>0&&(this.ObjSubTaskDTO.Attachments=this._inputAttachments[0].Files);var t=D(this._StartDate).format("MM/DD/YYYY"),i=D(this._EndDate).format("MM/DD/YYYY");console.log(t,this._StartDate,"startdate"),console.log(i,this._EndDate,"enddate");const r=new FormData;r.append("Project_Code",this.Sub_ProjectCode),r.append("Team_Autho",this.EmpNo_Autho),this._inputAttachments.length>0?(r.append("Attachment","true"),r.append("file",this._inputAttachments[0].Files)):(r.append("Attachment","false"),r.append("file","")),r.append("_MasterCode",this.ObjSubTaskDTO.MasterCode),r.append("SubtaskName",this.Sub_ProjectName),r.append("Desc",this._Description),r.append("Projectblock",this.ProjectBlock),r.append("StartDate",t),r.append("EndDate",i),r.append("Emp_No",this.CurrentUser_ID),r.append("AssignTo",this.selectedEmpNo),r.append("Remarks",this._remarks),r.append("EmployeeName",localStorage.getItem("UserfullName")),r.append("AssignId",this.task_id.toString()),r.append("Owner",this.ownerNo),null!=this.ObjSubTaskDTO.Duration?r.append("Duration",this.ObjSubTaskDTO.Duration.toString()):this.ObjSubTaskDTO.Duration=0,this.service._InsertNewSubtask(r).subscribe(s=>{if(s.type===C.dt.Response){var f=JSON.stringify(s);this._Message=JSON.parse(f).body.Message,"1"==this._Message?this.notifyService.showSuccess("Action created successfully","Success"):this.notifyService.showError("Something went wrong","Action not created")}1==this._Urlid?(this._Todoproject.CallOnSubmitAction(),this.Clear_Feilds(),this.closeInfo(),this._inputAttachments=[]):2==this._Urlid?(this._projectunplanned.getCatid(),this.Clear_Feilds(),this.closeInfo(),this._inputAttachments=[]):(this._MoreDetails.GetProjectDetails(),this._MoreDetails.GetSubtask_Details(),this.Clear_Feilds(),this.closeInfo(),this._inputAttachments=[])})})):(this._projcode=!0,!1)}convert(n){var t=new Date(n),i=("0"+(t.getMonth()+1)).slice(-2);return[("0"+t.getDate()).slice(-2),i,t.getFullYear()].join("-")}gethierarchy(){this.service.GetHierarchyofOwnerforMoredetails(this.Current_user_ID,this.pcode).subscribe(n=>{this.isHierarchy="1"==n.message})}sweetAlert(){new Date(this._EndDate).toUTCString(),new Date(this.ProjectDeadLineDate).toUTCString();const i=new Date(this._EndDate),r=new Date(this.ProjectDeadLineDate);r<i&&(this.Current_user_ID==this.Owner_Empno||this.Current_user_ID==this.Resp_empno||this.Current_user_ID==this.Autho_empno||1==this.isHierarchy)?m().fire({title:"Action deadLine is greater than main project deadLine ?",text:"Do you want to continue for selection of date after main project deadLine!!",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(s=>{s.value?this.OnSubmit():s.dismiss===m().DismissReason.cancel&&m().fire("Cancelled","Action not created","error")}):r<i&&this.Current_user_ID!=this.Owner_Empno&&this.Current_user_ID!=this.Resp_empno&&this.Current_user_ID!=this.Autho_empno&&0==this.isHierarchy?m().fire({title:"Unable to create this action.",text:"You have selected the action end date greater than project deadline. Please contact the project responsible to extend project end date and try again."}):this.OnSubmit()}closeInfo(){this.router.navigate(2==this._Urlid?["UnplannedTask/"]:1==this._Urlid?["./backend/ToDoProjects/"]:["./MoreDetails",this.selectedProjectCode]),this.Clear_Feilds(),document.getElementById("mysideInfobar").classList.remove("kt-action-panel--on"),document.getElementsByClassName("side_view")[0].classList.remove("position-fixed"),document.getElementById("rightbar-overlay").style.display="none",document.getElementById("mysideInfobar1").classList.remove("kt-action-panel--on")}Clear_Feilds(){this.selectedProjectCodelist=[],this.Sub_ProjectCode=null,this.Sub_ProjectName=null,this._Description=null,this._projcode=!1,this._desbool=!1,this._subname=!1,this._sdate=!1,this._edate=!1,this._selectemp=!1,this._StartDate=null,this._EndDate=null,this._remarks="",this._allocated=null,this._inputAttachments=[],this._inputAttachments2=[],this.selectedEmpNo="",this.selected_Employee=[],document.getElementById("uploadFile").value=""}startdatechecker(){this._sdate=!1,this._EndDate=null}enddateChecker(){this._sdate=!0,this.myFilter=n=>{const t=(n||new Date).getDay();return 0!==t&&1!==t&&2!==t&&3!==t&&4!==t&&5!==t&&6!==t&&7!==t}}}return o.\u0275fac=function(n){return new(n||o)(e.\u0275\u0275directiveInject(j.g),e.\u0275\u0275directiveInject(S.B),e.\u0275\u0275directiveInject(p.F0),e.\u0275\u0275directiveInject(T.uw),e.\u0275\u0275directiveInject(P._A),e.\u0275\u0275directiveInject(w.o),e.\u0275\u0275directiveInject(S.B),e.\u0275\u0275directiveInject(A.j),e.\u0275\u0275directiveInject(y.I),e.\u0275\u0275directiveInject(N.$),e.\u0275\u0275directiveInject(p.gz))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-action-to-project"]],decls:95,vars:31,consts:[[1,"kt-portlet"],[1,"kt-portlet__head"],[1,"offcanvas-header","d-flex","align-items-center","justify-content-between","flex-1"],[1,"m-0"],["href","javascript:void(0)",1,"btn","btn-icon","btn-hover-info",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24","height","24","fill","currentColor"],["fill","none","d","M0 0h24v24H0z"],["d","M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"],[1,"kt-portlet__body","pb-0","pt-3","sidehf_scroll","scroll-y"],[1,"pro-nm","text-info","mb-2"],[1,"form-group",3,"hidden"],[1,"text-danger"],["reuired","","placeholder","Select project",3,"ngModel","change","ngModelChange"],["action","ngModel"],[3,"value",4,"ngFor","ngForOf"],["style","color:red",4,"ngIf"],[1,"form-group"],["required","","type","text","placeholder","Enter action name","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["required","","placeholder","Enter action description",1,"form-control",2,"height","100px",3,"ngModel","ngModelChange"],["description","ngModel"],[1,"form-group","text-dark-50","w-75px","flex-grow-1","brdng-0"],["reuired","","placeholder","Select employee",3,"ngModel","Change","ngModelChange"],["assign","ngModel"],["reuired","","placeholder","Select owner",3,"ngModel","ngModelChange"],["ownerno","ngModel"],[1,"d-flex","gap-1"],[1,"form-group","flex-1"],[1,"input-group",3,"click"],["matInput","","required","","placeholder","Start date",1,"form-control",3,"matDatepicker","min","ngModel","click","ngModelChange"],["startdate","ngModel"],[1,"input-group-text","p-0"],["matSuffix","",3,"for"],["picker1",""],["class","form-group flex-1",4,"ngIf"],["class","text-danger",4,"ngIf"],["id","hour-input","required","","type","number","placeholder","Enter action duration in hrs","min","0","oninput","validity.valid||(value='');",1,"form-control",3,"ngModel","ngModelChange","click"],["allocated","ngModel"],["for","exampleFormControlFile1"],["aria-label","With textarea","placeholder","Enter action remarks if any",1,"form-control",2,"height","111px",3,"ngModel","ngModelChange"],[1,"custom-file","pl-1"],["type","file","id","uploadFile","accept","application/pdf",1,"form-control-file",3,"change"],[1,"kt-portlet__foot","py-3"],[1,"form-group","mb-0"],["type","submit","class","btn btn-info btn-sm",3,"disabled","click",4,"ngIf"],["type","submit","class","btn  btn-info btn-sm",3,"disabled","click",4,"ngIf"],["type","submit",1,"btn","btn-secondary","btn-sm","ml-2",3,"click"],[3,"value"],[2,"color","red"],[1,"input-group"],["matInput","","required","","placeholder","End date",1,"form-control",3,"matDatepicker","min","ngModel","click","ngModelChange"],["Enddate","ngModel"],["picker2",""],["matInput","","required","","placeholder","End Date",1,"form-control",3,"matDatepicker","matDatepickerFilter","ngModel","click","ngModelChange"],["type","submit",1,"btn","btn-info","btn-sm",3,"disabled","click"]],template:function(n,t){if(1&n){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e.\u0275\u0275text(4,"Action To Project"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"a",4),e.\u0275\u0275listener("click",function(){return t.closeInfo()}),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(6,"svg",5),e.\u0275\u0275element(7,"path",6)(8,"path",7),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(9,"div",8)(10,"h5",9),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",10)(13,"label"),e.\u0275\u0275text(14,"Select Project :"),e.\u0275\u0275elementStart(15,"span",11),e.\u0275\u0275text(16,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"ng-select",12,13),e.\u0275\u0275listener("change",function(){return t.ProjectOnSelect()})("ngModelChange",function(s){return t.selectedProjectCodelist=s}),e.\u0275\u0275template(19,M,2,2,"ng-option",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,k,2,0,"span",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",16)(22,"label"),e.\u0275\u0275text(23," Action Name "),e.\u0275\u0275elementStart(24,"span",11),e.\u0275\u0275text(25,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(26,"input",17,18),e.\u0275\u0275listener("ngModelChange",function(s){return t.Sub_ProjectName=s}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(28,x,2,0,"span",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",16)(30,"label"),e.\u0275\u0275text(31,"Description :"),e.\u0275\u0275elementStart(32,"span",11),e.\u0275\u0275text(33,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(34,"textarea",19,20),e.\u0275\u0275listener("ngModelChange",function(s){return t._Description=s}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(36,O,2,0,"span",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"div",21)(38,"label"),e.\u0275\u0275text(39," Assign To "),e.\u0275\u0275elementStart(40,"span",11),e.\u0275\u0275text(41,"*"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(42," : "),e.\u0275\u0275element(43,"strong"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"ng-select",22,23),e.\u0275\u0275listener("Change",function(s){return t.EmployeeOnSelect(s)})("ngModelChange",function(s){return t.selectedEmpNo=s}),e.\u0275\u0275template(46,I,2,2,"ng-option",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(47,F,2,0,"span",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"div",21)(49,"label"),e.\u0275\u0275text(50,"Action Owner : "),e.\u0275\u0275element(51,"strong"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"ng-select",24,25),e.\u0275\u0275listener("ngModelChange",function(s){return t.owner=s}),e.\u0275\u0275template(54,B,2,2,"ng-option",14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(55,"div",26)(56,"div",27)(57,"label"),e.\u0275\u0275text(58,"Start Date : "),e.\u0275\u0275elementStart(59,"span",11),e.\u0275\u0275text(60,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(61,"div",28),e.\u0275\u0275listener("click",function(){return t.startdatechecker()}),e.\u0275\u0275elementStart(62,"input",29,30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const s=e.\u0275\u0275reference(67);return e.\u0275\u0275resetView(s.open())})("ngModelChange",function(s){return t._StartDate=s}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(64,"div",31),e.\u0275\u0275element(65,"mat-datepicker-toggle",32)(66,"mat-datepicker",null,33),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(68,R,2,0,"span",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(69,U,13,5,"div",34),e.\u0275\u0275template(70,V,12,4,"div",34),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(71,"div",16)(72,"label"),e.\u0275\u0275text(73,"Allocated Hours"),e.\u0275\u0275template(74,G,2,0,"span",35),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(75,"input",36,37),e.\u0275\u0275listener("ngModelChange",function(s){return t._allocated=s})("click",function(){return t.alertMaxAllocation()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(77,Y,2,0,"span",15),e.\u0275\u0275template(78,z,2,0,"span",15),e.\u0275\u0275template(79,H,5,1,"span",15),e.\u0275\u0275template(80,J,2,0,"span",15),e.\u0275\u0275template(81,$,2,1,"span",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(82,"div",16)(83,"label",38),e.\u0275\u0275text(84,"Remarks"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(85,"textarea",39),e.\u0275\u0275listener("ngModelChange",function(s){return t._remarks=s}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(86,"div",16)(87,"div",40)(88,"input",41),e.\u0275\u0275listener("change",function(s){return t.onFileChange(s)}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(89,"div",42)(90,"div",43),e.\u0275\u0275template(91,Q,2,1,"button",44),e.\u0275\u0275template(92,W,2,1,"button",45),e.\u0275\u0275elementStart(93,"button",46),e.\u0275\u0275listener("click",function(){return t.closeInfo()}),e.\u0275\u0275text(94,"close"),e.\u0275\u0275elementEnd()()()()}if(2&n){const i=e.\u0275\u0275reference(67),r=e.\u0275\u0275reference(76);e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate(t._MainPrjectName),e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",t.ProjectsDropdownBoolean),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.selectedProjectCodelist),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t._ProjectDataList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1==t._projcode),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngModel",t.Sub_ProjectName),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",1==t._subname),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngModel",t._Description),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",1==t._desbool),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngModel",t.selectedEmpNo),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t._EmployeeListForDropdown),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1==t._selectemp),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.owner),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.ownerArr),e.\u0275\u0275advance(8),e.\u0275\u0275property("matDatepicker",i)("min",t.disablePreviousDate)("ngModel",t._StartDate),e.\u0275\u0275advance(3),e.\u0275\u0275property("for",i),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",1==t._sdate),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t._StartDate),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t._StartDate),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.selectedEmpNo==t.Current_user_ID),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",t._allocated),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.selectedEmpNo==t.Current_user_ID&&r.touched&&r.invalid),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t._allocated>t.maxAllocation),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t._allocated>t.maxAllocation),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0==t._allocated),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t._StartDate||null==t._EndDate),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",t._remarks),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",t.selectedEmpNo==t.Current_user_ID),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selectedEmpNo!=t.Current_user_ID)}},dependencies:[u.sg,u.O5,c.Fj,c.wV,c.JJ,c.Q7,c.qQ,c.On,h.Mq,h.hl,h.nW,_.w9,_.xv],styles:["input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),o})()}];let Z=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[p.Bz.forChild(X),p.Bz]}),o})();var K=l(77937);let q=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({providers:[j.g],imports:[u.ez,Z,K.ZQ,c.u5,c.UX,h.FA,_.A0]}),o})()}}]);