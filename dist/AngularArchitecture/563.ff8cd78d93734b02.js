"use strict";(self.webpackChunkAngularArchitecture=self.webpackChunkAngularArchitecture||[]).push([[563],{82563:(N,g,r)=>{r.r(g),r.d(g,{LoginModule:()=>w});var d=r(36895),o=r(24006),m=r(28729),p=r(97661),e=r(94650),u=r(32278),h=r(83827),f=r(14455),v=r(45798);function _(t,s){1&t&&(e.\u0275\u0275elementStart(0,"div",42)(1,"b"),e.\u0275\u0275text(2,"UserName is required !"),e.\u0275\u0275elementEnd()())}function k(t,s){if(1&t&&(e.\u0275\u0275elementStart(0,"div",40),e.\u0275\u0275template(1,_,3,0,"div",41),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.f.userid.errors.required)}}function I(t,s){1&t&&(e.\u0275\u0275elementStart(0,"p",43)(1,"strong"),e.\u0275\u0275text(2,"In Correct UserName"),e.\u0275\u0275elementEnd()())}function y(t,s){1&t&&(e.\u0275\u0275elementStart(0,"div",42)(1,"b"),e.\u0275\u0275text(2,"Password is required !"),e.\u0275\u0275elementEnd()())}function C(t,s){if(1&t&&(e.\u0275\u0275namespaceSVG(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(0,"div",40),e.\u0275\u0275template(1,y,3,0,"div",41),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.f.password.errors.required)}}function L(t,s){if(1&t&&(e.\u0275\u0275namespaceSVG(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(0,"p",43)(1,"strong"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.message)}}const c=function(t){return{"has-error":t}},b=[{path:"",component:(()=>{class t{constructor(n,i,a,l,E,x,M){this.formBuilder=n,this.router=i,this.notifyService=a,this.cd=l,this.authService=E,this.service=x,this.loadingBar=M,this.submitted=!1,this.isLoading=!1,this.InValidPassword=!1,this.InValidUserName=!1,this.dashboardUrl="backend/dashboard",this.policyUrl="userpolicy",this.cosnt_Loadingbar=this.loadingBar.useRef("http"),this.Obj_ILoginDTO=new p.M,this.loginForm=this.formBuilder.group({userid:["",o.kI.required],password:["",o.kI.required]})}ngOnInit(){this.authService.logout(),$(".showOrHide").on("click",function(a){var l=a.currentTarget;$(l).hasClass("showp")?function n(a){a.removeClass("showp").addClass("hide"),a.prev("input").attr("type","password")}($(l)):function i(a){a.removeClass("hide").addClass("showp"),a.prev("input").attr("type","text")}($(l))})}get f(){return this.loginForm.controls}OnKeyPress(){this.InValidPassword=!1,this.InValidUserName=!1,this.message=""}login(){this.submitted=!0,!this.loginForm.invalid&&(this.Obj_ILoginDTO.UserName=this.f.userid.value,this.Obj_ILoginDTO.Password=this.f.password.value,this.service.LoginCredentials(this.Obj_ILoginDTO).subscribe(n=>{this.UserDetails_List=n,this.message=this.UserDetails_List[0].Message,this.DB_username=this.UserDetails_List[0].UserName.toLowerCase(),this.DB_password=this.UserDetails_List[0].Password,this.User_FullName=this.UserDetails_List[0].TM_DisplayName,this.IsPolicy=this.UserDetails_List[0].IsPolicy,this.f.userid.value.toLowerCase()==this.DB_username&&this.f.password.value==this.DB_password?(localStorage.setItem("isLoggedIn","true"),this.InValidPassword=!1,this.cd.detectChanges(),this.EmpNo=n[0].Emp_No,localStorage.setItem("EmpNo",this.EmpNo),this.EmpCompNo=n[0].Emp_Comp_No.replace(/\s/g,""),this.SystemRole=n[0].Emp_SystemRole,this.OrganizationId=n[0].OrganizationId,sessionStorage.setItem("Emp_Email",n[0].Emp_Email),sessionStorage.setItem("Session_EmpNo",this.EmpNo),sessionStorage.setItem("EmpCompNo",this.EmpCompNo),localStorage.setItem("UserfullName",this.User_FullName),localStorage.setItem("_Currentuser",this.DB_username),localStorage.setItem("OrganizationId",this.OrganizationId),1==this.IsPolicy?(this.router.navigate([this.dashboardUrl]),this.notifyService.showInfo(this.User_FullName+"  ","Login By :"),this.notifyService.showSuccess("Successfully","Logged In"),this.InValidPassword=!1,this.cd.detectChanges()):0==this.IsPolicy&&(this.router.navigate([this.policyUrl]),this.InValidPassword=!1,this.cd.detectChanges())):(this.InValidPassword=!0,console.log("Invalid Login"),this.authService.logout(),localStorage.removeItem("EmpNo"),this.cd.detectChanges())}))}}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(m.F0),e.\u0275\u0275directiveInject(u.g),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(h.e),e.\u0275\u0275directiveInject(f.B),e.\u0275\u0275directiveInject(v.dL))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-login"]],decls:53,vars:11,consts:[[1,"kt-grid","kt-grid--ver","kt-grid--root","kt-page"],["id","kt_login",1,"kt-grid","kt-grid--hor","kt-grid--root","kt-login","kt-login--v6","kt-login--signin","h-100"],[1,"kt-grid__item","kt-grid__item--fluid","kt-grid","kt-grid--desktop","kt-grid--ver-desktop","kt-grid--hor-tablet-and-mobile"],[1,"kt-grid__item","kt-grid__item--fluid","kt-grid__item--center","kt-grid","kt-grid--ver","kt-login__content",2,"background-image","url(assets/images/login-banner.jpg)"],[1,"kt-login__section"],[1,"kt-login__block"],[1,"kt-login__desc"],[1,"kt-grid__item","kt-grid__item--order-tablet-and-mobile-2","kt-grid","kt-grid--hor","kt-login__aside","p-0"],[1,"kt-login__wrapper"],[1,"kt-login__container"],[1,"kt-login__body",2,"padding","25px 30px","border-radius","5px"],[1,"kt-login__logo","mb-4"],["href","#"],[1,"kt-login__signin"],[1,"kt-login__head"],[2,"font-size","2rem","color","#67666e"],[1,"kt-login__form"],["action","",1,"kt-form",3,"formGroup","ngSubmit"],[1,"form-group","mb-4",3,"ngClass"],["type","text","placeholder","UserName","autocomplete","off","formControlName","userid",1,"form-control"],["class","help-block",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"form-group","position-relative",3,"ngClass"],["type","password","placeholder","Password","formControlName","password",1,"form-control",3,"keypress"],[1,"showOrHide"],[1,"close-eye"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","aria-hidden","true","role","img","font-size","20","width","1em","height","1em","viewBox","0 0 24 24",1,"iconify","iconify--mdi"],["fill","currentColor","d","M12 9a3 3 0 0 1 3 3a3 3 0 0 1-3 3a3 3 0 0 1-3-3a3 3 0 0 1 3-3m0-4.5c5 0 9.27 3.11 11 7.5c-1.73 4.39-6 7.5-11 7.5S2.73 16.39 1 12c1.73-4.39 6-7.5 11-7.5M3.18 12a9.821 9.821 0 0 0 17.64 0a9.821 9.821 0 0 0-17.64 0Z"],[1,"open-eye"],["fill","currentColor","d","M2 5.27L3.28 4L20 20.72L18.73 22l-3.08-3.08c-1.15.38-2.37.58-3.65.58c-5 0-9.27-3.11-11-7.5c.69-1.76 1.79-3.31 3.19-4.54L2 5.27M12 9a3 3 0 0 1 3 3a3 3 0 0 1-.17 1L11 9.17A3 3 0 0 1 12 9m0-4.5c5 0 9.27 3.11 11 7.5a11.79 11.79 0 0 1-4 5.19l-1.42-1.43A9.862 9.862 0 0 0 20.82 12A9.821 9.821 0 0 0 12 6.5c-1.09 0-2.16.18-3.16.5L7.3 5.47c1.44-.62 3.03-.97 4.7-.97M3.18 12A9.821 9.821 0 0 0 12 17.5c.69 0 1.37-.07 2-.21L11.72 15A3.064 3.064 0 0 1 9 12.28L5.6 8.87c-.99.85-1.82 1.91-2.42 3.13Z"],["class","text-center error","class","text-danger",4,"ngIf"],[1,"kt-login__actions"],["id","kt_login_signin_submit","type","submit",1,"btn","btn-primary","kt-btn","px-5",2,"height","38px"],[1,"kt-login__forgot"],[1,"kt-login__title"],["action","",1,"kt-form"],[1,"form-group"],["type","text","placeholder","Email","name","email","id","kt_email","autocomplete","off",1,"form-control"],["id","kt_login_forgot_submit",1,"btn","btn-brand","btn-pill","btn-elevate"],["id","kt_login_forgot_cancel",1,"btn","btn-outline-brand","btn-pill"],[1,"help-block"],["class","text-info",4,"ngIf"],[1,"text-info"],[1,"text-danger"]],template:function(n,i){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e.\u0275\u0275element(7,"br"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11),e.\u0275\u0275element(13,"a",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",13)(15,"div",14)(16,"h2",15),e.\u0275\u0275text(17,"Sign In "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"div",16)(19,"form",17),e.\u0275\u0275listener("ngSubmit",function(){return i.login()}),e.\u0275\u0275elementStart(20,"div",18),e.\u0275\u0275element(21,"input",19),e.\u0275\u0275template(22,k,2,1,"div",20),e.\u0275\u0275template(23,I,3,0,"p",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",22)(25,"input",23),e.\u0275\u0275listener("keypress",function(){return i.OnKeyPress()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"a",24)(27,"span",25),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(28,"svg",26),e.\u0275\u0275element(29,"path",27),e.\u0275\u0275elementEnd()(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(30,"span",28),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(31,"svg",26),e.\u0275\u0275element(32,"path",29),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(33,C,2,1,"div",20),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(34,L,3,1,"p",30),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(35,"div",31)(36,"button",32),e.\u0275\u0275text(37,"Sign In"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(38,"div",33)(39,"div",14)(40,"h3",34),e.\u0275\u0275text(41,"Forgotten Password ?"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"div",6),e.\u0275\u0275text(43,"Enter your email to reset your password:"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(44,"div",16)(45,"form",35)(46,"div",36),e.\u0275\u0275element(47,"input",37),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"div",31)(49,"button",38),e.\u0275\u0275text(50,"Request"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(51,"button",39),e.\u0275\u0275text(52,"Cancel"),e.\u0275\u0275elementEnd()()()()()()()()()()()()),2&n&&(e.\u0275\u0275advance(19),e.\u0275\u0275property("formGroup",i.loginForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(7,c,i.submitted&&i.f.userid.errors)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.submitted&&i.f.userid.errors),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.InValidUserName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(9,c,i.submitted&&i.f.password.errors)),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",i.submitted&&i.f.password.errors),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.message))},dependencies:[d.mk,d.O5,o._Y,o.Fj,o.JJ,o.JL,o.F,o.sg,o.u],styles:["@media only screen and (min-width: 1024px){.h-100[_ngcontent-%COMP%]{height:100vh!important}}#kt_login_signin_submit[_ngcontent-%COMP%]{background-color:#5867dd;border-color:#5867dd;color:#fff}.showOrHide[_ngcontent-%COMP%]{position:absolute;right:12px;top:12px;z-index:1;cursor:pointer}.close-eye[_ngcontent-%COMP%], .showp[_ngcontent-%COMP%]   .open-eye[_ngcontent-%COMP%]{display:none}.showp[_ngcontent-%COMP%]   .close-eye[_ngcontent-%COMP%]{display:block}"]}),t})()}];let S=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.Bz.forChild(b),m.Bz]}),t})(),w=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[d.ez,o.u5,o.UX,S]}),t})()}}]);