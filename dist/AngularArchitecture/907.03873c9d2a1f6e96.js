"use strict";(self.webpackChunkAngularArchitecture=self.webpackChunkAngularArchitecture||[]).push([[907],{97907:(N,f,n)=>{n.r(f),n.d(f,{NotificationModule:()=>b});var s=n(36895),d=n(28729),m=n(68827),t=n(94650),p=n(14455);function g(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"span",29),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&i){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" Comments: ",e.Req_Coments,"")}}function h(i,r){1&i&&(t.\u0275\u0275elementStart(0,"span",29),t.\u0275\u0275text(1," Comments: NA"),t.\u0275\u0275elementEnd())}function u(i,r){if(1&i){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18)(4,"div",19)(5,"label",20),t.\u0275\u0275element(6,"i",21),t.\u0275\u0275text(7),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"span",22),t.\u0275\u0275element(9,"i",23),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"date"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div")(13,"span",24),t.\u0275\u0275element(14,"i",25),t.\u0275\u0275text(15),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(16,"h5",26)(17,"i",27),t.\u0275\u0275listener("click",function(){const c=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.openInfo(c.Project_Code))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"i",28),t.\u0275\u0275listener("click",function(){const c=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.moreDetails(c.Project_Code))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(19),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"span",29),t.\u0275\u0275text(21),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(22,"br"),t.\u0275\u0275template(23,g,2,1,"span",30),t.\u0275\u0275template(24,h,2,0,"span",30),t.\u0275\u0275elementEnd()()()}if(2&i){const e=r.$implicit;t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(e.Exec_BlockName),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind2(11,7,e.Rec_Date,"dd-MM-yyyy")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(e.SubmittedBy),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",e.Project_Name,""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" Request Type: ",e.Req_Type,""),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.Req_Coments),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.Req_Coments||""==e.Req_Coments||null==e.Req_Coments)}}function v(i,r){if(1&i&&(t.\u0275\u0275elementStart(0,"div",31)(1,"h4"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&i){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e._filtersMessage)}}const C=[{path:"",component:(()=>{class i{constructor(e,o){this.service=e,this.router=o,this.CurrentPageNo=1,this.notifArray=[],this.notificationDTO=new m.f}ngOnInit(){this.router.navigate(["Notifications"]),this.Current_user_ID=localStorage.getItem("EmpNo"),this.viewAll()}viewAll(){this.notificationDTO.Emp_No=this.Current_user_ID,this.notificationDTO.PageNumber=1,this.notificationDTO.PageSize=20,this.service.GetViewAllDashboardnotifications(this.notificationDTO).subscribe(e=>{this._NotificationActivityList=e,this._NotificationActivity=JSON.parse(this._NotificationActivityList[0].Notification_Json),this.notifArray=this._NotificationActivity,this._NotificationActivity&&(this.notilength=this._NotificationActivity.length,this._CurrentpageRecords=this._NotificationActivity.length),this._filtersMessage=0==this.notilength?"No Notifications available":"",console.log(this._NotificationActivity,"Notif")})}loadMore(){this.notificationDTO.Emp_No=this.Current_user_ID,this.notificationDTO.PageNumber=this.CurrentPageNo,this.notificationDTO.PageSize=20,this.service.GetViewAllDashboardnotifications(this.notificationDTO).subscribe(e=>{this._NotificationActivity=JSON.parse(e[0].Notification_Json),this._NotificationActivity.forEach(o=>{this.notifArray.push(o)}),this._NotificationActivity&&(this._CurrentpageRecords=this._NotificationActivity.length)})}openInfo(e){document.getElementById("mysideInfobar").classList.add("kt-quick-panel--on"),this.router.navigate(["Notifications/projectinfo/",e,"6"]),document.getElementById("rightbar-overlay").style.display="block",document.getElementsByClassName("side_view")[0].classList.add("position-fixed")}moreDetails(e){var a=document.baseURI+"MoreDetails";window.open(`${a}/${e}`,e).focus()}closeInfo(){document.getElementById("mysideInfobar").classList.remove("kt-quick-panel--on"),document.getElementById("rightbar-overlay").style.display="none",document.getElementsByClassName("side_view")[0].classList.remove("position-fixed")}}return i.\u0275fac=function(e){return new(e||i)(t.\u0275\u0275directiveInject(p.B),t.\u0275\u0275directiveInject(d.F0))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["app-notification"]],decls:19,vars:3,consts:[[1,"kt-container","kt-container--fluid","kt-grid__item","kt-grid__item--fluid","margin-height","side_view","pt-3"],[1,"row"],[1,"col-lg-12"],[1,"kt-portlet","kt-portlet--bordered-semi"],[1,"kt-portlet__head"],[1,"kt-portlet__head-label"],[1,"kt-portlet__head-title","mr-4"],[1,"kt-menu__link-icon","fas","fa-bell","mr-2","text-primary"],[1,"kt-portlet__body"],["class","card my-1 shadow-sm brdr notifi-list mb-2",4,"ngFor","ngForOf"],["class","text-center py-4","style","color: lightgrey",4,"ngIf"],[2,"text-align","center"],[1,"btn","btn-info","loadMore",3,"hidden","click"],["id","rightbar-overlay",3,"click"],["id","mysideInfobar",1,"sideInfobar","animate-right"],[1,"card","my-1","shadow-sm","brdr","notifi-list","mb-2"],[1,"card-body","row"],[1,"col"],[1,"pro-dc"],[1,""],[1,"kt-badge","kt-hover--primary","kt-bg-light-primary","kt-badge--inline"],[1,"fa","fa-clone","mr-2"],[1,"h6","text-muted","mb-0","ml-2"],[1,"far","fa-calendar-alt","mr-1"],[1,"h6","text-muted","mb-0","mr-1"],[1,"far","fa-user","mr-1"],[1,"card-title","text-capitalize","mb-0"],[1,"fa","fa-info-circle","info-icon-cir","curser-pointer",3,"click"],[1,"fa","fa-chart-bar","info-icon-cir","curser-pointer","mb-0","ml-2",3,"click"],[1,"h6","tic-abt","mb-0"],["class","h6 tic-abt mb-0",4,"ngIf"],[1,"text-center","py-4",2,"color","lightgrey"]],template:function(e,o){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),t.\u0275\u0275element(7,"i",7),t.\u0275\u0275elementStart(8,"strong"),t.\u0275\u0275text(9,"Notifications"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(10,"div",8),t.\u0275\u0275template(11,u,25,10,"div",9),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(12,v,3,1,"div",10),t.\u0275\u0275elementStart(13,"div",11)(14,"button",12),t.\u0275\u0275listener("click",function(){return o.CurrentPageNo=o.CurrentPageNo+1,o.loadMore()}),t.\u0275\u0275text(15," Load More!"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(16,"div",13),t.\u0275\u0275listener("click",function(){return o.closeInfo()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(17,"div",14),t.\u0275\u0275element(18,"router-outlet"),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(11),t.\u0275\u0275property("ngForOf",o.notifArray),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0==o.notilength),t.\u0275\u0275advance(2),t.\u0275\u0275property("hidden",o._CurrentpageRecords<20))},dependencies:[s.sg,s.O5,d.lC,s.uU],styles:[".card.brdr[_ngcontent-%COMP%]{border-left:4px solid #2786fb;border-radius:5px}.pro-rsec[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:column;align-items:flex-end}.tic-abt[_ngcontent-%COMP%]{color:#8898aa!important}.notifi-list[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#32325d;line-height:1.5}.pro-dc[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.sideInfobar[_ngcontent-%COMP%]{height:100%;width:0;position:fixed;z-index:999;top:0;right:0;background-color:#fff;border-left:1px solid #b3bcff;overflow-x:hidden;transition:.5s}.sideInfobar[_ngcontent-%COMP%]   .kt-portlet__head[_ngcontent-%COMP%]{background-color:#f5f6fc}.sideInfobar[_ngcontent-%COMP%]   .closebtn[_ngcontent-%COMP%]{text-decoration:none;color:#333;position:absolute;top:0;right:25px;font-size:36px;margin-left:50px}.info-icon-cir[_ngcontent-%COMP%]{font-size:20px;color:#5867dd}.sideInfobar[_ngcontent-%COMP%]   .kt-widget1[_ngcontent-%COMP%]   .kt-widget1__item[_ngcontent-%COMP%]{border-bottom:.07rem dashed #dedede;padding:6px}.sideInfobar[_ngcontent-%COMP%]   .kt-widget1[_ngcontent-%COMP%]   .kt-widget1__item.dark[_ngcontent-%COMP%]{border-bottom:.07rem dashed rgba(0,0,0,.3)}.sideInfobar[_ngcontent-%COMP%]   .kt-widget1[_ngcontent-%COMP%]   .kt-widget1__item[_ngcontent-%COMP%]   .kt-widget1__info[_ngcontent-%COMP%]   .kt-widget1__title[_ngcontent-%COMP%]{font-weight:600}.sideInfobar[_ngcontent-%COMP%]   .title-sidebar[_ngcontent-%COMP%]{width:270px;text-align:left;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),i})(),children:[{path:"projectinfo/:projectcode/:id",loadChildren:()=>Promise.all([n.e(993),n.e(439),n.e(872),n.e(206),n.e(579),n.e(247),n.e(525),n.e(905),n.e(385),n.e(645)]).then(n.bind(n,2247)).then(i=>i.ProjectInfoModule)}]}];let y=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=t.\u0275\u0275defineInjector({imports:[d.Bz.forChild(C),d.Bz]}),i})(),b=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=t.\u0275\u0275defineInjector({imports:[s.ez,y]}),i})()}}]);