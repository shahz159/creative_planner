<div class="kt-container  kt-container--fluid p-0 kt-grid__item kt-grid__item--fluid text-dark project-info-page side_view"
    id="moredet">
    <!-- <div class="row">
        <div class="col-lg-12">
            <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                <div class="kt-portlet__head">
                    <div class="kt-portlet__head-label">
                        <h3 class="kt-portlet__head-title">
                            <strong>dr.CAFE-206, Olaya St, Al Nuruji Project
                            </strong>
                        </h3>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
    <div class="px-4 py-2">
        <div class="row">
            <div class="col-lg-12 project-description pt-2">
                <div class="d-flex align-items-center mb-2 cir-icon">
                    <div class="flex-1 d-flex align-items-center mb-2 cir-icon">
                        <!-- <i class="fas fa-code-branch"></i> -->
                        <!-- <h4 class="fs-3 text-info mb-0 mr-3" data-toggle="tooltip" title="Project Code!">{{URL_ProjectCode}}</h4> -->
                        <ng-container *ngIf="(ProjectBlockName != 'Standard Tasks')">
                            <label data-toggle="tooltip" title="Project Status!"
                                *ngIf="Status == 'Completed' || Status == 'Under Approval' || Status == 'Completion Under Approval'  || Status=='Project Hold'  || Status=='Deadline Extend Under Approval'
                                         || Status=='New Project Rejected' || Status=='ToDo Completed' || Status== 'New Todo' || Status=='Forward Under Approval' || ProjectBlockName =='Standard Tasks'
                                         || Status=='New Project' || Status=='Project Complete Rejected' || Status=='Project Hold Under Approval' ||  Status =='ToDo Achieved' || Status=='Standardtask Enactive Hold'"
                                class="kt-badge kt-badge--inline  cus-btn text-white px-3 py-1 kt-badge--pill"
                                [ngClass]="{'bg-success':Status=='Completed',
                        'bg-info':Status=='Under Approval' || Status=='New Project' || Status== 'New Todo' ||  Status =='ToDo Achieved',
                        'bg-primary':Status=='Completion Under Approval' || Status=='Deadline Extend Under Approval' || Status=='Project Hold Under Approval',
                        'bg-warning':Status=='InProcess' || Status=='Forward Under Approval',
                        'bg-rejected': Status=='New Project Rejected' || Status=='Project Complete Rejected', 
                        'bg-success-1' : Status=='ToDo Completed',
                        
                        'bg-danger':Status=='Project Hold' || Status=='Standardtask Enactive Hold'}">
                                {{Status}}</label>
                            <!-- 'bg-coral' :  Status== 'New Todo', -->
                        </ng-container>
                        <ng-container *ngIf="(ProjectBlockName == 'Standard Tasks')">
                            <label data-toggle="tooltip" title="Project Status!"
                                class="kt-badge kt-badge--inline  cus-btn text-white px-3 py-1 kt-badge--pill bg-purple">
                                {{SubmissionName}}</label>
                        </ng-container>


                        <!-- caledon-green -->

                        <!--inprocess button-->
                        <div class="d-flex"
                            *ngIf="Status != 'Completed' && Status != 'Under Approval' && Status!='Completion Under Approval' && Status!='Project Hold' && Status!='Deadline Extend Under Approval'
                                             && Status!='New Project Rejected' && Status!='ToDo Completed' && Status!='New Todo' && Status!='New Project' && Status!='Project Complete Rejected'
                                             && Status!='Forward Under Approval' && Status!='Project Hold Under Approval' &&  Status !='ToDo Achieved'
                                             && Status!='Standardtask Enactive Hold' && ProjectBlockName != 'Standard Tasks'">

                            <!-- <label class="kt-badge kt-badge--inline cus-btn text-white px-3 py-1 kt-badge--pill bg-warning br-cr">{{Status}}</label> -->
                            <label class="kt-badge kt-badge--inline  cus-btn text-white px-3 py-1 kt-badge--pill br-cr"
                                data-toggle="tooltip" title="Project Status!" [ngClass]="{'bg-danger':Status=='Delay' || Status=='Project Hold',
                                        'bg-warning':Status=='InProcess'}">{{Status}}</label>
                            <div class="task-status__divider"></div>
                            <button data-toggle="tooltip" title="Project Completion!" class="task-status__controls"
                                (click)="OnClickCheckboxProjectUpdate()"></button>
                        </div>
                        <!--inprocess button-->
                        <!--progress bar start-->
                        <div class="d-flex flex-column ml-3" *ngIf="Status != 'Completed' && Status!='Completion Under Approval'">
                            <span class="fs-6 font-bold" [ngClass]="{'text-dark':ProjectStatus=='Not Started',
                                'text-primary':ProjectStatus=='Continuos-InProcess',    
                                'text-success':ProjectStatus=='Completed',
                                'text-warning':ProjectStatus=='InProcess',
                                'text-underApp':ProjectStatus=='UnderCompletion',
                                'text-info':ProjectStatus=='Just Started'}" data-toggle="tooltip" title="Progess Status!">
                                {{ProjectStatus}}
                            </span>
                            <!-- text-dark - first div -->
                            <!-- <div class="d-flex align-items-center w-200px">
                            <div class="progress h-6px w-100 bg-light-warning">
                                <div class="progress-bar bg-warning" role="progressbar" style="width: 46%;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                            <span class="text-muted fs-7 fw-bold pl-2">46%</span>
                            </div> -->
                            <div *ngIf="ProjectStatus=='Not Started'">
                                <div class="d-flex align-items-center w-200px">
                                    <!-- <small class="progress_bar_title"> -->
                                    <!-- <span class="progress_number">{{ProjectPercentage}}</span> -->
                                    <!-- </small -->
                                    <div class="progress h-6px w-100 bg-light-warning">
                                        <div class="progress-bar bg-warning" role="progressbar"
                                            [ngStyle]='{ width : ProjectPercentage }' aria-valuenow="50"
                                            aria-valuemin="0" aria-valuemax="100">
                                        </div>
                                    </div>
                                    <!-- <span class="progress-bar-inner bg-today" [ngStyle]='{ width : ProjectPercentage }'
                                    data-value="0" data-percentage-value="0"></span> -->
                                    <span class="text-muted fs-7 fw-bold pl-2">{{ProjectPercentage}}</span>
                                </div>
                            </div>
                            <div *ngIf="ProjectStatus=='Just Started'">
                                <div class="d-flex align-items-center w-200px">
                                    <div class="progress h-6px w-100 bg-light-warning">
                                        <div class="progress-bar bg-warning" role="progressbar"
                                            [ngStyle]='{ width : ProjectPercentage }' aria-valuenow="50"
                                            aria-valuemin="0" aria-valuemax="100">
                                        </div>
                                    </div>
                                    <span class="text-muted fs-7 fw-bold pl-2">{{ProjectPercentage}}</span>
                                </div>
                            </div>
                            <div *ngIf="ProjectStatus=='InProcess'">
                                <div class="d-flex align-items-center w-200px">
                                    <div class="progress h-6px w-100 bg-light-warning">
                                        <div class="progress-bar bg-warning" role="progressbar"
                                            [ngStyle]='{ width : ProjectPercentage }' aria-valuenow="50"
                                            aria-valuemin="0" aria-valuemax="100">
                                        </div>
                                    </div>
                                    <span class="text-muted fs-7 fw-bold pl-2">{{ProjectPercentage}}</span>
                                </div>
                            </div>
                            <div *ngIf="ProjectStatus=='UnderCompletion'">
                                <div class="d-flex align-items-center w-200px">
                                    <div class="progress h-6px w-100 bg-light-warning">
                                        <div class="progress-bar bg-warning" role="progressbar"
                                            [ngStyle]='{ width : ProjectPercentage }' aria-valuenow="50"
                                            aria-valuemin="0" aria-valuemax="100">
                                        </div>
                                    </div>
                                    <span class="text-muted fs-7 fw-bold pl-2">{{ProjectPercentage}}</span>
                                </div>
                            </div>
                            <div *ngIf="ProjectStatus=='Completed'">
                                <div class="d-flex align-items-center w-200px">
                                    <div class="progress h-6px w-100 bg-light-warning">
                                        <div class="progress-bar bg-warning" role="progressbar"
                                            [ngStyle]='{ width : ProjectPercentage }' aria-valuenow="50"
                                            aria-valuemin="0" aria-valuemax="100">
                                        </div>
                                    </div>
                                    <span class="text-muted fs-7 fw-bold pl-2">{{ProjectPercentage}}</span>
                                </div>
                            </div>
                            <div *ngIf="ProjectStatus=='Continuos-InProcess'">
                                <div class="d-flex align-items-center w-200px">
                                    <div class="progress h-6px w-100 bg-light-warning">
                                        <div class="progress-bar bg-warning" role="progressbar"
                                            [ngStyle]='{ width : ProjectPercentage }' aria-valuenow="50"
                                            aria-valuemin="0" aria-valuemax="100">
                                        </div>
                                    </div>
                                    <span class="text-muted fs-7 fw-bold pl-2">{{ProjectPercentage}}</span>
                                </div>
                            </div>

                        </div>

                        <!--progress bar end -->


                    </div>
                    <div class=" pro-act" *ngIf="(Current_user_ID == approvalEmpId) && (requestType!='Project Forward')" data-toggle="tooltip"
                    title="Project Actions!">
                        <button class="btn22" (click)="sideviw();getapprovalStats()" *ngIf="(Status =='Under Approval' || Status =='Completion Under Approval' || Status=='Deadline Extend Under Approval'
                                    || Status =='Enactive Under Approval' || Status=='Forward Under Approval' || Status=='Project Hold Under Approval'
                                    ||  Status =='ToDo Achieved' || Status=='InProcess')">
                            Project Actions
                        </button>
                    </div>
                    <div *ngIf="(Status == 'InProcess' || Status == 'Delay' || Status=='Project Complete Rejected') && (ProjectBlockName != 'Standard Tasks') 
                            && (Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo)"
                        class=" pro-act ml-2">
                        <button class="btn  btn22 btn-pill" (click)="OnClickCheckboxProjectUpdate()">
                            <i class="fas fa-check mr-2"></i>
                            Project Submission
                        </button>
                    </div>
                    <div *ngIf="(ProjectBlockName == 'Standard Tasks')" class=" pro-act ml-2">
                        <button class="btn  btn22 btn-pill" (click)="notinAction()" >
                            <!-- -->
                            <i class="fas fa-check mr-2"></i>
                            Project Submission
                        </button>
                    </div>
                </div>
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <div class="align-items-center flex-grow-1">
                        <h4 class="mb-1 pro-nm d-inline-blck" id="SpanProjName_{{Pid}}" data-toggle="tooltip"
                            title="Project Name!">{{ProjectName}}</h4>
                        <span class="text-info" [hidden]="Editbutton" (click)="OnEditProject(Pid,ProjectName)"
                            id="EidtBtn_{{Pid}}"
                            *ngIf="(Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo) && (Status != 'Completed')">
                            <i class="fas fa-edit ml-2 mb-1 curser-pointer"></i>
                        </span>
                        <span class="kt-inbox__subject mb-2" style="display:none;" id="spanTextbox_{{Pid}}">
                            <div class="d-flex">
                                <input type="text" class="form-control" id="textboxfocus_{{Pid}}"
                                    [(ngModel)]="_modelProjectName" style="width: 78%;height: 32px;"
                                    (keydown.enter)="OnProject_Rename(Pid,_MasterCode)">
                                <div class="d-inline-block ml-3" id="button-addon4">
                                    <button (click)="OnProject_Rename(Pid,_MasterCode)"
                                        class="btn btn-primary btn btn-sm mr-2">Done</button>
                                    <button class=" btn btn-secondary btn btn-sm"
                                        (click)="onCancel(Pid)">Cancel</button>
                                </div>
                            </div>
                        </span>

                    </div>

                </div>
                <p class="ml-3 text-justify">
                    <span id="Span_DescName_{{Pid}}" data-toggle="tooltip"
                        title="Project Description!">{{Description}}</span>
                    <span class="text-info " [hidden]="Editbutton" (click)="OnEditProject_Desc(Pid,Description)"
                        id="EidtBtn_{{Pid}}" *ngIf="(Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo) && (Status != 'Completed')">
                        <i class="fas fa-edit ml-2 mb-1 curser-pointer"></i>
                    </span>
                    <span class="kt-inbox__subject mt-2" style="display:none;" id="spanTextarea_{{Pid}}">
                        <div class="d-flex">
                            <input type="text" class="form-control" id="textareafocus_{{Pid}}"
                                [(ngModel)]="_modelProjDesc" style="width: 78%;height: 32px;"
                                (keydown.enter)="OnProject_Rename(Pid,_MasterCode)">
                            <div class="d-inline-block ml-3" id="button-addon4">
                                <button (click)="OnProject_Rename(Pid,_MasterCode)"
                                    class="btn btn-primary btn btn-sm mr-2">Done</button>
                                <button class=" btn btn-secondary btn btn-sm" (click)="onCancel(Pid)">Cancel</button>
                            </div>
                        </div>
                    </span>
                </p>
            </div>

            <div class="col-lg-12 project-details">
                <div class="row d-nsone">
                    <div class="col-lg-3 col-md-6">
                        <!-- <div class="action-count" role="button"> -->
                        <div class="action-count">
                            <div class="d-flex align-items-center">
                                <div class="symbol me-5">
                                    <span class="symbol-label bg-coral">
                                        <span class="svg-icon svg-icon-2x svg-icon-white">
                                            <svg width="22" height="22" viewBox="0 0 40 40" aria-hidden="true"
                                                focusable="false">
                                                <path
                                                    d="M30.5,9h-7.8l-3.6-3.6C18.2,4.5,16.9,4,15.6,4h-5.1C6.9,4,4,6.9,4,10.5v19c0,3.6,2.9,6.5,6.5,6.5h19c3.6,0,6.5-2.9,6.5-6.5v-15C36,11.5,33.5,9,
                                            30.5,9z M33,29.5c0,1.9-1.6,3.5-3.5,3.5h-19C8.6,33,7,31.4,7,29.5v-19C7,8.6,8.6,7,10.5,7h5.1c0.5,0,1,0.2,1.4,0.6l4.1,4c0.3,0.3,0.7,0.4,1.1,0.4h8.4c1.4,
                                            0,2.5,1.1,2.5,2.5L33,29.5L33,29.5z M13.5,13L13.5,13c0.8,0,1.5,0.7,1.5,1.5v13c0,0.8-0.7,1.5-1.5,1.5l0,0c-0.8,0-1.5-0.7-1.5-1.5v-13C12,13.7,12.7,13,13.5,13z
                                             M25.5,18L25.5,18c0.8,0,1.5,0.7,1.5,1.5v8c0,0.8-0.7,1.5-1.5,1.5l0,0c-0.8,0-1.5-0.7-1.5-1.5v-8C24,18.7,24.7,18,25.5,18z M19.5,22L19.5,22c0.8,0,1.5,0.7,1.5,1
                                             .5v4c0,0.8-0.7,1.5-1.5,1.5l0,0c-0.8,0-1.5-0.7-1.5-1.5v-4C18,22.7,18.7,22,19.5,22z">
                                                </path>
                                            </svg>
                                        </span>
                                    </span>
                                </div>
                                <div class="action-content">
                                    <h6 class="txtm-cus pt-1">Project Type</h6>
                                    <h5 class="mt-1">{{ProjectBlockName}}</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <!-- <div class="action-count" role="button"> -->
                        <div class="action-count">
                            <div class="d-flex align-items-center">
                                <div class="symbol me-5">
                                    <span class="symbol-label  bg-info">
                                        <span class="svg-icon svg-icon-2x svg-icon-white">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
                                                fill="currentColor" class="bi bi-calendar-week" viewBox="0 0 16 16">
                                                <path
                                                    d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-5 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z" />
                                                <path
                                                    d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z" />
                                            </svg>
                                        </span>
                                    </span>
                                </div>
                                <div class="action-content">
                                    <h6 class="txtm-cus pt-1">Project Duration</h6>
                                    <ng-container *ngIf="(ProjectBlockName != 'Standard Tasks'); then othertask;">
                                    </ng-container>
                                    <ng-container *ngIf="(ProjectBlockName == 'Standard Tasks'); then standardtask;">
                                    </ng-container>
                                    <ng-template #standardtask>
                                        <h5 class="mt-1">{{StartDate|date:'dd-MM-yyyy'}} / {{SubmissionName}}
                                        </h5>
                                    </ng-template>
                                    <ng-template #othertask>
                                        <h5 class="mt-1 d-flex align-items-start" id="Span_Deadline_{{Pid}}">
                                            {{StartDate|date:'dd-MM-yyyy'}} /   <h5 *ngIf="deadlineCount==0">{{EndDate}}</h5>
                                            <h5 style="color:red"  data-toggle="kt-tooltip" title="Extended Deadline for {{deadlineCount}} times!!" *ngIf="deadlineCount>0">{{EndDate}}</h5>
                                            <span class="text-info fs-8" [hidden]="Editbutton"
                                                (click)="onEditDeadline(Pid,EndDate)" *ngIf="(Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo) && (Status!='Completed' && Status!='Project Hold' && Status!='Completion Under Approval'
                                                && Status!='Deadline Extend Under Approval' && Status!='Enactive Under Approval' &&
                                                Status!='Forward Under Approval' && Status!='Project Hold Under Approval' && Status!='Under Approval'
                                                && Status!='New Project Rejected' && Status!='Project Complete Rejected' && Status!='ToDo Achieved'  && Status!='ToDo Completed')">
                                                <i class="fas fa-edit ml-2 mt-1 curser-pointer"></i>
                                            </span>
                                            <span class="kt-inbox__subject mt-2" style="display:none;"
                                                id="DeadlineArea_{{Pid}}">
                                                <div class="d-flex input-group">
                                                    <!-- <input type="text" class="form-control" id="Deadlinetext_{{Pid}}"
                                                        [(ngModel)]="_ProjDeeadline" style="width: 78%;height: 32px;"
                                                        (keydown.enter)="OnProject_Rename(Pid,_MasterCode)"> [value]="getnextDeadline()" required [max]="todayDate"-->
                                                    <input matInput [matDatepicker]="picker2" id="Deadlinetext_{{Pid}}"
                                                        #Deadlinetext="ngModel" (click)="picker2.open();"
                                                        (keydown.enter)="onProject_ExtendDeadline(Pid,_MasterCode);"
                                                        [min]="EndDate1" placeholder="Select Date"
                                                        [(ngModel)]="_ProjDeadline" class="form-control" name="date">
                                                    <!-- <mat-hint>MM/DD/YYYY</mat-hint> -->
                                                    <!-- <div class="input-group-text p-0"> -->
                                                    <mat-datepicker-toggle matSuffix [for]="picker2">
                                                    </mat-datepicker-toggle>
                                                    <mat-datepicker #picker2></mat-datepicker>
                                                    <div class="d-inline-block ml-3" id="button-addon4">
                                                        <button (click)="onProject_ExtendDeadline(Pid,_MasterCode)"
                                                            class="btn btn-primary btn btn-sm mr-2">Done</button>
                                                        <button class=" btn btn-secondary btn btn-sm"
                                                            (click)="onCancel(Pid)">Cancel</button>
                                                    </div>
                                                </div>
                                            </span>
                                        </h5>
                                    </ng-template>
                                    <progress value="50" max="100" class="project-duration-bar d-none"></progress>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-3 col-md-6">
                        <!-- <div class="action-count" role="button"> -->
                        <div class="action-count">
                            <div class="d-flex align-items-center">
                                <div class="symbol me-5">
                                    <span class="symbol-label  bg-dangr">
                                        <span class="svg-icon svg-icon-2x svg-icon-white">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                fill="currentColor" class="bi bi-clock-fill" viewBox="0 0 16 16">
                                                <path
                                                    d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z" />
                                            </svg>
                                        </span>
                                    </span>
                                </div>
                                <div class="action-content d-flex align-items-center">
                                    <div class="">
                                        <h6 class="txtm-cus pt-1">Allocated</h6>
                                        <h5 class="mt-1" *ngIf="ProjectBlockName != 'Standard Tasks'">{{maxDuration}}Hrs
                                        </h5>
                                        <h5 class="mt-1" *ngIf="ProjectBlockName == 'Standard Tasks'">
                                            {{standardDuration}}</h5>
                                    </div>

                                    <div class="px-1">
                                        <i class=" la la-arrows-h mx-3 text-dangr fs-4 font-weight-bold"></i>
                                    </div>
                                    <div class="">
                                        <h6 class="txtm-cus pt-1">Duration</h6>
                                        <h5 *ngIf="ProjectBlockName!='Standard Tasks'" class="mt-1">
                                            {{Difference_In_Days}} days</h5>
                                        <h5 *ngIf="ProjectBlockName=='Standard Tasks'" class="mt-1">Continuous</h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-3 col-md-6">
                        <!-- <div class="action-count" role="button"> -->
                        <div class="action-count">
                            <div class="d-flex align-items-center">
                                <div class="symbol me-5">
                                    <span class="symbol-label  bg-success-1">
                                        <span class="svg-icon svg-icon-2x svg-icon-white">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
                                                fill="currentColor" class="bi bi-cash-stack" viewBox="0 0 16 16">
                                                <path
                                                    d="M1 3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1H1zm7 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" />
                                                <path
                                                    d="M0 5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V5zm3 0a2 2 0 0 1-2 2v4a2 2 0 0 1 2 2h10a2 2 0 0 1 2-2V7a2 2 0 0 1-2-2H3z" />
                                            </svg>
                                        </span>
                                    </span>
                                </div>
                                <div class="action-content">
                                    <h6 class="txtm-cus pt-1">Project Budget</h6>
                                    <h5 class="mt-1"> <span>{{Cost|currency:'SAR '}}</span></h5>
                                    <progress value="50" max="100" class="project-budget-bar d-none"></progress>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-3 col-md-6">
                        <!-- <div class="action-count" role="button"> -->
                        <div class="action-count">
                            <div class="d-flex align-items-center">
                                <div class="symbol me-5">
                                    <span class="symbol-label  bg-purple">
                                        <span class="svg-icon svg-icon-2x svg-icon-white">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
                                                fill="currentColor" class="bi bi-briefcase" viewBox="0 0 16 16">
                                                <path
                                                    d="M6.5 1A1.5 1.5 0 0 0 5 2.5V3H1.5A1.5 1.5 0 0 0 0 4.5v8A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-8A1.5 1.5 0 0 0 14.5 3H11v-.5A1.5 1.5 0 0 0 9.5 1h-3zm0 1h3a.5.5 0 0 1 .5.5V3H6v-.5a.5.5 0 0 1 .5-.5zm1.886 6.914L15 7.151V12.5a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5V7.15l6.614 1.764a1.5 1.5 0 0 0 .772 0zM1.5 4h13a.5.5 0 0 1 .5.5v1.616L8.129 7.948a.5.5 0 0 1-.258 0L1 6.116V4.5a.5.5 0 0 1 .5-.5z" />
                                            </svg>
                                        </span>
                                    </span>
                                </div>
                                <div class="action-content">
                                    <h6 class="txtm-cus pt-1">Client</h6>
                                    <h5 class="mt-1">{{Client}}</h5>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-3 col-md-6">
                        <!-- <div class="action-count" role="button"> -->
                        <div class="action-count">
                            <div class="d-flex align-items-center">
                                <div class="symbol me-5">
                                    <span class="symbol-label blue-munsell">
                                        <span class="svg-icon svg-icon-2x svg-icon-white">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
                                                fill="currentColor" class="bi bi-bookmarks-fill" viewBox="0 0 16 16">
                                                <path
                                                    d="M2 4a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v11.5a.5.5 0 0 1-.777.416L7 13.101l-4.223 2.815A.5.5 0 0 1 2 15.5V4z" />
                                                <path
                                                    d="M4.268 1A2 2 0 0 1 6 0h6a2 2 0 0 1 2 2v11.5a.5.5 0 0 1-.777.416L13 13.768V2a1 1 0 0 0-1-1H4.268z" />
                                            </svg>
                                        </span>
                                    </span>
                                </div>
                                <div class="action-content">
                                    <h6 class="txtm-cus pt-1">Category</h6>
                                    <h5 class="mt-1" *ngIf="Category!=null">{{Category}}</h5>
                                    <h5 class="mt-1" *ngIf="Category==null">Software Support</h5>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-3 col-md-6">
                        <!-- <div class="action-count" role="button"> -->
                        <div class="action-count">
                            <div class="d-flex align-items-center">
                                <div class="symbol me-5">
                                    <span class="symbol-label  bg-warning">
                                        <span class="svg-icon svg-icon-2x svg-icon-white">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
                                                fill="currentColor" class="bi bi-person-badge" viewBox="0 0 16 16">
                                                <path
                                                    d="M6.5 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
                                                <path
                                                    d="M4.5 0A2.5 2.5 0 0 0 2 2.5V14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2.5A2.5 2.5 0 0 0 11.5 0h-7zM3 2.5A1.5 1.5 0 0 1 4.5 1h7A1.5 1.5 0 0 1 13 2.5v10.795a4.2 4.2 0 0 0-.776-.492C11.392 12.387 10.063 12 8 12s-3.392.387-4.224.803a4.2 4.2 0 0 0-.776.492V2.5z" />
                                            </svg>
                                        </span>
                                    </span>
                                </div>
                                <div class="action-content">
                                    <h6 class="txtm-cus pt-1">Responsible</h6>
                                    <h5 class="mt-1">{{Responsible}}</h5>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-3 col-md-6">
                        <!-- <div class="action-count" role="button"> -->
                        <div class="action-count">
                            <div class="d-flex align-items-center">
                                <div class="symbol me-5">
                                    <span class="symbol-label caledon-green">
                                        <span class="svg-icon svg-icon-2x svg-icon-white">
                                            <i class="fas fa-prescription-bottle"></i>
                                        </span>
                                    </span>
                                </div>
                                <div class="action-content">
                                    <h6 class="txtm-cus pt-1">Owner</h6>
                                    <h5 class="mt-1">{{Owner}}</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 project-duration d-none">
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <h6 class="mb-2">Project Duration</h6>
                                <h5 class="mb-3">{{StartDate|date:'dd-MM-yyyy'}} / {{EndDate}}</h5>
                                <progress value="50" max="100" class="project-duration-bar"></progress>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 project-budget d-none">
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <h6 class="mb-2">Project Budget</h6>
                                <h5 class="mb-3"> <span>{{Cost|currency:'SAR '}}</span></h5>
                                <progress value="50" max="100" class="project-budget-bar"></progress>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 d-none">
                        <!-- <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid"> -->
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <div class="d-flex align-items-center mb-2">
                                    <div class="initial-box">{{InitR}}</div>
                                    <div class="owner-details">
                                        <p class="text-dark text-hover-primary user-name mb-0">
                                            <strong>{{Responsible}}</strong>
                                        </p>
                                        <span class="text-muted">(Responsible)</span>
                                    </div>
                                </div>
                                <p class="mb-0"></p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row d-none">

                    <div class="col-md-3 project-duration">
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <h6 class="mb-2">Project Type</h6>
                                <h5 class="mb-3">{{ProjectBlockName}}</h5>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 project-duration">
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <h6 class="mb-2">Project Duration</h6>
                                <!-- |date:'dd-MM-yyyy' -->
                                <h5 class="mb-3">{{StartDate|date:'dd-MM-yyyy'}} / {{EndDate}}</h5>
                                <progress value="50" max="100" class="project-duration-bar"></progress>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 project-budget">
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <h6 class="mb-2">Project Budget</h6>
                                <h5 class="mb-3"> <span>{{Cost|currency:'SAR '}}</span></h5>
                                <progress value="50" max="100" class="project-budget-bar"></progress>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 project-duration">
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <h6 class="mb-2">Client</h6>
                                <h5 class="mb-3">{{Client}}</h5>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 project-duration">
                        <!-- <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid"> -->
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <div class="d-flex align-items-center mb-2">
                                    <div class="initial-box">{{InitR}}</div>
                                    <div class="owner-details">
                                        <p class="text-dark text-hover-primary user-name mb-0">
                                            <strong>{{Responsible}}</strong>
                                        </p>
                                        <span class="text-muted">(Responsible)</span>
                                    </div>
                                </div>
                                <p class="mb-0"></p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 project-duration">
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <h6 class="mb-2">Owner</h6>
                                <h5 class="mb-3">{{Owner}}</h5>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 project-duration">
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <h6 class="mb-2">Category</h6>
                                <h5 class="mb-3">Software Support</h5>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 project-duration">
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <h6 class="mb-2">Duration</h6>
                                <h5 class="mb-3">15 days</h5>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="tab-section shadow-sm mt-5">
        <div class="row d-none">
            <div class="col-md-12">
                <hr class="mt-1" />
            </div>
        </div>

        <!-- <div class="row pt-2 nav-buttons">
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn active">Overview</button>
        </div>
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn">Tasks</button>
        </div>
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn">Milestones</button>
        </div>
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn">DMS</button>
        </div>
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn">Links</button>
        </div>
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn">Files</button>
        </div>
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn">Timeline</button>
        </div>
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn">Notes</button>
        </div>
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn">Comments</button>
        </div>
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn">People</button>
        </div>
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn">Meeting</button>
        </div>
    </div> -->

        <div class="row m-0">
            <div class="col-lg-12">
                <div class="tabs-sticky">
                    <ul class="nav navtab-bg nav-pills px-3 mb-3 space-tabs" id="myTab2" role="tablist">
                        <li class="nav-item"><a class="nav-link active" id="Overview1" data-toggle="tab"
                                href="#Overview"><span class="nav-text">Overview</span></a></li>
                        <li class="nav-item" (click)="OnTabTask_Click()"><a class="nav-link" id="Tasks1"
                                data-toggle="tab" href="#Tasks" aria-controls="profile">
                                <span class="nav-text">Actions</span>
                                <span class="noti" *ngIf="subTaskCount!=0">{{subTaskCount}}</span>
                            </a></li>

                        <li class="nav-item"><a class="nav-link" id="Milestones1" data-toggle="tab"
                                href="#Milestones"><span class="nav-text">Milestones</span></a></li>
                        <li class="nav-item" (click)="GetDMS_Memos()"><a class="nav-link" id="DMS1" data-toggle="tab"
                                href="#DMS" aria-controls="profile"><span class="nav-text">DMS</span>
                                <span class="noti" *ngIf="dmslist!=0">{{dmslist}}</span></a></li>
                        <!-- <li class="nav-item"><a class="nav-link" id="Links1" data-toggle="tab" href="#Links"><span
                            class="nav-text">Links</span></a></li> -->
                        <li class="nav-item" (click)="getAttachments()"><a class="nav-link" id="Files1"
                                data-toggle="tab" href="#Files" aria-controls="profile"><span
                                    class="nav-text">Files</span>
                                <span class="noti" *ngIf="attachmentlength!=0">{{attachmentlength}}</span></a></li>
                        <li class="nav-item" (click)="dar_details()"><a class="nav-link" id="Timeline1"
                                data-toggle="tab" href="#Timeline"><span class="nav-text">Timeline</span>
                                <span class="noti" *ngIf="totalRecords!=0">{{totalRecords}}</span></a></li>
                        <li class="nav-item"><a class="nav-link" id="Notes1" data-toggle="tab" href="#Notes"
                                aria-controls="profile"><span class="nav-text">Notes</span></a></li>
                        <li class="nav-item" (click)="GetprojectComments()"><a class="nav-link" id="Comments1"
                                data-toggle="tab" href="#Comments"><span class="nav-text">Comments</span></a></li>
                        <li class="nav-item"><a class="nav-link" id="People1" data-toggle="tab" href="#People"
                                aria-controls="profile"><span class="nav-text">People</span></a></li>
                        <li class="nav-item"><a class="nav-link" id="Meeting1" data-toggle="tab" href="#Meeting"><span
                                    class="nav-text">Meeting</span></a></li>
                    </ul>
                </div>
                <div class="tab-content p-2 mt-5" id="myTabContent2">

                    <!-- Overview Section -->
                    <div class="tab-pane fade show active" id="Overview" role="tabpanel" aria-labelledby="Overview1">

                        <div class="row">
                            <div class="col-lg-12">
                                <ul class="nav nav-pills px-3" id="myTab1" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="home-tab-1" data-toggle="tab" href="#Summary">
                                            <span class="nav-text">Summary</span>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="act-tab-1" data-toggle="tab" href="#Activity">
                                            <!-- <span class="nav-text">Activity</span> -->
                                            <span class="nav-text">Activity</span>

                                        </a>
                                    </li>
                                </ul>
                                <div class="tab-content mt-3" id="myTabContent1">
                                    <div class="tab-pane fade show active" id="Summary" role="tabpanel"
                                        aria-labelledby="home-tab-1">

                                        <div class="row mb-4">
                                            <div class="col-lg-12">
                                                <h4>Tasks</h4>
                                                <div class="row">
                                                    <div class="col-lg-7">
                                                        <div
                                                            class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                                                            <div class="kt-portlet__body px-3">
                                                                <h5><strong>DAR Summary</strong></h5>
                                                                <h6>Total Max Duration : <span
                                                                        *ngIf="ProjectBlockName != 'Standard Tasks'"><b>{{maxDuration}}Hrs</b></span>
                                                                    <span
                                                                        *ngIf="ProjectBlockName == 'Standard Tasks'"><b>{{standardDuration}}</b></span>
                                                                </h6>
                                                                <div id="DARSummary" style="width: 100%; height: 400px">
                                                                </div>

                                                                <!-- <div id="ProjectCompleteChart" style="width: 100%; height: 200px">
                                                                </div> -->
                                                                <!-- <div id="pieChatDiv"></div> -->
                                                                <!-- <div id="pieChatDiv" style="width: 100%; height: 300px">
                                                                </div> -->
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-5">
                                                        <div
                                                            class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                                                            <div class="kt-portlet__body px-3">
                                                                <!-- <h5><strong>All Tasks</strong></h5> -->

                                                                <div id="alltaskdiv" style="width: 100%; height: 150px">
                                                                </div>
                                                                <!-- projecttrenddiv -->
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-4">
                                                        <div
                                                            class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                                                            <div class="kt-portlet__body px-3">
                                                                <h5><strong>Milestones</strong></h5>
                                                                <p>Breakdown Achievement for Project</p>

                                                                <div class="progress_bar">
                                                                    <div class="pro-bar">
                                                                        <small class="progress_bar_title">
                                                                            Late
                                                                            <span class="progress_number">50%</span>
                                                                        </small>
                                                                        <span class="progress-bar-inner bg-late"
                                                                            style="width: 50%;" data-value="50"
                                                                            data-percentage-value="50"></span>
                                                                    </div>
                                                                </div>

                                                                <div class="progress_bar">
                                                                    <div class="pro-bar">
                                                                        <small class="progress_bar_title">
                                                                            Today
                                                                            <span class="progress_number">70%</span>
                                                                        </small>
                                                                        <span class="progress-bar-inner bg-today"
                                                                            style="width: 70%;" data-value="70"
                                                                            data-percentage-value="70"></span>
                                                                    </div>
                                                                </div>

                                                                <div class="progress_bar">
                                                                    <div class="pro-bar">
                                                                        <small class="progress_bar_title">
                                                                            Upcoming
                                                                            <span class="progress_number">80%</span>
                                                                        </small>
                                                                        <span class="progress-bar-inner bg-upcoming"
                                                                            style="width: 80%;" data-value="80"
                                                                            data-percentage-value="80"></span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- Row 2 -->
                                                <div class="row">
                                                    <div class="col-lg-8">
                                                        <h5><strong>All Tasks</strong></h5><br>
                                                        <h4>Project Trend</h4>
                                                        <div
                                                            class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                                                            <div class="kt-portlet__body px-3">
                                                                <h5><strong>Project Trend Graph</strong></h5>
                                                                <div id="ProjectTrendchart"
                                                                    style="width: 80%; height: 400px">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-4" *ngIf="ProjectBlockName != 'Standard Tasks'">
                                                        <h4>People on the project (RACIS)</h4>
                                                        <div
                                                            class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                                                            <div class="kt-portlet__body px-3">
                                                                <ul class="list-group">
                                                                    <li class="list-group-item active">Action Legends
                                                                    </li>
                                                                    <div class=" ribbon-content scrollbar1">
                                                                        <li class="list-group-item"
                                                                            *ngFor="let dar of DarGraphDataList;let i=index">
                                                                            <span class="text-primary"><b>{{dar.category}}:
                                                                                </b></span>
                                                                            {{dar.Project_Name}}
                                                                        </li>
                                                                    </div>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- Row 3 -->
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div class="row">
                                                    <div class="col-lg-12" *ngIf="subTaskCount == 0">
                                                        <h4>Breakdown</h4>
                                                        <div class="col-lg-2 col-sm-4">
                                                            <div class="kt-portlet mb-3">
                                                                <div class="kt-portlet__body px-3" data-toggle="tooltip"
                                                                    title="Responsible!">
                                                                    <img src="assets/images/user2.png" alt=""
                                                                        class="breakdown-user" />
                                                                    <p class="mb-2">
                                                                        <small><strong>{{Authority}}</strong></small>
                                                                    </p>
                                                                    <h5><strong>100%</strong></h5>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-12" *ngIf="subTaskCount != 0">
                                                        <h4>Breakdown</h4>
                                                    </div>
                                                    <div *ngFor="let item of Subtask_Res_List">
                                                        <div class="col-lg-2 col-sm-4" *ngIf="item.TM_DisplayName">
                                                            <div class="kt-portlet mb-3">
                                                                <div class="kt-portlet__body px-3" data-toggle="tooltip"
                                                                    title="Responsible!">
                                                                    <img src="assets/images/user2.png" alt=""
                                                                        class="breakdown-user"
                                                                        *ngIf="item.TM_DisplayName" />
                                                                    <p class="mb-2">
                                                                        <small><strong
                                                                                *ngIf="item.TM_DisplayName">{{item.TM_DisplayName}}</strong></small>
                                                                    </p>
                                                                    <h5><strong
                                                                            *ngIf="item.TM_DisplayName">{{(item.RespDuration
                                                                            / totalSubtaskHours ) |
                                                                            percent:'.1-2'}}</strong></h5>
                                                                    <h5><strong *ngIf="totalSubtaskHours == 0"> 0%
                                                                        </strong></h5>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- <div class="col-lg-2 col-sm-4">
                                                        <div class="kt-portlet mb-3">
                                                            <div class="kt-portlet__body px-3" data-toggle="tooltip" title="Authority!">
                                                                <img src="assets/images/user2.png" alt=""
                                                                    class="breakdown-user" />
                                                                <p class="mb-2">
                                                                    <small><strong>{{Authority}}</strong></small>
                                                                </p>
                                                                <h5><strong>25%</strong></h5>

                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-2 col-sm-4">
                                                        <div class="kt-portlet mb-3">
                                                            <div class="kt-portlet__body px-3" data-toggle="tooltip" title="Coordinator!">
                                                                <img src="assets/images/user2.png" alt=""
                                                                    class="breakdown-user" />
                                                                <p class="mb-2">
                                                                    <small><strong>{{Coordinator}}</strong></small>
                                                                </p>
                                                                <h5><strong>25%</strong></h5>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-2 col-sm-4">
                                                        <div class="kt-portlet mb-3">
                                                            <div class="kt-portlet__body px-3" data-toggle="tooltip" title="Informer!">
                                                                <img src="assets/images/user2.png" alt=""
                                                                    class="breakdown-user" />
                                                                <p class="mb-2">
                                                                    <small><strong>{{Informer}}</strong></small>
                                                                </p>
                                                                <h5><strong>45%</strong></h5>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-2 col-sm-4">
                                                        <div class="kt-portlet mb-3">
                                                            <div class="kt-portlet__body px-3" data-toggle="tooltip" title="Support!">
                                                                <img src="assets/images/user2.png" alt=""
                                                                    class="breakdown-user" />
                                                                <p class="mb-2">
                                                                    <small><strong>{{Support}}</strong></small>
                                                                </p>
                                                                <h5><strong>35%</strong></h5>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-2 col-sm-4">
                                                        <div class="kt-portlet mb-3">
                                                            <div class="kt-portlet__body px-3" data-toggle="tooltip" title="Owner!">
                                                                <img src="assets/images/user2.png" alt=""
                                                                    class="breakdown-user" />
                                                                <p class="mb-2">
                                                                    <small><strong>{{Owner}}</strong></small>
                                                                </p>
                                                                <h5><strong>10%</strong></h5>
                                                            </div>
                                                        </div>
                                                    </div> -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="Activity" role="tabpanel"
                                        aria-labelledby="act-tab-1">
                                        <h3>Standard Charts</h3>
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div
                                                    class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                                                    <div class="kt-portlet__body px-3">
                                                        <h5><strong>Project Monthly Summary</strong></h5>
                                                        <div id="StandardChart" style="width: 100%; height: 400px">
                                                        </div>

                                                        <div id="ProjectCompleteChart"
                                                            style="width: 100%; height: 200px">
                                                        </div>
                                                        <div id="pieChatDiv"></div>
                                                        <div id="pieChatDiv" style="width: 100%; height: 300px">
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Overview Section end-->

                    <!-- SubTasks Section -->
                    <div class="tab-pane fade" id="Tasks" role="tabpanel" aria-labelledby="Tasks1">
                        <div class="mult-div" *ngIf="subTaskCount!=0">
                            <ng-multiselect-dropdown class="mutlidropdown-set" [placeholder]="' All      '"
                                [settings]="dropdownSettings_Employee" [data]="empDropdown" [(ngModel)]="selectedEmp"
                                (onSelect)="EmpOnselect($event)" (onDeSelect)="EmpOnDeselect()">
                            </ng-multiselect-dropdown>
                        </div>
                        <ul class="nav nav-pills px-3" id="tasks-tabs" role="tablist"
                            *ngIf="subTaskCount!=0; else noResultsFound">
                            <li class="nav-item">
                                <a class="nav-link active" id="tasks-1" data-toggle="tab" href="#tasks_1">
                                    <span class="nav-text">Actions</span>
                                </a>
                            </li>

                            <li class="nav-item">
                                <a class="nav-link" id="charts-1" data-toggle="tab" href="#charts_1">
                                    <span class="nav-text">Charts</span>

                                </a>
                            </li>
                        </ul>
                        <div class="tab-content" id="task-tabbview">
                            <div class="tab-pane fade show active" id="tasks_1" role="tabpanel"
                                aria-labelledby="tasks-1">
                                <div class="tasks_views rbn-bx">                                    
                                    <div class="text-right action-btn">
                                        <!-- (click)="OnAddTaskClick()" -->
                                        <button *ngIf="inProcessCount!=0 || subTaskCount==0" (click)="sweetAlert()"
                                            [hidden]="actionButton" title="Create New Action"
                                            class="btn22 btn btn-label-primary btn-pill btn-sm btn-bold mr-1"><i
                                                class="fas fa-plus mr-2"></i>New Action</button>
                                                
                                            <!-- (click)="OnAddTaskClick()" -->
                                            <button *ngIf="inProcessCount==0 && completedCount!=0"
                                            (click)="sweetAlert()" [hidden]="actionButton" title="Create New Action"
                                            class="btn22 btn btn-label-primary btn-pill btn-sm btn-bold mr-1"><i
                                                class="fas fa-plus mr-2"></i>New Action</button>
                                    </div>
                                    <div class=" ribbon-box my-3" *ngIf="Subtask_List">
                                        <div class="ribbon-info ribbon float-start" *ngIf="inProcessCount!=0"
                                            data-toggle="tooltip" title="InProcess Actions!">
                                            Inprocess</div>

                                        <div class="ribbon-content scrollbar1" *ngIf="inProcessCount!=0">
                                            <div class="subtask-list" *ngFor="let item of Subtask_List;let i =index"
                                                [ngClass]="{'bg-custom': item.Team_Autho==Current_user_ID}">

                                                <input type="radio" name="Subtask" class="subtask-radio"
                                                    (click)="OnSubtaskClick(item)"
                                                    *ngIf="item.SubProject_Status!='Under Approval'"
                                                    [hidden]="item.Team_Autho!=Current_user_ID" />
                                                <div class="col-lg-11">
                                                    <p
                                                        class="subtask-list-title text-hover-primary font-size-h5 font-weight-bold mb-1">
                                                        <span class="mr-2" id="SpanProjName_{{item.id}}"
                                                            data-toggle="tooltip" title="Action Name!">
                                                            {{item.Project_Name}}</span>
                                                        <!-- [hidden]="item.Project_Owner!=CurrentUser_ID" -->
                                                        <span class="text-info" [hidden]="Editbutton"
                                                            id="EidtBtn_{{item.id}}"
                                                            (click)="OnEditProject(item.id,item.Project_Name)">
                                                            <i class="fas fa-edit"></i>
                                                        </span>
                                                        <span class="kt-inbox__subject" style="display:none;"
                                                            id="spanTextbox_{{item.id}}">
                                                            <div class="d-flex">
                                                                <input type="text" class="form-control text-"
                                                                    id="textboxfocus_{{item.id}}"
                                                                    [(ngModel)]="_modelProjectName"
                                                                    style="width: 78%;height: 32px;"
                                                                    (keydown.enter)="OnProject_Rename(item.id)">
                                                                <div class="d-inline-block ml-3" id="button-addon4">
                                                                    <button (click)="OnProject_Rename(item.id)"
                                                                        class="btn btn-primary btn btn-sm mr-2">Done</button>
                                                                    <button class=" btn btn-secondary btn btn-sm"
                                                                        (click)="onCancel(item.id)">Cancel</button>
                                                                </div>
                                                            </div>
                                                        </span>
                                                    </p>
                                                    <p class="mb-3">
                                                        <span class="mr-2" id="Span_DescName_{{item.id}}"
                                                            data-toggle="tooltip" title="Action Description!">
                                                            {{item.Project_Description}}</span>
                                                        <span class="text-info" [hidden]="Editbutton"
                                                            (click)="OnEditProject_Desc(item.id,item.Project_Description)">
                                                            <i class="fas fa-edit"></i>
                                                        </span>
                                                        <span class="kt-inbox__subject" style="display:none;"
                                                            id="spanTextarea_{{item.id}}">
                                                            <div class="d-flex">
                                                                <input type="text" class="form-control"
                                                                    id="textareafocus_{{item.id}}"
                                                                    [(ngModel)]="_modelProjDesc"
                                                                    style="width: 78%;height: 32px;"
                                                                    (keydown.enter)="OnProject_Rename(item.id)">
                                                                <div class="d-inline-block ml-3" id="button-addon4">
                                                                    <button (click)="OnProject_Rename(item.id)"
                                                                        class="btn btn-primary btn btn-sm mr-2">Done</button>
                                                                    <button class=" btn btn-secondary btn btn-sm"
                                                                        (click)="onCancel(item.id)">Cancel</button>
                                                                </div>
                                                            </div>
                                                        </span>

                                                    </p>

                                                    <p class="mb-1">
                                                        <span class="mr-3 text-nowrap mb-2 d-inline-block"
                                                            data-toggle="tooltip" title="Start Date!">
                                                            <i class="fas fa-calendar-alt text-muted mr-1"></i>
                                                            <b>{{item.StartDate |date:'dd-MM-yyyy'}}</b>
                                                        </span>
                                                        <span class="mr-3  text-nowrap mb-2 d-inline-block"
                                                            data-toggle="tooltip" title="End Date!">
                                                            <i class="fas fa-calendar-alt text-muted mr-1"></i>
                                                            <b>{{item.SubProject_DeadLine |date:'dd-MM-yyyy'}}</b>
                                                        </span>
                                                        <span class="mr-3 text-nowrap mb-2 d-inline-block"
                                                            data-toggle="tooltip" title="Action Cost!">
                                                            <i class="fas fa-wallet text-muted mr-1"></i>
                                                            <b>{{item.Project_Cost|currency:'SAR '}}</b>
                                                        </span>
                                                    </p>
                                                    <p class="mb-2">
                                                        <span class="mr-3 text-nowrap mb-2 d-inline-block"
                                                            data-toggle="tooltip" title="Action Responsible!">
                                                            <i class="fab fa-dev text-muted mr-1"></i>
                                                            <b> {{item.Subtask_Res}}</b>
                                                        </span>

                                                        <span class="mr-2 text-nowrap mb-2 d-inline-block" [ngClass]="{'text-danger':item.SubProject_Status=='Delay',
                                            'text-success':item.SubProject_Status=='Completed',
                                            'text-warning':item.SubProject_Status=='InProcess',
                                            'text-primary':item.SubProject_Status=='Under Approval',
                                            'text-info':item.SubProject_Status=='Completion Under Approval',
                                            'text-Rejected':item.SubProject_Status=='New Project Rejected',
                                            'text-underApproval':item.SubProject_Status=='Enactive Under Approval',
                                            'text-underApproval':item.SubProject_Status=='Forward Under Approval',
                                            'text-underApp':item.SubProject_Status=='New Project',
                                            'text-completed':item.SubProject_Status=='Completion Under Approval',
                                            'text-completeRejected':item.SubProject_Status=='Project Complete Rejected',
                                            'text-Todo':item.SubProject_Status=='ToDo Completed'}"
                                                            data-toggle="tooltip" title="Action Status!">
                                                            {{item.SubProject_Status}}
                                                        </span>
                                                    </p>

                                                    <p class="mb-1" *ngIf="item.Sourcefile">
                                                        <span class="mr-3 text-nowrap mb-2 d-inline-block">
                                                            <i class="fas fa-paperclip text-muted mr-1"></i>
                                                            <a class="text-info curser-pointer"
                                                                title="Click To Open File"
                                                                (click)="LoadDocument(item.IsCloud,item.Project_Code, item.Team_Res,item.CompleteProofDoc)">
                                                                <b>{{item.Sourcefile}}</b></a>
                                                        </span>
                                                        <span class="mr-3 text-nowrap mb-2 d-inline-block"
                                                            *ngIf="item.Remarks" data-toggle="tooltip" title="Remarks!">
                                                            <i class="fas fa-registered text-muted mr-1"></i>
                                                            <b>{{item.Remarks}}</b>
                                                        </span>
                                                    </p>
                                                    <p class="mb-2">
                                                        <span class="mr-3 text-nowrap mb-2 d-inline-block">
                                                            <h6 class=" pt-1">Allocated</h6>
                                                            <h6 class="mt-1">
                                                                {{item.SubtaskAllocated}} Hrs
                                                            </h6>
                                                            <!-- <h6 class="mr-2" id="Span_DescName_all{{item.id}}" *ngIf="item.SubtaskAllocated == 0; else allocated">
                                                                {{item.SubtaskAllocated}} Hrs</h6>
                                                            <span class="text-info" [hidden]="Editbutton" 
                                                                (click)="OnEditProject_Alloc(item.id,item.SubtaskAllocated)">
                                                                <i class="fas fa-edit" ></i> -->
                                                            <!-- *ngIf="item.Subtask_Res==CurrentUser_ID" = For Subatask assignedto otherthan Authority validation -->
                                                            <!-- </span>
                                                            <span class="kt-inbox__subject" style="display:none;" id="spanTextarea_all{{item.id}}">
                                                                <div class="d-flex">
                                                                    <input type="number" class="form-control" id="textareafocus_all{{item.id}}"
                                                                        [(ngModel)]="_modelProjAlloc" min="0" oninput="validity.valid||(value='');" style="width: 40%;height: 32px;"
                                                                        (keydown.enter)="OnProject_Rename(item.id)">
                                                                        <span *ngIf="_modelProjAlloc > (item.SubtaskDuration * 10)" style="color:red">*Allocation per day limit is 10 hours.</span>
                                                                        <span *ngIf="_modelProjAlloc > (item.SubtaskDuration * 10)" style="color:red">Please enter the hours less than or equal to <b>{{(item.SubtaskDuration * 10)}}</b> hours!</span>
                    
                                                                    <div class="d-inline-block ml-3" id="button-addon4">
                                                                        <button (click)="OnProject_Rename(item.id)"
                                                                            class="btn btn-primary btn btn-sm mr-2">Done</button>
                                                                        <button class=" btn btn-secondary btn btn-sm"
                                                                            (click)="onCancel(item.id)">Cancel</button>
                                                                    </div>
                                                                </div>
                                                            </span>
                                                            <ng-template #allocated>
                                                                <h6 class="mt-1"> 
                                                                    {{item.SubtaskAllocated}}Hrs
                                                                  </h6>
                                                            </ng-template>   -->
                                                        </span>
                                                        <span class="mr-3 text-nowrap mb-2 d-inline-block">
                                                            <h6 class=" pt-1">Duration</h6>
                                                            <h6 *ngIf="ProjectBlockName!='Standard Tasks'" class="mt-1">
                                                                {{item.SubtaskDuration}} days</h6>
                                                            <h6 *ngIf="ProjectBlockName=='Standard Tasks'" class="mt-1">
                                                                Continuous</h6>
                                                        </span>
                                                        <span class="mr-3 text-nowrap mb-2 d-inline-block">
                                                            <h6 class=" pt-1">Percentage</h6>
                                                            <h6 class="mt-1">{{(item.SubtaskAllocated /
                                                                totalSubtaskHours) | percent:'.1-2'}}</h6>
                                                            <h6 class="mt-1" *ngIf="totalSubtaskHours == 0"> 0% </h6>
                                                            <!-- <h6 class="mt-1" *ngIf="maxDuration == 0">{{(totalPercent / subTaskCount) | percent:'.1-2'}}</h6> -->
                                                        </span>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" ribbon-box my-3" *ngIf="CompletedList">
                                        <div class="ribbon-success  ribbon float-start" *ngIf="completedCount!=0"
                                            data-toggle="tooltip" title="Completed Actions!">
                                            Completed</div>
                                        <div class="ribbon-content scrollbar1" *ngIf="completedCount !=0">
                                            <!-- bg-custom   --- For grey background use (bg-custom) class -->
                                            <div class="subtask-list" *ngFor="let item of CompletedList">
                                                <div class="col-lg-11">
                                                    <p
                                                        class="subtask-list-title text-hover-primary font-size-h5 font-weight-bold mb-1">
                                                        <span class="mr-2" id="SpanProjName_{{item.id}}"
                                                            data-toggle="tooltip" title="Action Name!">
                                                            {{item.Project_Name}}</span>
                                                        <!-- [hidden]="item.Project_Owner!=CurrentUser_ID" -->
                                                        <!-- <span class="text-info" [hidden]="Editbutton"
                                                            id="EidtBtn_{{item.id}}"
                                                            (click)="OnEditProject(item.id,item.Project_Name)">
                                                            <i class="fas fa-edit"></i>
                                                        </span> -->
                                                        <!-- <span class="kt-inbox__subject" style="display:none;"
                                                            id="spanTextbox_{{item.id}}">
                                                            <div class="d-flex">
                                                                <input type="text" class="form-control text-"
                                                                    id="textboxfocus_{{item.id}}"
                                                                    [(ngModel)]="_modelProjectName"
                                                                    style="width: 78%;height: 32px;"
                                                                    (keydown.enter)="OnProject_Rename(item.id)">
                                                                <div class="d-inline-block ml-3" id="button-addon4">
                                                                    <button (click)="OnProject_Rename(item.id)"
                                                                        class="btn btn-primary btn btn-sm mr-2">Done</button>
                                                                    <button class=" btn btn-secondary btn btn-sm"
                                                                        (click)="onCancel(item.id)">Cancel</button>
                                                                </div>
                                                            </div>
                                                        </span> -->
                                                    </p>
                                                    <p class="mb-3">
                                                        <span class="mr-2" id="Span_DescName_{{item.id}}"
                                                            data-toggle="tooltip" title="Action Description!">
                                                            {{item.Project_Description}}</span>
                                                        <!-- <span class="text-info" [hidden]="Editbutton"
                                                            (click)="OnEditProject_Desc(item.id,item.Project_Description)">
                                                            <i class="fas fa-edit"></i>
                                                        </span> -->
                                                        <!-- <span class="kt-inbox__subject" style="display:none;"
                                                            id="spanTextarea_{{item.id}}">
                                                            <div class="d-flex">
                                                                <input type="text" class="form-control"
                                                                    id="textareafocus_{{item.id}}"
                                                                    [(ngModel)]="_modelProjDesc"
                                                                    style="width: 78%;height: 32px;"
                                                                    (keydown.enter)="OnProject_Rename(item.id)">
                                                                <div class="d-inline-block ml-3" id="button-addon4">
                                                                    <button (click)="OnProject_Rename(item.id)"
                                                                        class="btn btn-primary btn btn-sm mr-2">Done</button>
                                                                    <button class=" btn btn-secondary btn btn-sm"
                                                                        (click)="onCancel(item.id)">Cancel</button>
                                                                </div>
                                                            </div>
                                                        </span> -->

                                                    </p>

                                                    <p class="mb-1">
                                                        <span class="mr-3 text-nowrap mb-2 d-inline-block"
                                                            data-toggle="tooltip" title="Start Date!">
                                                            <i class="fas fa-calendar-alt text-muted mr-1"></i>
                                                            <b>{{item.StartDate |date:'dd-MM-yyyy'}}</b>
                                                        </span>
                                                        <span class="mr-3  text-nowrap mb-2 d-inline-block"
                                                            data-toggle="tooltip" title="End Date!">
                                                            <i class="fas fa-calendar-alt text-muted mr-1"></i>
                                                            <b>{{item.SubProject_DeadLine |date:'dd-MM-yyyy'}}</b>
                                                        </span>
                                                        <span class="mr-3 text-nowrap mb-2 d-inline-block"
                                                            data-toggle="tooltip" title="Action Cost!">
                                                            <i class="fas fa-wallet text-muted mr-1"></i>
                                                            <b>{{item.Project_Cost|currency:'SAR '}}</b>
                                                        </span>
                                                    </p>
                                                    <p class="mb-2">
                                                        <span class="mr-3 text-nowrap mb-2 d-inline-block"
                                                            data-toggle="tooltip" title="Action Responsible!">
                                                            <i class="fab fa-dev text-muted mr-1"></i>
                                                            <b> {{item.Subtask_Res}}</b>
                                                        </span>

                                                        <span class="mr-2 text-nowrap mb-2 d-inline-block" [ngClass]="{'text-danger':item.SubProject_Status=='Delay',
                                            'text-success':item.SubProject_Status=='Completed',
                                            'text-warning':item.SubProject_Status=='InProcess',
                                            'text-underApp':item.SubProject_Status=='Under Approval',
                                            'text-info':item.SubProject_Status=='Completion Under Approval',
                                            'text-Rejected':item.SubProject_Status=='New Project Rejected',
                                            'text-underApproval':item.SubProject_Status=='Enactive Under Approval',
                                            'text-underApproval':item.SubProject_Status=='Forward Under Approval',
                                            'text-primary':item.SubProject_Status=='New Project',
                                            'text-completed':item.SubProject_Status=='Completion Under Approval',
                                            'text-completeRejected':item.SubProject_Status=='Project Complete Rejected',
                                            'text-Todo':item.SubProject_Status=='ToDo Completed'}"
                                                            data-toggle="tooltip" title="Action Status!">
                                                            {{item.SubProject_Status}}
                                                        </span>
                                                    </p>
                                                    <p class="mb-1" *ngIf="item.Sourcefile">
                                                        <span class="mr-3 text-nowrap mb-2 d-inline-block">
                                                            <i class="fas fa-paperclip text-muted mr-1"></i>
                                                            <a class="text-info curser-pointer"
                                                                title="Click To Open File"
                                                                (click)="LoadDocument(item.IsCloud,item.Project_Code,item.Team_Res,item.CompleteProofDoc)">
                                                                <b>{{item.Sourcefile}}</b></a>
                                                        </span>
                                                        <span class="mr-3 text-nowrap mb-2 d-inline-block"
                                                            *ngIf="item.Remarks" data-toggle="tooltip" title="Remarks!">
                                                            <i class="fas fa-registered text-muted mr-1"></i>
                                                            <b>{{item.Remarks}}</b>
                                                        </span>
                                                    </p>
                                                    <p class="mb-2">
                                                        <span class="mr-3 text-nowrap mb-2 d-inline-block">
                                                            <h6 class=" pt-1">Allocated</h6>
                                                            <h6 class="mt-1">{{item.SubtaskAllocated}}Hrs</h6>
                                                        </span>
                                                        <span class="mr-3 text-nowrap mb-2 d-inline-block">
                                                            <h6 class=" pt-1">Duration</h6>
                                                            <h6 *ngIf="ProjectBlockName!='Standard Tasks'" class="mt-1">
                                                                {{item.SubtaskDuration}} days</h6>
                                                            <h6 *ngIf="ProjectBlockName=='Standard Tasks'" class="mt-1">
                                                                Continuous</h6>
                                                        </span>
                                                        <span class="mr-3 text-nowrap mb-2 d-inline-block">
                                                            <h6 class=" pt-1">Percentage</h6>
                                                            <h6 class="mt-1">{{(item.SubtaskAllocated /
                                                                totalSubtaskHours) | percent:'.1-2'}}</h6>
                                                            <!-- <h6 class="mt-1" >{{(totalPercent / subTaskCount) | percent:'.1-2'}}</h6> -->
                                                        </span>
                                                    </p>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="tab-pane fade" id="charts_1" role="tabpanel" aria-labelledby="charts-1">


                                <!-- Subtask Chart -->

                                <!-- Hours and Percentage -->
                                <div class="row" *ngIf="IsData!=null">
                                    <div class="col-lg-12">
                                        <div
                                            class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid bg-none shadow-none">
                                            <div class="kt-portlet__body px-3">
                                                <h5><strong>Subtask Hour and Percentage</strong></h5>
                                                <!-- <div id="SummaryChart" style="width: 100%; height: 500px">
                                        </div> -->
                                                <!-- <h5><strong>Hybrid Graph</strong></h5>-->
                                                <div id="Hybridchartdiv" style="width: 100%; height: 400px">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Summary Chart -->
                                <div class="row" *ngIf="IsData!=null">
                                    <div class="col-lg-12">
                                        <div
                                            class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid bg-none shadow-none">
                                            <div class="kt-portlet__body px-3">
                                                <h5><strong>Subtask Summary</strong></h5>
                                                <div id="SummaryChart" style="width: 100%; height: 500px">
                                                </div>
                                                <!-- <h5><strong>Hybrid Graph</strong></h5>
                                         -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- SubTasks Section end-->

                    <!-- Milestones section -->
                    <div class="tab-pane fade" id="Milestones" role="tabpanel" aria-labelledby="Milestones1">
                        <h3 *ngIf="noMilestones == false; else noResultsFound">Milestones</h3>
                        <!-- <h4 *ngIf="noMilestones == true">No Records Found.</h4> -->
                    </div>
                    <!-- Milestones section end-->

                    <!--  DMS Working Area -->

                    <div class="tab-pane fade" id="DMS" role="tabpanel" aria-labelledby="DMS1">
                        <div class="bg-white p-3 mb-2">
                            <div>
                                <button type="button" class="btn btn-info btn-sm py-1" (click)="AddDms()">
                                    <i class="fa fa-chart-bar"></i>Add DMS
                                </button>
                            </div>
                            <table class="table">
                                <tbody>
                                    <tr *ngFor="let itemMemos of _MemosSubjectList; let i=index">
                                        <td>
                                            <a href="javascript:void(0)" (click)="openUrl(itemMemos.Url)">
                                                {{itemMemos.Subject}}</a>
                                        </td>
                                        <td class="align-top curser-pointer" (click)="deleteMemos(itemMemos.MailId)">
                                            <i class="fas fa-trash-alt text-primary"></i>
                                        </td>
                                    </tr>

                                </tbody>
                                <p style="color:gray" >{{_MemosNotFound}}</p>
                            </table>
                        </div>
                    </div>
                    <!--  DMS Working Area end-->

                    <!-- Files Section -->
                    <!-- <div class="tab-pane fade" id="Links" role="tabpanel" aria-labelledby="Links1">Links</div> -->
                    <div class="tab-pane fade" id="Files" role="tabpanel" aria-labelledby="Files1">
                        <!-- <div class="kt-subheader   kt-grid__item" id="kt_subheader">
                            <div class="kt-container w-100 px-0">
                                <div class="kt-subheader__main"> -->
                        <h3 class="kt-subheader__title" *ngIf="attachmentlength!=0; else noResultsFound">Files</h3>
                        <!-- <h4 class="kt-subheader__title" *ngIf="noFiles == true">No Records Found.</h4> -->
                        <!-- </div>
                            </div>
                        </div> -->
                        <div class="row" *ngIf="ProjectBlock=='003' else others">
                            <div class="col-lg-12" *ngFor="let item of AttachmentList; let i=index">
                                <div class="kt-portlet mb-2">
                                    <div class="kt-portlet__body">
                                        <div class="kt-widget__files">
                                            <a class="d-flex">
                                                <div class="kt-widget__media mr-3">
                                                    <img class="kt-widget__img kt-hidden-" src="assets/images/pdf.svg"
                                                        alt="image">
                                                </div>
                                                <div>
                                                    <span class="kt-widget__desc pt-1 curser-pointer"
                                                        (click)="openPDF_Standard(item.Reportdate,item.Proofdoc)">{{item.Proofdoc}}</span>
                                                    
                                                    <div class="kt-widget__desc pt-1" style="color:  #FFA500;">
                                                        <small>{{item.Remarks}}</small>
                                                    </div>
                                                    <div class="kt-widget__desc pt-1">
                                                        <small>Submitted By : {{item.SubmittedBy}}</small>
                                                    </div>
                                                    <div class="kt-widget__desc pt-1">
                                                        <small>Submitted Date : {{item.Reportdate|date:'fullDate'}}</small>
                                                    </div>
                                                </div>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <ng-template #others>
                            <div class="row">
                                <div class="col-lg-12" *ngFor="let item of AttachmentList; let i=index">
                                    <div class="kt-portlet mb-2">
                                        <div class="kt-portlet__body">
                                            <div class="kt-widget__files">
                                                <a class="d-flex">
                                                    <div class="kt-widget__media mr-3">
                                                        <img class="kt-widget__img kt-hidden-"
                                                            src="assets/images/pdf.svg" alt="image">
                                                    </div>
                                                    <div>
                                                        <span class="kt-widget__desc pt-1 curser-pointer"
                                                            (click)="openPDF(item.IsCloud,item.CompleteProofDoc)">{{item.CompleteProofDoc}}</span>
                                                        <div class="kt-widget__desc pt-1">
                                                            <small>{{item.LastUpdate | date:'fullDate'}}</small>
                                                        </div>
                                                        <div class="kt-widget__desc pt-1" style="color:  #FFA500;">
                                                            <small>{{item.Remarks}}</small>
                                                        </div>
                                                        <div class="kt-widget__desc pt-1">
                                                            <small>Submitted By : {{item.SubmittedBy}}</small>
                                                        </div>
                                                        <div class="kt-widget__desc pt-1">
                                                            <small>Submitted Date : {{item.Rec_Date|date:'fullDate'}}</small>
                                                        </div>
                                                    </div>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </div>
                    <!-- Files Section end -->

                    <!-- TimeLine Section -->
                    <div class="tab-pane fade" id="Timeline" role="tabpanel" aria-labelledby="Timeline1">
                        <!-- <h3 class="kt-subheader__title text-left" *ngIf="noTimeline == false">Timeline</h3>  -->
                        <div class="d-flex-center mb-3">

                            <div class="">
                                <button [hidden]="darbutton==false" type="button" class="btn btn-info btn-sm"
                                    (click)="darcreate()">
                                    Create Timeline
                                </button>
                            </div>
                            <div class=" mb-0">
                                <h6 class="mb-0">
                                    <strong>Total Achievement Hours - {{totalHours}}</strong>
                                </h6>
                            </div>
                        </div>
                        <div *ngIf="noTimeline == false; else noResultsFound">
                            <div class="item-b  ribbon-content scrollbar1">
                                <div class="mb-3" *ngFor="let item of darArray">
                                    <!-- <div class="list-header">
                                    <h4 class="header-date">
                                        {{item.SubmissionDate | date: 'fullDate'}}
                                    </h4><br>
                                </div> -->
                                    <div class="">
                                        <table class="time-table mb-1">
                                            <thead>
                                                <tr>
                                                    <th style="width: 50px;">S.No.</th>
                                                    <th style="width: 280px;">Employee</th>
                                                    <th style="width: 280px;"
                                                        *ngIf="ProjectBlockName != 'Standard Tasks'">Action Name</th>
                                                    <th>Achievement</th>
                                                    <th style="width: 80px;">Start</th>
                                                    <th style="width: 80px;">End</th>
                                                    <th style="width: 80px;">Time</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let dar of item.Dardata; let i=index">
                                                    <td>{{i+1}}</td>
                                                    <td>
                                                        <div class="d-flex">
                                                            <div class="initial-box color-7 b-50 mr-2">{{dar.Initial}} </div>
                                                            <span class="user--name">{{dar.EmpName}}</span>
                                                        </div>
                                                    </td>
                                                    <td *ngIf="ProjectBlockName != 'Standard Tasks'">{{dar.ProjectName}}
                                                    </td>
                                                    <td>{{dar.WorkAchieved}}</td>
                                                    <td>{{dar.starttime}}</td>
                                                    <td>{{dar.endtime}}</td>
                                                    <td>{{dar.Duration}} Hrs</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                    <div class="time-totals mb-3">
                                        <div class="">
                                            <h4 class="header-date p-0">
                                                {{item.SubmissionDate | date: 'fullDate'}}
                                            </h4>
                                        </div>
                                        <div class="">
                                            <ul class="time-totals-list">
                                                <li class="totals-list--item">
                                                    <span><strong>Total Hours: </strong></span>
                                                    <span>{{item.TotalDuration}}</span>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="show1 more">Show More </div>
                            <div class="show1 less">Show Less </div> 
                         (click)="CurrentPageNo = CurrentPageNo + 1; loadMore()"
                                [disabled]="_CurrentpageRecords<10" -->
                                <div style="text-align:center"> <button class="btn btn-info loadMore"
                                        (click)="CurrentPageNo = CurrentPageNo + 1; loadMore()"
                                        [hidden]="_CurrentpageRecords<10">
                                        Load More!</button></div>
                            </div>
                        </div>
                    </div>
                    <!-- TimeLine Section end-->

                    <!-- Notes Section -->
                    <div class="tab-pane fade" id="Notes" role="tabpanel" aria-labelledby="Notes1">
                        <h3 *ngIf="noNotes == false; else noResultsFound"> Notes</h3>
                        <!-- <h4 *ngIf="noNotes == true">No Records Found.</h4> -->
                    </div>
                    <!-- Notes Section end-->

                    <!-- Comments Section -->
                    <div class="tab-pane fade" id="Comments" role="tabpanel" aria-labelledby="Comments1">
                        <div class="card cust-card py-3">
                            <div class="comments-list">
                                <div class="card-body p-0 cust-bd1">
                                    <ul class="commentul pr-2 px-0 pl-0">
                                        <ng-container *ngFor="let item of _CommentsList">
                                            <div *ngIf="(item.Send_From == 'WS') then even;">
                                            </div>
                                            <div *ngIf="(item.Send_From != 'WS') then odd;">
                                            </div>
                                            <ng-template #odd>
                                                <li class="comment-list">
                                                    <div class="d-flex">
                                                        <div class="">
                                                            <span class="name-box text-center">{{item.Initial}}</span>
                                                        </div>
                                                        <div class="d-flex flex-column flex-grow-1">
                                                            <span class="comment-info">{{item.Emp_name}}</span>
                                                            <div class="comment-text">
                                                                <span>{{item.Req_Coments}}</span>
                                                            </div>
                                                            <div class="blw mt-2">
                                                                <span
                                                                    class="kt-badge kt-badge--inline kt-badge--unified-info">{{item.Req_Type}}</span>
                                                                <span
                                                                    class="comment-info dt kt-badge kt-badge--inline kt-badge--unified-dark">{{item.Req_DL | date:'dd-MM-yyyy'}}</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ng-template>
                                            <ng-template #even>
                                                <li class="comment-list odd">
                                                    <div class="d-flex flex-row-reverse">
                                                        <div class="">
                                                            <span class="name-box text-center">{{item.Initial}}</span>
                                                        </div>
                                                        <div class="d-flex flex-column flex-grow-1 align-items-end">
                                                            <span class="comment-info">{{item.Emp_name}}</span>
                                                            <div class="comment-text">
                                                                <span>{{item.Req_Coments}}</span>
                                                            </div>
                                                            <div class="mt-2">
                                                                <span
                                                                    class="kt-badge kt-badge--inline kt-badge--unified-info">{{item.Req_Type}}</span>
                                                                <span
                                                                    class="kt-badge kt-badge--inline kt-badge--unified-dark comment-info dt">{{item.Req_DL | date:'dd-MM-yyyy'}}</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ng-template>
                                        </ng-container>
                                    </ul>
                                </div>
                                <div class="card-footer d-none">
                                    <ul class="commentlt">
                                        <li class="comment-list">
                                            <div class="d-flex align-items-center">
                                                <div class="">
                                                    <span class="name-box text-center">RK</span>
                                                </div>
                                                <div class="flex-grow-1 ml-2">
                                                    <input type="text" class="form-control">
                                                </div>
                                                <button class="btn btn-sm ml-2 btn-info"><i
                                                        class="far fa-paper-plane"></i>Send</button>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Comments Section end-->

                    <!-- People Section -->
                    <div class="tab-pane fade" id="People" role="tabpanel" aria-labelledby="People1">
                        <h4>People on the project (RACIS)</h4>
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body px-3 project-people">
                                <div class="d-flex align-items-center justify-content-between mb-3">
                                    <div>
                                        <div class="d-flex align-items-center">
                                            <div class="initial-box color-1">{{InitOwn}}
                                            </div>
                                            <div class="owner-details">
                                                <span class="text-muted">Owner</span>
                                                <p class="text-dark text-hover-primary mb-0">
                                                    <strong>{{Owner}}</strong>
                                                    <!-- <strong>0%</strong> -->
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <span class="text-muted"><strong></strong></span>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center justify-content-between mb-3">
                                    <div>
                                        <div class="d-flex align-items-center">
                                            <div class="initial-box color-2">{{InitR}}
                                            </div>
                                            <div class="owner-details">
                                                <span class="text-muted">Responsible</span>
                                                <p class="text-dark text-hover-primary mb-0">
                                                    <strong>{{Responsible}}</strong>
                                                    <!-- <strong>0%</strong> -->
                                                </p>
                                                <!-- <span class="text-muted">(ACtion's Responsible)</span>
                                                <p class="text-muted" *ngFor="let item of Subtask_Res_List">
                                                    <strong>{{item.TM_DisplayName}}</strong>
                                                    <strong *ngIf="item.TM_DisplayName">{{(item.EmpCount / subTaskCount) | percent:'.1-2'}}</strong>
                                                </p>                                               -->
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <span class="text-muted"><strong></strong></span>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center justify-content-between mb-3">
                                    <div>
                                        <div class="d-flex align-items-center">
                                            <div class="initial-box color-3">{{InitAut}}
                                            </div>
                                            <div class="owner-details">
                                                <span class="text-muted">Authority</span>
                                                <p class="text-dark text-hover-primary mb-0">
                                                    <strong>{{Authority}}</strong>
                                                    <!-- <strong>0%</strong> -->
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <span class="text-muted"><strong></strong></span>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center justify-content-between mb-3">
                                    <div>
                                        <div class="d-flex align-items-center">
                                            <div class="initial-box color-4">
                                                {{InitCoor}}
                                            </div>
                                            <div class="owner-details">
                                                <span class="text-muted">Coordinator</span>
                                                <p class="text-dark text-hover-primary mb-0">
                                                    <strong>{{Coordinator}}</strong>
                                                    <!-- <strong>0%</strong> -->
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <span class="text-muted"><strong></strong></span>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center justify-content-between mb-3">
                                    <div>
                                        <div class="d-flex align-items-center">
                                            <div class="initial-box color-5">
                                                {{InitInformer}}</div>
                                            <div class="owner-details">
                                                <span class="text-muted">Informer</span>
                                                <p class="text-dark text-hover-primary mb-0">
                                                    <strong>{{Informer}}</strong>
                                                    <!-- <strong>0%</strong> -->
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <span class="text-muted"><strong></strong></span>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center justify-content-between">
                                    <div>
                                        <div class="d-flex align-items-center">
                                            <div class="initial-box color-6">
                                                {{InitSupp}}
                                            </div>
                                            <div class="owner-details">
                                                <span class="text-muted">Support</span>
                                                <p class="text-dark text-hover-primary mb-0">
                                                    <strong>{{Support}}</strong>
                                                    <!-- <strong>0%</strong> -->
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <span class="text-muted"><strong></strong></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <ng-template #zeroPercent>
                            <p><strong>0%</strong></p>
                        </ng-template>
                    </div>
                    <!-- People Section end-->

                    <!-- Meetings section -->
                    <div class="tab-pane fade" id="Meeting" role="tabpanel" aria-labelledby="Meeting1">
                        <h3 *ngIf="noMeeting == false; else noResultsFound">Meeting</h3>
                        <!-- <h4  *ngIf="noMeeting == true">No Records Found.</h4> -->
                    </div>
                    <!-- Meetings section end-->
                </div>
            </div>
        </div>
    </div>
    <!--no records found-->
    <ng-template #noResultsFound>
        <div class="">
            <div class="d-flex-center">
                <div class="m-auto">
                    <svg fill="none" xmlns="http://www.w3.org/2000/svg" width="148" height="136" viewBox="0 0 148 136">
                        <g clip-path="url(#a)">
                            <path
                                d="M25.532 24.814c-17.957 22.26-21.952 59.119 1.09 81.273 28.633 27.534 63.831 26.132 92.703 9.462 32.184-18.573 21.146-69.442 12.563-83.971-25.269-42.77-80.228-39.154-106.356-6.764Z"
                                fill="#E7EBF1" opacity=".5"></path>
                            <path
                                d="M2.168 32.184c4.055 44.656 59.34 23.353 56.364-2.453C53.969-9.658-1.42-7.257 2.168 32.184Z"
                                fill="#79E3AA"></path>
                            <path
                                d="M37.58 19.274a2.666 2.666 0 0 0-1.721.95c-5.712 6.35-4.682 7.359-10.103 13.926-.978-.8-1.945-1.609-2.846-2.502a11.285 11.285 0 0 1-1.46-1.938c-1.595-2.772-6.365.168-4.206 3.094 1.1 1.868 6.935 7.79 9.111 7.535 3.855-.453 7.075-9.63 13.555-16.821a2.62 2.62 0 0 0-2.348-4.244h.018Z"
                                fill="#fff"></path>
                            <path
                                d="M141.844 41.842c1.7-3.02 1.111-32.59 1.024-32.696.038-1.454-.778-1.493-1.665-1.493-15.048.067-48.952-.483-49.79-.122h-.052a1.107 1.107 0 0 0-.733.26.875.875 0 0 0-.319.62c-.42 4.74.596 28.805.596 33.557l50.939-.126Z"
                                fill="#4DA2F8"></path>
                            <path
                                d="M144.22 31.907c0-10.408.067-15.917-.066-16.82.094-1.028-.207-1.729-1.178-1.665-8.323-.701-21.453-.151-25.196-.642-.505-.68-1.027-2.684-1.566-3.329-.54-.645-1.802-2.218-2.387-3.073-.894-1.45-1.665-1.517-4.773-1.402-16.575.49-18.629-.4-19.642.302-1.696 3.952-.277 44.22-.182 44.35-.042 1.91.778 1.963 1.665 1.96 15.047-.074 50.974.672 51.811.2h.067a1.017 1.017 0 0 0 .732-.351c.192-.232.3-.523.305-.824.438-6.224.417-12.475.41-18.706Z"
                                fill="#63C0F9"></path>
                            <path opacity=".6"
                                d="M98.916 13.362c-2.31 0-4.237 0-4.762-.066a1.116 1.116 0 0 1 .245-2.219c1.002.105 9.374.032 14.75-.045a1.11 1.11 0 0 1 .815 1.884 1.113 1.113 0 0 1-.78.337c-.883.021-6.182.098-10.268.11Z"
                                fill="#fff"></path>
                            <path
                                d="M45.023 135.513a2.644 2.644 0 0 0 2.724.197 2.64 2.64 0 0 0 1.435-2.324c0 .031-1.682-7.391 1.914-7.556 7.969-.35 17.395-3.357 17.13-10.832-.484-13.544-.225-25.522-5.629-30.07-7.065-5.958-21.226-2.043-33.312-.968-18.314 1.63-23.546 3.75-22.127 21.664a57.15 57.15 0 0 0 2.804 14.214c3.907 10.524 12.013 7.394 23.577 7.317 1.16 0 1.64 1.391 11.484 8.358Z"
                                fill="#FFD56A"></path>
                            <path
                                d="M22.595 107.741a1.57 1.57 0 0 1-1.693-1.353 1.59 1.59 0 0 1 1.346-1.776c5.06-.48 28.511-2.888 33.554-3.231a1.582 1.582 0 0 1 .424 3.129 1.283 1.283 0 0 1-.263 0c-5.01.543-28.27 2.758-33.29 3.21l-.078.021ZM21.884 99.74a1.567 1.567 0 0 1-1.383-2.515 1.591 1.591 0 0 1 1.036-.614c5.056-.48 28.511-2.887 33.55-3.23a1.581 1.581 0 0 1 .428 3.132 1.647 1.647 0 0 1-.263 0c-5.011.543-28.27 2.754-33.291 3.21l-.077.018ZM23.597 115.293a1.541 1.541 0 1 1-.27-3.073l21.104-1.991a1.6 1.6 0 0 1 .616.018 1.598 1.598 0 0 1 .986.702 1.58 1.58 0 0 1-1.354 2.42l-21.089 1.987.007-.063Z"
                                fill="#CE8D4F"></path>
                            <path
                                d="M106.822 90.49c2.642 4.979 22.68 25.157 22.708 25.181 9.781 7.741 22.547-9.714 12.286-16.708-.028-.021-24.106-14.719-29.647-15.745"
                                fill="#727491"></path>
                            <path
                                d="m96.968 93.328 6.307 4.643a4.908 4.908 0 0 0 6.61-.74c3.592-4.117 6.521-8.792 9.482-13.442a4.906 4.906 0 0 0-1.051-6.445c-1.882-1.524-3.427-2.87-6.062-4.808-3.827 7.748-9.886 14.053-15.286 20.792Z"
                                fill="#727491"></path>
                            <path
                                d="M37.611 80.453c29.034 52.397 96.187 11.119 77.513-35.685-5.19-13.026-17.77-22.73-31.651-24.72-32.121-4.604-61.898 31.466-45.862 60.405Z"
                                fill="#B3B9CE"></path>
                            <path
                                d="M47.07 75.922c21.919 39.557 72.613 8.41 58.522-26.942-3.922-9.83-13.418-17.171-23.896-18.66-24.254-3.477-46.73 23.759-34.627 45.602Z"
                                fill="#E2F6FE"></path>
                            <g opacity=".3" fill="#63C0F9">
                                <path opacity=".3"
                                    d="M87.467 66.456a.718.718 0 0 1-.95-.407.701.701 0 0 1 .25-.85.732.732 0 0 1 .988 1.068.8.8 0 0 1-.288.19ZM85.754 81.402a.796.796 0 0 1-.833-.123.835.835 0 0 1-.25-.35.05.05 0 0 0 0-.02.798.798 0 0 1 .294-.986.841.841 0 0 1 1.125 1.238.912.912 0 0 1-.336.241ZM97.77 89.452a.772.772 0 0 1-.417.052.795.795 0 0 1-.606-.494v-.024a.768.768 0 0 1 .815-1.055.792.792 0 0 1 .513 1.293.84.84 0 0 1-.305.228ZM112.103 83.147a.754.754 0 0 1-.788-.114.783.783 0 0 1-.235-.327.038.038 0 0 1 0-.021.762.762 0 0 1 .276-.929.794.794 0 0 1 1.235.641.79.79 0 0 1-.183.523.839.839 0 0 1-.305.227ZM114.328 69.431a.77.77 0 0 1-.943-.252.784.784 0 0 1-.162-.54.784.784 0 0 1 .24-.511.794.794 0 0 1 1.051-.053.786.786 0 0 1-.182 1.353l-.004.004ZM101.902 60.352a.751.751 0 1 1-.529-1.401.75.75 0 0 1 .753.185v.017a.75.75 0 0 1 .194.663.744.744 0 0 1-.436.536h.018Z">
                                </path>
                            </g>
                            <path opacity=".8" d="M97.024 49.905a25.344 25.344 0 0 0-35.632-3.826" stroke="#fff"
                                stroke-width="7.36" stroke-miterlimit="10" stroke-linecap="round"></path>
                        </g>
                        <defs>
                            <clipPath id="a">
                                <path fill="#fff" d="M0 0h148v136H0z"></path>
                            </clipPath>
                        </defs>
                    </svg>
                    <div class="bnk-txt mt-3">
                        <h3 class="blank-txt">No Results Found</h3>
                    </div>
                </div>
            </div>
        </div>
    </ng-template>
    <!--no records found end-->
</div>
<div id="rightbar-overlay" (click)="closeInfo()"></div>
<!-- Action-To-Project-New_Subtask -->
<div id="mysideInfobar1" class="sideInfobar animate-right">
    <router-outlet></router-outlet>
</div>

<!-- For Update Project-->
<div id="mysideInfobar_ProjectsUpdate" class="sideInfobar animate-right offcanvas">
    <div class="px-4 pt-4 pb-1">
        <div class="offcanvas-header d-flex align-items-center justify-content-between pb-2">
            <h4 class="font-weight-bold m-0">Project Submission</h4>
            <a href="javascript:void(0)" class="closebtn btn btn-xs btn-icon btn-hover-primary"
                (click)="closeInfoProject()">
                <i class="fa fa-times"></i>
            </a>
        </div>
    </div>
    <div class="px-4 pt-2">
        <div class="">
            <div class="d-flex align-items-center justify-content-between mt-0">
                <div>
                    <div class="my-2">
                        <label class="kt-badge kt-hover--primary kt-bg-light-primary kt-badge--inline">
                            <i class="fa fa-clone mr-2"></i>{{ProjectBlockName}}</label>
                    </div>
                </div>
            </div>
            <div class="d-flex mt-3 flex-column">
                <h5 class="fs-3 mb-2">{{ProjectName}}</h5>
                <span class="text-muted fs-5">{{Description}}</span>
            </div>
        </div>
        <div class="form-group mt-3">
            <label>Attachments</label><span class="text-danger">*</span>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-upload" viewBox="0 0 16 16">
                            <path
                                d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z" />
                            <path
                                d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z" />
                        </svg>
                    </span>
                </div>
                <div class="custom-file">
                    <input type="file" class="custom-file-input" id="_pdf" accept="application/pdf"
                        (change)="onFileChange($event)">
                    <label class="custom-file-label" id="upload" for="_pdf">Select a file</label>
                </div>
            </div>
            <span class="text-info"> *Accept only pdf files </span>
        </div>
        <!-- <div class="form-group">
            <label>Attachments 1 </label>
            <div></div>
            <div class="custom-file">
                <input type="file" class="form-control-file" id="_pdf" accept="application/pdf"
                    (change)="onFileChange($event)">
            </div>
        </div> -->

        <!-- <div class="form-group">
            <label>Attachments 2</label>
            <div></div>
            <div class="custom-file">
                <input type="file" class="form-control-file" id="uploadFile" (change)="onFileChange2($event)">
            </div>
        </div> -->
        <div class="form-group">
            <label for="exampleFormControlFile1"> Remarks <span class="text-danger">*</span></label>
            <textarea class="form-control" aria-label="With textarea" [(ngModel)]="_remarks"
                style="height: 264px; margin-top: 0px; margin-bottom: 0px;"></textarea>
        </div>


        <div class="form-group mb-1">
            <button type="submit" class="btn btn-primary" [disabled]="(_remarks=='')||(selectedFile==null)"
                (click)="updateMainProject()">Submit
            </button>
        </div>
    </div>
</div>
<!-- For Update Subtask -->
<div id="mysideInfobar_Update" class="sideInfobar animate-right offcanvas">
    <div class="px-4 pt-4 pb-1">
        <div class="offcanvas-header d-flex align-items-center justify-content-between pb-2">
            <h4 class="font-weight-bold m-0"> Action Completion </h4>
            <a href="javascript:void(0)" class="closebtn btn btn-xs btn-icon btn-hover-primary" (click)="closeInfo()">
                <i class="fa fa-times"></i>
            </a>
        </div>
    </div>
    <div class="px-4 pt-2">
        <div class="">
            <div class="d-flex flex-column">
                <h5 class="fs-3 mb-2">{{this._Subtaskname}}</h5>
                <span class="text-muted fs-5">{{this.Sub_Desc}}</span>
            </div>
        </div>
        <div class="form-group mt-3">
            <label>Attachments</label>
            <div class="input-group mb-3" #uploadFile>
                <div class="input-group-prepend">
                    <span class="input-group-text">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-upload" viewBox="0 0 16 16">
                            <path
                                d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z" />
                            <path
                                d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z" />
                        </svg>
                    </span>
                </div>
                <div class="custom-file">
                    <input type="file" class="custom-file-input" id="uploadFile" accept="application/pdf"
                        (change)="onFileChange($event)">
                    <label class="custom-file-label" id="_upload" for="uploadFile">Select a file</label>
                </div>
            </div>
            <span class="text-info"> *Accept only pdf files </span>
        </div>

        <!-- <div class="form-group">
            <label>Attachments</label>
            <div></div>
            <div class="custom-file">
                <input type="file" class="form-control-file" id="uploadFile" accept="application/pdf"
                    (change)="onFileChange($event)">
            </div>
        </div>
         -->
        <div class="form-group">
            <label for="exampleFormControlFile1"><span class="text-danger">*</span> Remarks</label>
            <textarea class="form-control" aria-label="With textarea" [(ngModel)]="_remarks"
                style="margin-top: 0px; margin-bottom: 0px; height: 300px;"></textarea>
        </div>
        <div class="form-group">
            <button type="submit" class="btn btn-primary" [disabled]="(_remarks=='') || (selectedFile==null)"
                (click)="OnUpdateClick()">Submit</button>
        </div>
    </div>
</div>

<div class="sideInfobar animate-right" id="mysideInfobar" *ngIf="requestType!='Project Forward'">
    <div class="card">
        <div class="card-body">
            <div class="position-relative">
                <button class="abs-btn btn-hover-danger btn btn-sm" (click)="closeApproval()"><i
                        class="fas fa-times mr-0"></i>
                </button>
                <h5 class="det-text pro-nm text-dark mb-1">Project Actions</h5>
            </div>
        </div>
    </div>
    <div class="pt-3 px-4">
        <div class="proctdetls d-flex gap-5 w-100 align-items-center" [ngClass]="{ ' ' : Status!='Deadline Extend Under Approval',
                'justify-content-between' : Status=='Deadline Extend Under Approval'}" id="ProjectDetails_Main">
            <div class="d-flex align-items-center">
                <div class="">
                    <span class="svg-icon svg-icon-2x text-primary mr-2">
                        <svg width="24" height="24" viewBox="0 0 40 40" aria-hidden="true" focusable="false" fill="currentColor">
                            <path d="M24,2V1c0-0.6-0.4-1-1-1s-1,0.4-1,1v1H10V1c0-0.6-0.4-1-1-1S8,0.4,8,1v1C4.7,2,2,4.7,2,8v16c0,3.3,2.7,6,6,6h16c3.3,0,6-2.7,6-6V8C30,4.7,27.3,2,24,2z M8,4v1c0,0.6,0.4,1,1,1s1-0.4,1-1V4h12v1c0,0.6,0.4,1,1,1s1-0.4,1-1V4c2.2,0,4,1.8,4,4v2H4V8C4,5.8,5.8,4,8,4z M24,28H8c-2.2,0-4-1.8-4-4V12h24v12C28,26.2,26.2,28,24,28z">
                            </path>
                        </svg>
                    </span>
                </div>
                <div class="action-content">
                    <h6 class="txtm-cus mb-1 pt-1">Request Date</h6>
                    <h5 class="mt-1 text-blue">{{requestDate|date:'dd-MM-yyyy'}}</h5>
                </div>
            </div>
            <div class="d-flex align-items-center">
                <div class=""><span class="svg-icon svg-icon-2x text-info mr-2"><svg _ngcontent-jrv-c350="" width="24"
                            height="24" viewBox="0 0 40 40" aria-hidden="true" focusable="false" fill="currentColor">
                            <path _ngcontent-jrv-c350="" d="M30.5,9h-7.8l-3.6-3.6C18.2,4.5,16.9,4,15.6,4h-5.1C6.9,4,4,6.9,4,10.5v19c0,3.6,2.9,6.5,6.5,6.5h19c3.6,0,6.5-2.9,6.5-6.5v-15C36,11.5,33.5,9,
                    30.5,9z M33,29.5c0,1.9-1.6,3.5-3.5,3.5h-19C8.6,33,7,31.4,7,29.5v-19C7,8.6,8.6,7,10.5,7h5.1c0.5,0,1,0.2,1.4,0.6l4.1,4c0.3,0.3,0.7,0.4,1.1,0.4h8.4c1.4,
                    0,2.5,1.1,2.5,2.5L33,29.5L33,29.5z M13.5,13L13.5,13c0.8,0,1.5,0.7,1.5,1.5v13c0,0.8-0.7,1.5-1.5,1.5l0,0c-0.8,0-1.5-0.7-1.5-1.5v-13C12,13.7,12.7,13,13.5,13z
                     M25.5,18L25.5,18c0.8,0,1.5,0.7,1.5,1.5v8c0,0.8-0.7,1.5-1.5,1.5l0,0c-0.8,0-1.5-0.7-1.5-1.5v-8C24,18.7,24.7,18,25.5,18z M19.5,22L19.5,22c0.8,0,1.5,0.7,1.5,1
                     .5v4c0,0.8-0.7,1.5-1.5,1.5l0,0c-0.8,0-1.5-0.7-1.5-1.5v-4C18,22.7,18.7,22,19.5,22z"></path>
                        </svg></span></div>
                <div class="action-content">
                    <h6 class="txtm-cus mb-1 pt-1">Request Type</h6>
                    <h5 class="mt-1 text-blue">{{requestType}}</h5>
                </div>
            </div>
            <div class="d-flex align-items-center" *ngIf="Status=='Deadline Extend Under Approval'">
                <div class=""><span class="svg-icon svg-icon-2x text-dangr mr-2"><svg width="24" height="24"
                            viewBox="0 0 40 40" aria-hidden="true" focusable="false" fill="currentColor">
                            <path
                                d="M24,2V1c0-0.6-0.4-1-1-1s-1,0.4-1,1v1H10V1c0-0.6-0.4-1-1-1S8,0.4,8,1v1C4.7,2,2,4.7,2,8v16c0,3.3,2.7,6,6,6h16c3.3,0,6-2.7,6-6V8C30,4.7,27.3,2,24,2z M8,4v1c0,0.6,0.4,1,1,1s1-0.4,1-1V4h12v1c0,0.6,0.4,1,1,1s1-0.4,1-1V4c2.2,0,4,1.8,4,4v2H4V8C4,5.8,5.8,4,8,4z M24,28H8c-2.2,0-4-1.8-4-4V12h24v12C28,26.2,26.2,28,24,28z">
                            </path>
                        </svg></span></div>
                <div class="action-content">
                    <h6 class="txtm-cus mb-1 pt-1">Request Deadline</h6>
                    <h5 class="mt-1 text-blue">{{requestDeadline|date:'dd-MM-yyyy'}}</h5>
                    <!-- <h5 class="mt-1 text-blue" *ngIf="requestDeadline==null">{{requestDate|date:'dd-MM-yyyy'}}</h5> -->

                </div>
            </div>
        </div>
        <div class="">
            
            <h5 class="mb-1 kt-portlet__head-title text-blue"></h5>
            
            <a class="btn--1 btn-info--1 btn-sm--1 text-info py-2" data-toggle="collapse"
                href="#prevco" role="button" aria-expanded="false" aria-controls="prevco">
                View Previous Comments
            </a>
            <div class="px-cb py-cb bg-grey1 collapse kt-portlet__body_scroll prv-cmts mt-1" id="prevco">
                <div class="comment-list pb-3">
                    <div class="d-flex">
                        <div>
                            <span class="name-box text-center bg-primary">WA</span>
                        </div>
                        <div class="d-flex flex-column flex-grow-1">
                            <span class="comt-info">Waseem Akram</span>
                            <div class="comt-text">
                                <span>This Project is submitted and waiting for approval.</span>
                            </div>
                            <div class="blw mt-2 ml-2">
                                <span
                                    class="kt-badge kt-badge--inline kt-badge--unified-info">Project Complete</span>
                                <span
                                    class="dt kt-badge kt-badge--inline kt-badge--unified-dark">12-01-2023</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="comment-list pb-3">
                    <div class="d-flex">
                        <div>
                            <span class="name-box text-center bg-primary">WA</span>
                        </div>
                        <div class="d-flex flex-column flex-grow-1">
                            <span class="comt-info">Waseem Akram</span>
                            <div class="comt-text">
                                <span>{{requestComments}}</span>
                            </div>
                            <div class="blw mt-2 ml-2">
                                <span
                                    class="kt-badge kt-badge--inline kt-badge--unified-info">Project Complete</span>
                                <span
                                    class="dt kt-badge kt-badge--inline kt-badge--unified-dark">12-01-2023</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
    </div>

    <!-- accordian_section-->

    <div class="px-4 m-auto">
        <div class="mt-3">
            <div class="card-title mb-0">
                <!-- <div class="card-title mb-0" data-toggle="collapse" data-target="#proj_act_acc" aria-expanded="true" aria-controls="proj_act_acc"> -->
                <div class="d-flex justify-content-between align-items-center">
                    <span class="det-text pro-nm pl-1 text-blue">Project Actions<span style="color:red">*</span></span>
                    <i class="fas fa-chevron-up text-info1 mr-2 d-none"></i>
                </div>
            </div>

            <div id="proj_act_acc" class="collapse show px-1">

                <div class="pro_act_div card-body px-0">
                    <div class="form-group mb-2">
                        <div>
                            <div class="form-check-inline" (click)="typeChange()">
                                <label class="form-check-label lbl-suc btn-app">
                                    <input id="rdbButtons_0" type="radio" class="form-check-input" name="rdbButtons"
                                        value="1" checked="checked" [(ngModel)]="selectedType">Accept
                                </label>
                            </div>
                            <div class="form-check-inline" *ngIf="requestType=='New Project' || requestType=='Project Complete'"
                                 (click)="typeChange()">
                                <label class="form-check-label lbl-war btn-app">
                                    <input id="rdbButtons_1" type="radio" class="form-check-input" name="rdbButtons"
                                        value="2" [(ngModel)]="selectedType">Conditional Accept
                                </label>
                            </div>
                            <div class="form-check-inline" (click)="typeChange()">
                                <label class="form-check-label lbl-dan btn-app">
                                    <input id="rdbButtons_2" type="radio" class="form-check-input" name="rdbButtons"
                                        value="3" [(ngModel)]="selectedType">Reject
                                </label>
                            </div>
                            <div class="form-check-inline d-none" (click)="typeChange()">
                                <label class="form-check-label lbl-new1 btn-app">
                                    <input id="rdbButtons_0" type="radio" class="form-check-input" name="rdbButtons"
                                        value="4" checked="checked" [(ngModel)]="selectedType">Transfer
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex flex-grow-1r">
                        <div class="col-md-12 checked-rad pl-1 pt-3">
                            <div class="appr-comts">
                                <div class="form-group" *ngIf="selectedType=='3'" (click)="clickonselect()">
                                    <label class="mb-2">Reject Type</label><span style="color:red">*</span>
                                    <ng-select required #action="ngModel" name="rej_type" placeholder="Select Reject Type" id="rej_type"
                                        [(ngModel)]="rejectType" (click)="rejectApproval()">
                                        <ng-option [value]="item.TypeID" *ngFor="let item of reject_list">
                                            {{item.RejectType}}
                                        </ng-option>
                                    </ng-select>
                                    <span *ngIf="rejectType!=1 && rejectType" style="color:grey">{{rejDesc}}</span>
                                </div>
                                <div class="form-group" *ngIf="selectedType=='3' || selectedType=='1' || selectedType=='2'">
                                    <label class="mb-2">Enter Comments</label><span style="color:red">*</span>
                                    <textarea class="form-control h-100px" [(ngModel)]="comments">{{commentSelected}}</textarea>
                                </div>
                                <div class="form-group" *ngIf="selectedType=='1' || selectedType=='2'" (click)="clickonselect()">
                                    <label class="mb-2">Select From Existing Comments</label>
                                    <ng-select required #action="ngModel" name="comment_accept" placeholder="Select Comment" id="comment_accept"
                                        [(ngModel)]="commentSelected">
                                        <ng-option [value]="item.Req_Coments" *ngFor="let item of comments_list">
                                            {{item.Req_Coments}}
                                        </ng-option>
                                    </ng-select>
                                </div>
                                
                                <div class="form-group" *ngIf="selectedType=='3'" (click)="clickonselect()">
                                    <label class="mb-2">Select From Existing Comments</label>
                                    <ng-select required #action="ngModel" name="comment_reject" placeholder="Select Comment" id="comment_reject"
                                        [(ngModel)]="commentSelected">
                                        <ng-option [value]="item.Req_Coments" *ngFor="let item of rejectcommentsList">
                                            {{item.Req_Coments}}
                                        </ng-option>
                                    </ng-select>
                                </div>
                               
                            </div>
                            <div class="d-flex justify-content-end">
                                <button class="btn btn-sm btn-info mr-2" (click)="submitApproval()"
                                    [disabled]="!comments || !selectedType">Submit</button>
                                <button class="btn btn-sm btn-secondary" (click)="closeApproval()">Cancel</button>
                            </div>
                        </div>
                        <div class="none-checked margin-auto">
                            <img src="assets/images/bg-no.jpg" height="300px" alt="select project actions">
                            <div class="text-black h5 mt-3">To Manage Project , select Project Actions</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

</div>


<!-- Link memos Template -->

<div id="LinkSideBar" class="sideInfobar animate-right">
    <div class="px-4 pt-4 pb-1">
        <div class="offcanvas-header d-flex align-items-center justify-content-between pb-2">
            <h4 class="font-weight-bold m-0"><i class="fa fa-link mr-1"></i> Link Project</h4>
            <a href="javascript:void(0)" class="closebtn btn btn-xs btn-icon btn-hover-primary"
                (click)="closeLinkSideBar()">
                <i class="fa fa-times"></i>
            </a>
        </div>
    </div>
    <ul class="kt-nav">
        <li class="kt-nav__head d-block">
            <p class="text-primary m-0">
                {{_displayProjName}}</p>
            <div class="M_fsize">
                Total
                <div class="badge badge-pill badge-outline-info">
                    {{_totalMemos}} </div>
                Linked
                <div class="badge badge-pill badge-outline-success">
                    {{_mappedMemos}} </div>
            </div>
            <div class="kt-nav__separator"></div>
        </li>
        <li class="kt-nav__item px-4">
            <div class="d-flex input-group">
                <!-- Working... -->
                <ng-multiselect-dropdown [placeholder]="'Select Memo' "
                    class="mutlidropdown-set mutlidropdown-full mr-1" [settings]="dropdownSettings_Memo"
                    [data]="Memos_List" [(ngModel)]="ngDropdwonMemo" (onSelect)="Memo_Select(ngDropdwonMemo)"
                    (onDeSelect)="Memo_Deselect()" style="flex: 3;">
                </ng-multiselect-dropdown>
                <!-- <div class="input-group-append"> -->
                <button class="btn btn-label-primary btn-upper btn-sm btn-bold input-group-text"
                    (click)="_AddLink()">Link</button>
                <!-- </div> -->

            </div>
        </li>
        <li class="kt-nav__foot"></li>
    </ul>
</div>


<div id="darsidebar" class="sideInfobar animate-right">
    <div class="px-4 pt-4 pb-1">
        <div class="offcanvas-header d-flex align-items-center justify-content-between pb-2">
            <h4 class="font-weight-bold m-0"><i class="fa fa-link mr-1"></i>Timeline Submission</h4>
            <a href="javascript:void(0)" class="closebtn btn btn-xs btn-icon btn-hover-primary" (click)="closedarBar()">
                <i class="fa fa-times"></i>
            </a>
        </div>
    </div>
    <div class="px-4 pt-2">

        <div>
            <div class="form-group text-dark-50 w-75px flex-grow-1 brdng-0"
                *ngIf="ProjectBlockName != 'Standard Tasks' && ProjectBlockName != 'To do List' && inProcessCount!=0 ">
                <label>Action <span class="text-danger">*</span></label>
                <ng-select required #action="ngModel" name="action" placeholder="Select Action" id="actinName"
                    [(ngModel)]="actionCode" (click)="getResponsibleActions()">
                    <ng-option [value]="item.Project_Code" *ngFor="let item of darArr">
                        {{item.Project_Name}}
                    </ng-option>
                </ng-select>
            </div>
            <div class="form-group">
                <label>Work Description<span class="text-danger">*</span></label>
                <textarea type="text" name="work" class="form-control h-100px" [(ngModel)]="workdes"></textarea>
            </div>

            <div class="form-group">
                <label>Date<span class="text-danger">*</span></label>
                <!-- <input class="form-control" name="starttim" #startdate="ngModel" type="time" value="13:45:00" id="time-start" [(ngModel)]="starttime"> -->
                <!-- <input class="form-control" name="dardate" type="date" id="minDate" [(ngModel)]="current_Date"> -->
                <div class="input-group">
                    <input matInput (dateChange)="orgValueChange($event)" [value]="dateF.value"
                        [matDatepicker]="picker1" id="d-date" required (click)="picker1.open()"
                        [min]="disablePreviousDate" [max]="todayDate" placeholder="Select Date" class="form-control"
                        name="date">
                    <div class="input-group-text p-0">
                        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                        <mat-datepicker #picker1></mat-datepicker>
                    </div>
                </div>
            </div>
            <div class="d-flex gap-1">
                <div class="form-group w-100">
                    <label>Start Time<span class="text-danger">*</span></label>
                    <ng-select name="time" placeholder="Select Start Time" id="time-start" (click)="getDarTime()"
                        [(ngModel)]="starttime">
                        <ng-option [value]="item" *ngFor="let item of timedata; let i=index"
                            [disabled]="item!=lastEndtime && bol==false">
                            <a>{{item}}</a>
                            <!-- <a *ngIf="i==10 || i==11">{{item}}--&nbsp;&nbsp;(Lunch Break)</a> ok -->
                        </ng-option>
                    </ng-select>
                </div>

                <div class="form-group w-100">
                    <label>End Time<span class="text-danger">*</span></label>
                    <ng-select name="endtim" #end="ngModel" placeholder="Select End Time" id="time-end"
                        (click)="getDarTime()" [(ngModel)]="endtime">
                        <ng-option [value]="item" *ngFor="let item of timedata; let i=index"
                            [disabled]="item<=lastEndtime">
                            <a>{{item}}</a>
                            <!-- <a *ngIf="i==10 || i==11">{{item}}--&nbsp;&nbsp;(Lunch Break)</a> -->
                        </ng-option>
                    </ng-select>
                    <span style="color:red" id="err1" *ngIf="(endtime < starttime)">End time cannot be less than Start
                        time!!</span>
                </div>
            </div>

            <div class="form-group">
                <button type="submit" class="btn btn-primary" (click)="submitDar()" *ngIf="coresecondary==true"
                    [disabled]="!actionCode || !workdes || !starttime || !endtime || endtime < starttime">
                    Submit</button>
                <button type="submit" class="btn btn-primary" (click)="submitDar()" *ngIf="coresecondary==false"
                    [disabled]=" !workdes  || !starttime || !endtime || endtime < starttime">
                    Submit</button>
                <button type="reset" class="btn btn-secondary ml-2">Reset</button>
                <button type="submit" class="btn btn-secondary ml-2" (click)="closedarBar()">Cancel</button>
            </div>
        </div>
    </div>
</div>