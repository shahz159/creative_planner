<div class="kt-container  kt-container--fluid p-0 kt-grid__item kt-grid__item--fluid text-dark project-info-page side_view"
    id="moredet">
    <!-- <div class="row">
        <div class="col-lg-12">
            <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                <div class="kt-portlet__head">
                    <div class="kt-portlet__head-label">
                        <h3 class="kt-portlet__head-title">
                            <strong>dr.CAFE-206, Olaya St, Al Nuruji Project
                            </strong>
                        </h3>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
    <ng-container *ngIf="Status=='Project Hold' && reason!=''">
        <div class="desc-msg hold-msg">
            <div class="d-flex align-items-center px-3">
                <!-- <h6 class="mb-0">Rejected on basis of '{{rejectype}}'</h6> -->
                <h6 class="mb-0">Remark: {{reason}} </h6>
            </div>
            <!-- <button class="btn btn-info btn-sm py-1"
                (click)="release_project()" *ngIf="Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo">
                Click here to adjust hold date</button> -->
        </div>
    </ng-container>
    <ng-container *ngIf="Status=='New Project Rejected' || Status=='Project Complete Rejected'">
        <div class="desc-msg rejct-msg">
            <div class="d-flex align-items-center px-3">
                <h6 class="mb-0">Rejected for '{{rejectype}}'.</h6> &nbsp;
                <h6 class="mb-0">Remark: {{reason}} </h6>
            </div>
            <!-- <button class="btn btn-info btn-sm py-1">Resume Project</button> -->
        </div>
    </ng-container>
    <ng-container *ngIf="action_details">
        <div class="desc-msg rejct-msg">
            <div class="d-flex align-items-center px-3" *ngFor="let item of action_details">
                <h6 class="mb-0">This is an action for the project 
                    <a  href="javascript:void(0)" class="custom-link" (click)="moreDetails(item.Master_Code)"
                        data-toggle="tooltip" title="click to open project in new window">{{item.Project_Name}} </a>
                </h6>
            </div>
        </div>
    </ng-container>
    <ng-container *ngIf="approve_details">
        <div class="desc-msg rejct-msg">
            <div class="d-flex align-items-center px-3" *ngFor="let item of approve_details">
                <h6 class="mb-0" *ngIf="Status=='Under Approval'">This is the new project under approval with - 
                    {{item.Emp_Name}}
                </h6>
                <h6 class="mb-0" *ngIf="Status=='Completion Under Approval'">This is the project for completion, under approval with - 
                    {{item.Emp_Name}}
                </h6>
                <h6 class="mb-0" *ngIf="Status=='Forward Under Approval'">This is the project forward under approval with - 
                    {{item.Emp_Name}}
                </h6>
                <h6 class="mb-0" *ngIf="Status=='Deadline Extend Under Approval'">This is the project for deadline extend under approval with - 
                    {{item.Emp_Name}}
                </h6>
                <h6 class="mb-0" *ngIf="Status=='Enactive Under Approval'">This is the project for enactive under approval with - 
                    {{item.Emp_Name}}
                </h6>
            </div>
        </div>
    </ng-container>

    <div class="px-4 py-2">
        <div class="row">
            <div class="col-lg-12 project-description pt-2">
                <div class="d-flex align-items-center mb-2 cir-icon">
                    <div class="flex-1 d-flex align-items-center mb-2 cir-icon">
                        <!-- <i class="fas fa-code-branch"></i> -->
                        <!-- <h4 class="fs-3 text-info mb-0 mr-3" data-toggle="tooltip" title="Project Code!">{{URL_ProjectCode}}</h4> -->

                        <ng-container
                            *ngIf="(ProjectBlockName != 'Standard Tasks' && ProjectBlockName != 'Routine Tasks')">
                            <label data-toggle="tooltip" title="Project Status!"
                                *ngIf="Status != 'Project Hold' && Status != 'Delay'"
                                class="kt-badge kt-badge--inline  cus-btn text-white px-3 py-1 kt-badge--pill"
                                [ngClass]="{'bg-success':Status=='Completed',
                                'bg-info':Status=='Under Approval' || Status=='New Project' || Status== 'New Todo' || Status == 'New TodoProject',
                                'bg-primary':Status=='Completion Under Approval' || Status=='Deadline Extend Under Approval' || Status=='Project Hold Under Approval' ||  Status =='ToDo Achieved',
                                'bg-warning':Status=='InProcess' || Status=='Forward Under Approval',
                                'bg-rejected': Status=='New Project Rejected', 'bg-success-1' : Status=='ToDo Completed',
                                'bg-danger':Status == 'Project Hold' || Status=='Standardtask Enactive Hold'  ||  Status == 'Project Complete Rejected'}">
                                {{Status}}</label>
                            <label data-toggle="tooltip" title="Project Status!"
                                class="kt-badge kt-badge--inline  cus-btn text-white px-3 py-1 kt-badge--pill bg-danger"
                                *ngIf="Status=='Delay' && Delaydays!=0">
                                {{Status}} {{Delaydays}} days
                            </label>
                            <label data-toggle="tooltip" title="Project Status!"
                                class="kt-badge kt-badge--inline  cus-btn text-white px-3 py-1 kt-badge--pill bg-danger"
                                *ngIf="Status=='Delay' && Delaydays==0">
                                {{Status}}
                            </label>
                            <ng-container *ngIf="Status=='Project Hold'">
                                <label data-toggle="tooltip" title="Project Status!"
                                    class="kt-badge kt-badge--inline  cus-btn  px-3 py-1 kt-badge--pill hold-sec">
                                    Hold until {{hold_upto}}
                                </label><i class="fas fa-play mx-1 curser-pointer relse-act" data-toggle="tooltip"
                                    title="click here to release project" (click)="release_project()"
                                    *ngIf="Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || isHierarchy==true"></i>
                            </ng-container>
                            <!-- 'bg-coral' :  Status== 'New Todo', Status=='Project Hold' ||  -->
                        </ng-container>
                        <ng-container
                            *ngIf="(ProjectBlockName == 'Standard Tasks' || ProjectBlockName == 'Routine Tasks')">
                            <label data-toggle="tooltip" title="Project Status!"
                                class="kt-badge kt-badge--inline  cus-btn text-white px-3 py-1 kt-badge--pill bg-purple">
                                {{Status}}</label>
                        </ng-container>

                        <!--progress bar start-->
                        <div class="d-flex flex-column ml-3"
                            *ngIf="Status != 'Completed' && ProjectBlockName != 'Standard Tasks' && ProjectBlockName != 'Routine Tasks'">

                            <div *ngIf="ProjectStatus=='Not Started'">
                                <div class="d-flex align-items-center w-200px">
                                    <!-- <small class="progress_bar_title"> -->
                                    <!-- <span class="progress_number">{{ProjectPercentage}}</span> -->
                                    <!-- </small -->
                                    <div class="progress h-6px w-100 bg-light-warning">
                                        <div class="progress-bar bg-warning" role="progressbar"
                                            [ngStyle]='{ width : ProjectPercentage }' aria-valuenow="50"
                                            aria-valuemin="0" aria-valuemax="100">
                                        </div>
                                    </div>
                                    <!-- <span class="progress-bar-inner bg-today" [ngStyle]='{ width : ProjectPercentage }'
                                    data-value="0" data-percentage-value="0"></span> -->
                                    <span class="text-muted fs-7 fw-bold pl-2">{{ProjectPercentage}}</span>
                                </div>
                            </div>
                            <div *ngIf="ProjectStatus=='Just Started'">
                                <div class="d-flex align-items-center w-200px">
                                    <div class="progress h-6px w-100 bg-light-warning">
                                        <div class="progress-bar bg-warning" role="progressbar"
                                            [ngStyle]='{ width : ProjectPercentage }' aria-valuenow="50"
                                            aria-valuemin="0" aria-valuemax="100">
                                        </div>
                                    </div>
                                    <span class="text-muted fs-7 fw-bold pl-2">{{ProjectPercentage}}</span>
                                </div>
                            </div>
                            <div *ngIf="ProjectStatus=='InProcess'">
                                <div class="d-flex align-items-center w-200px">
                                    <div class="progress h-6px w-100 bg-light-warning">
                                        <div class="progress-bar bg-warning" role="progressbar"
                                            [ngStyle]='{ width : ProjectPercentage }' aria-valuenow="50"
                                            aria-valuemin="0" aria-valuemax="100">
                                        </div>
                                    </div>
                                    <span class="text-muted fs-7 fw-bold pl-2">{{ProjectPercentage}}</span>
                                </div>
                            </div>
                            <div *ngIf="ProjectStatus=='UnderCompletion'">
                                <div class="d-flex align-items-center w-200px">
                                    <div class="progress h-6px w-100 bg-light-warning">
                                        <div class="progress-bar bg-warning" role="progressbar"
                                            [ngStyle]='{ width : ProjectPercentage }' aria-valuenow="50"
                                            aria-valuemin="0" aria-valuemax="100">
                                        </div>
                                    </div>
                                    <span class="text-muted fs-7 fw-bold pl-2">{{ProjectPercentage}}</span>
                                </div>
                            </div>
                            <div *ngIf="ProjectStatus=='Completed'">
                                <div class="d-flex align-items-center w-200px">
                                    <div class="progress h-6px w-100 bg-light-warning">
                                        <div class="progress-bar bg-warning" role="progressbar"
                                            [ngStyle]='{ width : ProjectPercentage }' aria-valuenow="50"
                                            aria-valuemin="0" aria-valuemax="100">
                                        </div>
                                    </div>
                                    <span class="text-muted fs-7 fw-bold pl-2">{{ProjectPercentage}}</span>
                                </div>
                            </div>
                            <div *ngIf="ProjectStatus=='Continuos-InProcess'">
                                <div class="d-flex align-items-center w-200px">
                                    <div class="progress h-6px w-100 bg-light-warning">
                                        <div class="progress-bar bg-warning" role="progressbar"
                                            [ngStyle]='{ width : ProjectPercentage }' aria-valuenow="50"
                                            aria-valuemin="0" aria-valuemax="100">
                                        </div>
                                    </div>
                                    <span class="text-muted fs-7 fw-bold pl-2">{{ProjectPercentage}}</span>
                                </div>
                            </div>

                        </div>

                        <!--progress bar end 
                         <a class="text-info relse-act">
                            <span> <i class="fas fa-play mx-1 curser-pointer"></i></span> Click here to release Project.</a>-->

                    </div>
                    <div class="d-flex align-items-center">
                        <!--Transfer-->
                        <!-- <div class="ml-2 pro-act">
                            <div class="dropdown"
                                *ngIf="(Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true) && (Status!='Completed')">
                                <button class="btn22 dropdown-toggle no-after" aria-haspopup="true"
                                    aria-expanded="false" (click)="onTransferClick(Pid)" data-toggle="tooltip"
                                    title="click to transfer">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                        <path
                                            d="M19.1643 12.0001L12.9572 5.79297L11.543 7.20718L16.3359 12.0001L11.543 16.793L12.9572 18.2072L19.1643 12.0001ZM13.5144 12.0001L7.30728 5.79297L5.89307 7.20718L10.686 12.0001L5.89307 16.793L7.30728 18.2072L13.5144 12.0001Z">
                                        </path>
                                    </svg>
                                    <span class="ml-1">Project transfer</span>
                                </button>
                                <div id="TransferArea_{{Pid}}"
                                    class="dropdown-menu dropdown-menu-right dropdown-menu-fit date-drop3 z-1k">
                                    <ul class="kt-nav pb-0" (click)="$event.stopPropagation();">
                                        <li class="kt-nav__head py-0">
                                            <div>Project transfer</div>
                                        </li>
                                        <li class="kt-nav__separator"></li>
                                        <div class=" height-scroll h-scr">
                                            <div class="px-4 py-3">
                                                <div class="form-group" id="Transtext_{{Pid}}">
                                                    <label> Transfer To <span class="text-danger">*</span> :
                                                        <strong></strong></label>
                                                    <ng-select reuired #transfer="ngModel" [(ngModel)]="selectedEmp_No"
                                                        placeholder="Select Employee">
                                                        <ng-option [value]="item.Emp_No"
                                                            *ngFor="let item of Employee_List">
                                                            <a 
                                                                *ngIf="(Responsible_EmpNo!=item.Emp_No && Owner_EmpNo!=item.Emp_No)">{{item.DisplayName}}</a>
                                                        </ng-option>
                                                    </ng-select>
                                                </div>
                                                <div class="form-group input-group">
                                                    <label>Set new deadline (optional):</label>
                                                    <span style="color:gray">Existing deadline: {{EndDate}}</span>
                                                </div>
                                                <div class="form-group">
                                                    <label>Remarks<span class="text-danger">*</span>:</label>
                                                    <textarea class="form-control" [(ngModel)]="transfer_remarks"
                                                        placeholder="" rows="2" cols="20"
                                                        style="height:70px;"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </ul>
                                    <div class="px-4 pb-3">
                                        <button class="btn btn-info btn-sm mr-2 text-white"
                                            [disabled]="!selectedEmp_No || !transfer_remarks"
                                            (click)="sweetAlert1(Pid,_MasterCode)">Submit</button>
                                        <button
                                            *ngIf="ProjectBlockName!='Standard Tasks' && ProjectBlockName!='Routine Tasks'"
                                            class="btn btn-outline-info btn-sm text-dark-75"
                                            (click)="onCancel(Pid)">Close</button>
                                        <button
                                            *ngIf="ProjectBlockName=='Standard Tasks' || ProjectBlockName=='Routine Tasks'"
                                            class="btn btn-outline-info btn-sm text-dark-75"
                                            (click)="onTransferCancel(Pid)">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                        <!--Transfer end-->
                    </div>
                    <div class=" pro-act ml-2" *ngIf="(Current_user_ID == approvalEmpId) && (pro_act==true)">
                        <button class="btn22" (click)="sideviw();getapprovalStats()" *ngIf="(Status!='Completed')">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16">
                                <path
                                    d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11.0026 16L6.75999 11.7574L8.17421 10.3431L11.0026 13.1716L16.6595 7.51472L18.0737 8.92893L11.0026 16Z">
                                </path>
                            </svg>
                            Approvals
                        </button>
                    </div>
                    <div *ngIf="(Status == 'InProcess' || Status == 'Delay' || Status=='Project Complete Rejected') && (ProjectBlockName != 'Standard Tasks' && ProjectBlockName != 'Routine Tasks') 
                            && (Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true)"
                        class=" pro-act ml-2">
                        <button class="btn  btn22 " (click)="OnClickCheckboxProjectUpdate()" data-toggle="tooltip"
                            title="submit project">

                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16">
                                <path
                                    d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11.0026 16L6.75999 11.7574L8.17421 10.3431L11.0026 13.1716L16.6595 7.51472L18.0737 8.92893L11.0026 16Z">
                                </path>
                            </svg>
                            Project submission
                        </button>
                    </div>
                    <div *ngIf="(ProjectBlockName == 'Standard Tasks' && Status=='InProcess')" class=" pro-act ml-2">
                        <button class="btn  btn22" (click)="OnStandardTaskSubmit()">
                            <!-- btn-pill btn-pill  mr-2-->

                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16">
                                <path
                                    d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11.0026 16L6.75999 11.7574L8.17421 10.3431L11.0026 13.1716L16.6595 7.51472L18.0737 8.92893L11.0026 16Z">
                                </path>
                            </svg>
                            Task submission
                        </button>
                    </div>


                </div>


                <div class="d-flex justify-content-between align-items-center mb-2">
                    <div class="align-items-center flex-grow-1">
                        <h4 class="mb-1 pro-nm d-inline-blck" id="SpanProjName_{{Pid}}" data-toggle="tooltip"
                            title="Project Name!">{{ProjectName }}</h4>
                        <span class="text-info" [hidden]="Editbutton" (click)="OnEditProject(Pid,ProjectName)"
                            id="EidtBtn_{{Pid}}"
                            *ngIf="(Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true)">
                            <i *ngIf="ProjectName" class="fas fa-edit ml-2 mb-1 curser-pointer" data-toggle="tooltip"
                                title="edit project name"></i>
                        </span>
                        <span class="kt-inbox__subject mb-2" style="display:none;" id="spanTextbox_{{Pid}}">
                            <div class="d-flex">
                                <input type="text" class="form-control" id="textboxfocus_{{Pid}}"
                                    [(ngModel)]="_modelProjectName" style="width: 78%;height: 32px;"
                                    (keydown.enter)="OnProject_Rename(Pid,_MasterCode)">
                                <div class="d-inline-block ml-3" id="button-addon4">
                                    <button (click)="OnProject_Rename(Pid,_MasterCode)"
                                        class="btn btn-primary btn btn-sm mr-2">Done</button>
                                    <button class=" btn btn-secondary btn btn-sm"
                                        (click)="onCancel(Pid)">Cancel</button>
                                </div>
                            </div>
                        </span>

                    </div>

                </div>
                <p class="ml-3 text-justify">
                    <span id="Span_DescName_{{Pid}}" data-toggle="tooltip"
                        title="Project Description!">{{Description}}</span>
                    <span class="text-info " [hidden]="Editbutton" (click)="OnEditProject_Desc(Pid,Description)"
                        id="EidtBtn_{{Pid}}"
                        *ngIf="(Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true)">
                        <i *ngIf="Description" class="fas fa-edit ml-2 mb-1 curser-pointer" data-toggle="tooltip"
                            title="edit project description"></i>
                    </span>
                    <span class="kt-inbox__subject mt-2" style="display:none;" id="spanTextarea_{{Pid}}">
                        <div class="d-flex">
                            <input type="text" class="form-control" id="textareafocus_{{Pid}}"
                                [(ngModel)]="_modelProjDesc" style="width: 78%;height: 32px;"
                                (keydown.enter)="OnProject_Rename(Pid,_MasterCode)">
                            <div class="d-inline-block ml-3" id="button-addon4">
                                <button (click)="OnProject_Rename(Pid,_MasterCode)"
                                    class="btn btn-primary btn btn-sm mr-2">Done</button>
                                <button class=" btn btn-secondary btn btn-sm" (click)="onCancel(Pid)">Cancel</button>
                            </div>
                        </div>
                    </span>
                </p>
            </div>

            <div class="col-lg-12 project-details">
                <div class="row d-nsone">
                    <div class="col-lg-3 col-md-6">
                        <!-- <div class="action-count" role="button"> -->
                        <div class="action-count">
                            <div class="d-flex align-items-center">
                                <div class="symbol me-5">
                                    <span class="symbol-label bg-coral">
                                        <span class="svg-icon svg-icon-2x svg-icon-white">
                                            <svg width="22" height="22" viewBox="0 0 40 40" aria-hidden="true"
                                                focusable="false">
                                                <path d="M30.5,9h-7.8l-3.6-3.6C18.2,4.5,16.9,4,15.6,4h-5.1C6.9,4,4,6.9,4,10.5v19c0,3.6,2.9,6.5,6.5,6.5h19c3.6,0,6.5-2.9,6.5-6.5v-15C36,11.5,33.5,9,
                                            30.5,9z M33,29.5c0,1.9-1.6,3.5-3.5,3.5h-19C8.6,33,7,31.4,7,29.5v-19C7,8.6,8.6,7,10.5,7h5.1c0.5,0,1,0.2,1.4,0.6l4.1,4c0.3,0.3,0.7,0.4,1.1,0.4h8.4c1.4,
                                            0,2.5,1.1,2.5,2.5L33,29.5L33,29.5z M13.5,13L13.5,13c0.8,0,1.5,0.7,1.5,1.5v13c0,0.8-0.7,1.5-1.5,1.5l0,0c-0.8,0-1.5-0.7-1.5-1.5v-13C12,13.7,12.7,13,13.5,13z
                                             M25.5,18L25.5,18c0.8,0,1.5,0.7,1.5,1.5v8c0,0.8-0.7,1.5-1.5,1.5l0,0c-0.8,0-1.5-0.7-1.5-1.5v-8C24,18.7,24.7,18,25.5,18z M19.5,22L19.5,22c0.8,0,1.5,0.7,1.5,1.5v4c0,0.8-0.7,1.5-1.5,1.5l0,0c-0.8,0-1.5-0.7-1.5-1.5v-4C18,22.7,18.7,22,19.5,22z">
                                                </path>
                                            </svg>
                                        </span>
                                    </span>
                                </div>
                                <div class="action-content">
                                    <h6 class="txtm-cus pt-1">Project Type</h6>
                                    <h5 class="mt-1">{{ProjectBlockName}}</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <!-- <div class="action-count" role="button"> -->
                        <div class="action-count">
                            <div class="d-flex align-items-center">
                                <div class="symbol me-5">
                                    <span class="symbol-label  bg-info">
                                        <span class="svg-icon svg-icon-2x svg-icon-white">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
                                                fill="currentColor" class="bi bi-calendar-week" viewBox="0 0 16 16">
                                                <path
                                                    d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-5 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z" />
                                                <path
                                                    d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z" />
                                            </svg>
                                        </span>
                                    </span>
                                </div>
                                <div class="action-content">
                                    <h6 class="txtm-cus pt-1">Project Duration</h6>
                                    <ng-container
                                        *ngIf="(ProjectBlockName != 'Standard Tasks' && ProjectBlockName!='Routine Tasks'); then othertask;">
                                    </ng-container>
                                    <ng-container
                                        *ngIf="(ProjectBlockName == 'Standard Tasks' || ProjectBlockName=='Routine Tasks'); then standardtask;">
                                    </ng-container>
                                    <ng-template #standardtask>
                                        <h5 class="mt-1">{{StartDate|date:'dd-MM-yyyy'}} / {{SubmissionName}}
                                        </h5>
                                    </ng-template>
                                    <ng-template #othertask>
                                        <div class="mt-1 d-flex align-items-start">
                                            <h5>{{StartDate|date:'dd-MM-yyyy'}}</h5> / <h5 *ngIf="deadlineCount==0">
                                                {{EndDate}}</h5>
                                            <h5 style="color:rgb(112, 45, 45)" data-toggle="kt-tooltip"
                                                title="Extended Deadline for {{deadlineCount}} times"
                                                *ngIf="deadlineCount>0">{{EndDate}}</h5>
                                            <div class="dropdown"
                                                *ngIf="(Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true) && (Status!='Completed')">
                                                <span class="dropdown-toggle no-after text-info" aria-haspopup="true"
                                                    aria-expanded="false" (click)="onEditDeadline(Pid)">
                                                    <i *ngIf="EndDate" class="fas fa-edit ml-2 mb-1 curser-pointer"
                                                        data-toggle="tooltip" title="edit project end date"></i>
                                                </span>
                                                <div id="DeadlineArea_{{Pid}}"
                                                    class="dropdown-menu dropdown-menu-right dropdown-menu-fit date-drop1 z-1k">
                                                    <ul class="kt-nav pb-0" (click)="$event.stopPropagation();">
                                                        <li class="kt-nav__head py-0">
                                                            <div>Deadline Extend</div>
                                                        </li>
                                                        <!-- [min]="EndDate1" -->
                                                        <li class="kt-nav__separator"></li>
                                                        <div class=" height-scroll h-scr">
                                                            <div class="px-4 py-3">
                                                                <div class="form-group">
                                                                    <label>Select Date<span
                                                                            class="text-danger">*</span></label>
                                                                </div>
                                                                <div class="form-group mb-1">
                                                                    <label>Remarks<span
                                                                            class="text-danger">*</span></label>
                                                                    <textarea class="form-control"
                                                                        [(ngModel)]="extend_remarks" placeholder=""
                                                                        rows="2" cols="20"
                                                                        style="height:70px;"></textarea>
                                                                </div>
                                                                <!-- <span class="text-danger">Note: (*) are mandatory!</span> -->
                                                            </div>
                                                        </div>
                                                        <li class="kt-nav__separator"></li>
                                                    </ul>
                                                    <div class="px-4 pb-3">
                                                        <button class="btn btn-info btn-sm mr-2 text-white"
                                                            [disabled]="!_ProjDeadline || !extend_remarks"
                                                            (click)="onProject_ExtendDeadline(Pid,_MasterCode)">Submit</button>
                                                        <button class="btn btn-outline-info btn-sm text-dark-75"
                                                            (click)="onCancel(Pid)">Close</button>

                                                    </div>
                                                </div>
                                            </div>
                                            <!-- Deadline extend end-->

                                            <!-- Project Hold  data-toggle="dropdown" (click)="onHoldClick(Pid)"-->
                                            <div class="dropdown"
                                                *ngIf="(Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true) && (Status!='Completed')">
                                                <span type="button" id="hold-icn" aria-haspopup="true"
                                                    aria-expanded="false" (click)="onHoldClick(Pid)"
                                                    class="dropdown-toggle no-after text-info">
                                                    <i *ngIf="EndDate" class="fas fa-pause ml-2 mb-1 curser-pointer"
                                                        data-toggle="tooltip" title="project hold"></i>
                                                </span>
                                            </div>
                                            <div class="dropdown"
                                                *ngIf="(Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true) && (Status!='Completed' && Status=='Project Hold')">
                                                <span type="button" id="release-icn"
                                                    *ngIf="(Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || isHierarchy==true) && (Status=='Project Hold')"
                                                    aria-haspopup="true" aria-expanded="false"
                                                    (click)="release_project()"
                                                    class="dropdown-toggle no-after text-info">
                                                    <i *ngIf="EndDate" class="fas fa-play mx-1 curser-pointer relse-act"
                                                        data-toggle="tooltip" title="click here to release project"></i>
                                                </span>
                                            </div>
                                        </div>
                                    </ng-template>
                                    <progress value="50" max="100" class="project-duration-bar d-none"></progress>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-3 col-md-6">
                        <!-- <div class="action-count" role="button"> -->
                        <div class="action-count">
                            <div class="d-flex align-items-center">
                                <div class="symbol me-5">
                                    <span class="symbol-label  bg-dangr">
                                        <span class="svg-icon svg-icon-2x svg-icon-white">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                fill="currentColor" class="bi bi-clock-fill" viewBox="0 0 16 16">
                                                <path
                                                    d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z" />
                                            </svg>
                                        </span>
                                    </span>
                                </div>
                                <div class="action-content d-flex align-items-center">
                                    <div class="">
                                        <h6 class="txtm-cus pt-1">Allocated</h6>
                                        <h5 class="mt-1"
                                            *ngIf="ProjectBlockName != 'Standard Tasks' && ProjectBlockName!='Routine Tasks'">
                                            {{maxDuration}}Hrs
                                        </h5>
                                        <h5 class="mt-1"
                                            *ngIf="ProjectBlockName == 'Standard Tasks' || ProjectBlockName=='Routine Tasks'">
                                            {{StandardDuration}}</h5>
                                    </div>

                                    <div class="px-1">
                                        <i class=" la la-arrows-h mx-3 text-dangr fs-4 font-weight-bold"></i>
                                    </div>
                                    <div class="">
                                        <h6 class="txtm-cus pt-1">Duration</h6>
                                        <h5 *ngIf="ProjectBlockName!='Standard Tasks' && ProjectBlockName!='Routine Tasks'"
                                            class="mt-1">
                                            {{Difference_In_Days}} days</h5>
                                        <h5 *ngIf="ProjectBlockName=='Standard Tasks' || ProjectBlockName=='Routine Tasks'"
                                            class="mt-1">Continuous</h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-3 col-md-6">
                        <!-- <div class="action-count" role="button"> -->
                        <div class="action-count">
                            <div class="d-flex align-items-center">
                                <div class="symbol me-5">
                                    <span class="symbol-label  bg-success-1">
                                        <span class="svg-icon svg-icon-2x svg-icon-white">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
                                                fill="currentColor" class="bi bi-cash-stack" viewBox="0 0 16 16">
                                                <path
                                                    d="M1 3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1H1zm7 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" />
                                                <path
                                                    d="M0 5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V5zm3 0a2 2 0 0 1-2 2v4a2 2 0 0 1 2 2h10a2 2 0 0 1 2-2V7a2 2 0 0 1-2-2H3z" />
                                            </svg>
                                        </span>
                                    </span>
                                </div>
                                <div class="action-content">
                                    <h6 class="txtm-cus pt-1">Project Budget</h6>
                                    <h5 class="mt-1"> <span>{{Cost|currency:'SAR '}}</span></h5>
                                    <progress value="50" max="100" class="project-budget-bar d-none"></progress>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-3 col-md-6">
                        <!-- <div class="action-count" role="button"> -->
                        <div class="action-count">
                            <div class="d-flex align-items-center">
                                <div class="symbol me-5">
                                    <span class="symbol-label  bg-purple">
                                        <span class="svg-icon svg-icon-2x svg-icon-white">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
                                                fill="currentColor" class="bi bi-briefcase" viewBox="0 0 16 16">
                                                <path
                                                    d="M6.5 1A1.5 1.5 0 0 0 5 2.5V3H1.5A1.5 1.5 0 0 0 0 4.5v8A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-8A1.5 1.5 0 0 0 14.5 3H11v-.5A1.5 1.5 0 0 0 9.5 1h-3zm0 1h3a.5.5 0 0 1 .5.5V3H6v-.5a.5.5 0 0 1 .5-.5zm1.886 6.914L15 7.151V12.5a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5V7.15l6.614 1.764a1.5 1.5 0 0 0 .772 0zM1.5 4h13a.5.5 0 0 1 .5.5v1.616L8.129 7.948a.5.5 0 0 1-.258 0L1 6.116V4.5a.5.5 0 0 1 .5-.5z" />
                                            </svg>
                                        </span>
                                    </span>
                                </div>
                                <div class="action-content">
                                    <h6 class="txtm-cus pt-1">Client</h6>
                                    <h5 class="mt-1">{{Client | truncate: 20}}
                                        <span class="dropdown-toggle no-after text-info"
                                            *ngIf="(Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true)"
                                            aria-haspopup="true" aria-expanded="false" (click)="onEditClient()">
                                            <i *ngIf="Client" class="fas fa-edit ml-2 mb-1 curser-pointer" data-toggle="tooltip"
                                                title="edit project client"></i>
                                        </span>
                                    </h5>
                                </div>
                            </div>
                        </div>
                    </div>

                    

                    <div class="col-lg-3 col-md-6">
                        <!-- <div class="action-count" role="button"> -->
                        <div class="action-count">
                            <div class="d-flex align-items-center">
                                <div class="symbol me-5">
                                    <span class="symbol-label caledon-green">
                                        <span class="svg-icon svg-icon-2x svg-icon-white">
                                            <i class="fas fa-prescription-bottle"></i>
                                        </span>
                                    </span>
                                </div>
                                <div class="action-content">
                                    <h6 class="txtm-cus pt-1">Owner</h6>
                                    <div class="d-flex align-items-center">
                                        <h5 class="mt-1">{{Owner}}</h5>
                                        <span type="button" id="-icn" class="text-info" *ngIf="(Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true)"
                                                aria-haspopup="true" aria-expanded="false" (click)="onEditProjectOwner()">
                                            <i *ngIf="Owner" data-toggle="tooltip" title="edit project owner"
                                            class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <!-- <div class="action-count" role="button"> -->
                        <div class="action-count">
                            <div class="d-flex align-items-center">
                                <div class="symbol me-5">
                                    <span class="symbol-label  bg-warning">
                                        <span class="svg-icon svg-icon-2x svg-icon-white">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
                                                fill="currentColor" class="bi bi-person-badge" viewBox="0 0 16 16">
                                                <path
                                                    d="M6.5 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
                                                <path
                                                    d="M4.5 0A2.5 2.5 0 0 0 2 2.5V14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2.5A2.5 2.5 0 0 0 11.5 0h-7zM3 2.5A1.5 1.5 0 0 1 4.5 1h7A1.5 1.5 0 0 1 13 2.5v10.795a4.2 4.2 0 0 0-.776-.492C11.392 12.387 10.063 12 8 12s-3.392.387-4.224.803a4.2 4.2 0 0 0-.776.492V2.5z" />
                                            </svg>
                                        </span>
                                    </span>
                                </div>
                                <div class="action-content">
                                    <h6 class="txtm-cus pt-1 mb-0">Responsible
                                        <!-- <button class="btn btn-primary btn-sm py-0 px-1 ml-1 dropdown-toggle no-after"
                                            *ngIf="(Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true) && Responsible &&
                                                (Status!='Completed')" data-toggle="dropdown" aria-haspopup="true"
                                            aria-expanded="false" (click)="onTransferClick(Pid)" data-toggle="tooltip"
                                            title="click to transfer">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                                                style="width: 16px;height: 16px;fill: #fff;">
                                                <path
                                                    d="M19.1643 12.0001L12.9572 5.79297L11.543 7.20718L16.3359 12.0001L11.543 16.793L12.9572 18.2072L19.1643 12.0001ZM13.5144 12.0001L7.30728 5.79297L5.89307 7.20718L10.686 12.0001L5.89307 16.793L7.30728 18.2072L13.5144 12.0001Z">
                                                </path>
                                            </svg>
                                            <span class="ml-1">Project transfer</span>
                                        </button> -->
                                    </h6>
                                    <div class="d-flex align-items-center">
                                        <h5 class="mt-1">{{Responsible}}</h5>
                                        <span type="button" id="-icn" class="text-info" 
                                            *ngIf="((Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true) && Status!='Forward Under Approval')"
                                                aria-haspopup="true" aria-expanded="false" (click)="onEditProjectResponsible()">
                                            <i *ngIf="Responsible" data-toggle="tooltip" title="edit project responsible"
                                            class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <!-- <div class="action-count" role="button"> -->
                        <div class="action-count">
                            <div class="d-flex align-items-center">
                                <div class="symbol me-5">
                                    <span class="symbol-label blue-munsell">
                                        <span class="svg-icon svg-icon-2x svg-icon-white">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
                                                fill="currentColor" class="bi bi-bookmarks-fill" viewBox="0 0 16 16">
                                                <path
                                                    d="M2 4a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v11.5a.5.5 0 0 1-.777.416L7 13.101l-4.223 2.815A.5.5 0 0 1 2 15.5V4z" />
                                                <path
                                                    d="M4.268 1A2 2 0 0 1 6 0h6a2 2 0 0 1 2 2v11.5a.5.5 0 0 1-.777.416L13 13.768V2a1 1 0 0 0-1-1H4.268z" />
                                            </svg>
                                        </span>
                                    </span>
                                </div>
                                <div class="action-content">
                                    <h6 class="txtm-cus pt-1">Category</h6>
                                    <h5 class="mt-1" *ngIf="Category">{{Category}}
                                        <span class="dropdown-toggle no-after text-info"
                                            *ngIf="(Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true)"
                                            aria-haspopup="true" aria-expanded="false" (click)="onEditCategory()">
                                            <i *ngIf="Category" class="fas fa-edit ml-2 mb-1 curser-pointer" data-toggle="tooltip"
                                                title="edit project category"></i>
                                        </span>
                                    </h5>
                                    <h5 class="mt-1" *ngIf="!Category">No category
                                        <span class="dropdown-toggle no-after text-info"
                                            *ngIf="(Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true)"
                                            aria-haspopup="true" aria-expanded="false" (click)="onEditCategory()">
                                            <i *ngIf="!Category" class="fas fa-edit ml-2 mb-1 curser-pointer" data-toggle="tooltip"
                                                title="edit project category"></i>
                                        </span>
                                    </h5>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 project-duration d-none">
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <h6 class="mb-2">Project Duration</h6>
                                <h5 class="mb-3">{{StartDate|date:'dd-MM-yyyy'}} / {{EndDate}}</h5>
                                <progress value="50" max="100" class="project-duration-bar"></progress>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 project-budget d-none">
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <h6 class="mb-2">Project Budget</h6>
                                <h5 class="mb-3"> <span>{{Cost|currency:'SAR '}}</span></h5>
                                <progress value="50" max="100" class="project-budget-bar"></progress>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 d-none">
                        <!-- <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid"> -->
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <div class="d-flex align-items-center mb-2">
                                    <div class="initial-box">{{InitR}}</div>
                                    <div class="owner-details">
                                        <p class="text-dark text-hover-primary user-name mb-0">
                                            <strong>{{Responsible}}</strong>
                                        </p>
                                        <span class="text-muted">(Responsible)</span>
                                    </div>
                                </div>
                                <p class="mb-0"></p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row d-none">

                    <div class="col-md-3 project-duration">
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <h6 class="mb-2">Project Type</h6>
                                <h5 class="mb-3">{{ProjectBlockName}}</h5>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 project-duration">
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <h6 class="mb-2">Project Duration</h6>
                                <!-- |date:'dd-MM-yyyy' -->
                                <h5 class="mb-3">{{StartDate|date:'dd-MM-yyyy'}} / {{EndDate}}</h5>
                                <progress value="50" max="100" class="project-duration-bar"></progress>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 project-budget">
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <h6 class="mb-2">Project Budget</h6>
                                <h5 class="mb-3"> <span>{{Cost|currency:'SAR '}}</span></h5>
                                <progress value="50" max="100" class="project-budget-bar"></progress>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 project-duration">
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <h6 class="mb-2">Client</h6>
                                <h5 class="mb-3">{{Client}}</h5>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 project-duration">
                        <!-- <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid"> -->
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <div class="d-flex align-items-center mb-2">
                                    <div class="initial-box">{{InitR}}</div>
                                    <div class="owner-details">
                                        <p class="text-dark text-hover-primary user-name mb-0">
                                            <strong>{{Responsible}}</strong>
                                        </p>
                                        <span class="text-muted">(Responsible)</span>
                                    </div>
                                </div>
                                <p class="mb-0"></p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 project-duration">
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <h6 class="mb-2">Owner</h6>
                                <h5 class="mb-3">{{Owner}}</h5>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 project-duration">
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <h6 class="mb-2">Category</h6>
                                <h5 class="mb-3">Software Support</h5>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 project-duration">
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body p-3">
                                <h6 class="mb-2">Duration</h6>
                                <h5 class="mb-3">15 days</h5>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div [ngClass]="reason!='0' ? 'tab-section shadow-sm mt-5 desc-show' : 'tab-section shadow-sm mt-5'">
        <div class="row d-none">
            <div class="col-md-12">
                <hr class="mt-1" />
            </div>
        </div>

        <!-- <div class="row pt-2 nav-buttons">
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn active">Overview</button>
        </div>
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn">Tasks</button>
        </div>
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn">Milestones</button>
        </div>
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn">DMS</button>
        </div>
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn">Links</button>
        </div>
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn">Files</button>
        </div>
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn">Timeline</button>
        </div>
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn">Notes</button>
        </div>
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn">Comments</button>
        </div>
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn">People</button>
        </div>
        <div class="col-lg-1 col-md-2">
            <button type="button" class="btn">Meeting</button>
        </div>
    </div> -->

        <div class="row m-0">
            <div class="col-lg-12">
                <div class="tabs-sticky">
                    <ul class="nav navtab-bg nav-pills px-3 mb-3 space-tabs" id="myTab2" role="tablist">
                        <li class="nav-item"><a class="nav-link active" id="Overview1" data-toggle="tab"
                                href="#Overview"><span class="nav-text">Overview</span></a></li>
                        <li *ngIf="ProjectBlockName!='Standard Tasks' && ProjectBlockName!='Routine Tasks' &&  ProjectBlockName!='To do List'"
                                class="nav-item" (click)="OnTabTask_Click()"><a class="nav-link" id="Tasks1"
                                data-toggle="tab" href="#Tasks" aria-controls="profile">
                                <span class="nav-text">Actions</span>
                                <span data-toggle="kt-tooltip" *ngIf="subTaskCount!=0 && completedCount==0"
                                    title="Completed: {{completedCount}}, Inprocess: {{inProcessCount}}" class="noti"
                                    >{{subTaskCount}}</span>
                                <span data-toggle="kt-tooltip" *ngIf="subTaskCount!=0 && completedCount!=0"
                                    title="Completed: {{completedCount}}, Inprocess: {{inProcessCount}}" class="noti"
                                    >{{action_count}}</span>
                            </a>
                        </li>

                        <li class="nav-item"><a class="nav-link" id="Milestones1" data-toggle="tab"
                                href="#Milestones"><span class="nav-text">Milestones</span></a></li>
                        <li class="nav-item" (click)="GetDMS_Memos()"><a class="nav-link" id="DMS1" data-toggle="tab"
                                href="#DMS" aria-controls="profile"><span class="nav-text">DMS</span>
                                <span class="noti" *ngIf="dmslist!=0">{{dmslist}}</span></a></li>
                        <li class="nav-item"><a class="nav-link" id="Portfolio1" data-toggle="tab" href="#Portfolio"
                                aria-controls="profile"><span class="nav-text">Portfolio</span>
                                <span class="noti" *ngIf="portslength!=0">{{portslength}}</span></a></li>
                        <!-- <li class="nav-item"><a class="nav-link" id="Links1" data-toggle="tab" href="#Links"><span
                            class="nav-text">Links</span></a></li> -->
                        <li class="nav-item" (click)="getAttachments()"><a class="nav-link" id="Files1"
                                data-toggle="tab" href="#Files" aria-controls="profile"><span
                                    class="nav-text">Files</span>
                                <span class="noti" *ngIf="attachmentlength!=0">{{attachmentlength}}</span></a></li>
                        <li class="nav-item" (click)="dar_details()"><a class="nav-link" id="Timeline1"
                                data-toggle="tab" href="#Timeline"><span class="nav-text">Timeline</span>
                                <span class="noti" *ngIf="totalRecords!=0">{{totalRecords}}</span></a></li>
                        <li class="nav-item"><a class="nav-link" id="Notes1" data-toggle="tab" href="#Notes"
                                aria-controls="profile"><span class="nav-text">Notes</span></a></li>
                        <li class="nav-item" (click)="GetprojectComments()"><a class="nav-link" id="Comments1"
                                data-toggle="tab" href="#Comments"><span class="nav-text">Comments</span>
                                <span class="noti">{{commentsLength}}</span>
                            </a></li>
                        <li class="nav-item"><a class="nav-link" id="People1" data-toggle="tab" href="#People"
                                aria-controls="profile"><span class="nav-text">People</span>
                                <span data-toggle="tooltip" title="{{raciPeople}}" class="noti">{{racislength}}</span>
                            </a></li>
                        <li class="nav-item"  (click)="GetmeetingDetails()"><a class="nav-link" id="Meeting1"
                                data-toggle="tab" href="#Meeting"><span class="nav-text">Meeting</span>
                                <span class="noti" *ngIf="meetinglength!=0">{{meetinglength}}</span></a></li>
                    </ul>
                </div>
                <div class="tab-content p-2 mt-5" id="myTabContent2">

                    <!-- Overview Section -->
                    <div class="tab-pane fade show active" id="Overview" role="tabpanel" aria-labelledby="Overview1">

                        <div class="row scrollbar1">
                            <div class="col-lg-12">
                                <ul class="nav nav-pills px-3" id="myTab1" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="home-tab-1" data-toggle="tab" href="#Summary">
                                            <span class="nav-text">Summary</span>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="act-tab-1" data-toggle="tab" href="#Activity">
                                            <!-- <span class="nav-text">Activity</span> -->
                                            <span class="nav-text">Activity</span>

                                        </a>
                                    </li>
                                </ul>
                                <div class="tab-content mt-3" id="myTabContent1">
                                    <div class="tab-pane fade show active" id="Summary" role="tabpanel"
                                        aria-labelledby="home-tab-1">

                                        <div class="row mb-4">
                                            <div class="col-lg-12">
                                                <h4>Tasks</h4>
                                                <div class="row">
                                                    <div class="col-lg-7">
                                                        <div
                                                            class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                                                            <div class="kt-portlet__body px-3">
                                                                <h5><strong>DAR Summary</strong></h5>
                                                                <h6>Total Max Duration : <span
                                                                        *ngIf="ProjectBlockName != 'Standard Tasks' && ProjectBlockName != 'Routine Tasks'"><b>{{maxDuration}}Hrs</b></span>
                                                                    <span
                                                                        *ngIf="ProjectBlockName == 'Standard Tasks' || ProjectBlockName == 'Routine Tasks'"><b>{{standardDuration}}</b></span>
                                                                </h6>
                                                                <div id="DARSummary" style="width: 100%; height: 400px">
                                                                </div>

                                                                <!-- <div id="ProjectCompleteChart" style="width: 100%; height: 200px">
                                                                </div> -->
                                                                <!-- <div id="pieChatDiv"></div> -->
                                                                <!-- <div id="pieChatDiv" style="width: 100%; height: 300px">
                                                                </div> -->
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-5">
                                                        <div
                                                            class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                                                            <div class="kt-portlet__body px-3">
                                                                <!-- <h5><strong>All Tasks</strong></h5> -->

                                                                <div id="alltaskdiv" style="width: 100%; height: 160px">
                                                                </div>
                                                                <!-- projecttrenddiv -->
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-4">
                                                        <div
                                                            class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                                                            <div class="kt-portlet__body px-3">
                                                                <h5><strong>Milestones</strong></h5>
                                                                <p>Breakdown Achievement for Project</p>

                                                                <div class="progress_bar">
                                                                    <div class="pro-bar">
                                                                        <small class="progress_bar_title">
                                                                            Late
                                                                            <span class="progress_number">50%</span>
                                                                        </small>
                                                                        <span class="progress-bar-inner bg-late"
                                                                            style="width: 50%;" data-value="50"
                                                                            data-percentage-value="50"></span>
                                                                    </div>
                                                                </div>

                                                                <div class="progress_bar">
                                                                    <div class="pro-bar">
                                                                        <small class="progress_bar_title">
                                                                            Today
                                                                            <span class="progress_number">70%</span>
                                                                        </small>
                                                                        <span class="progress-bar-inner bg-today"
                                                                            style="width: 70%;" data-value="70"
                                                                            data-percentage-value="70"></span>
                                                                    </div>
                                                                </div>

                                                                <div class="progress_bar">
                                                                    <div class="pro-bar">
                                                                        <small class="progress_bar_title">
                                                                            Upcoming
                                                                            <span class="progress_number">80%</span>
                                                                        </small>
                                                                        <span class="progress-bar-inner bg-upcoming"
                                                                            style="width: 80%;" data-value="80"
                                                                            data-percentage-value="80"></span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- Row 2 -->
                                                <div class="row">
                                                    <div class="col-lg-8">
                                                        <h5><strong>All Tasks</strong></h5><br>
                                                        <h4>Project Trend</h4>
                                                        <div
                                                            class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                                                            <div class="kt-portlet__body px-3">
                                                                <h5><strong>Project Trend Graph</strong></h5>
                                                                <div id="ProjectTrendchart"
                                                                    style="width: 80%; height: 400px">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-4"
                                                        *ngIf="ProjectBlockName != 'Standard Tasks' && ProjectBlockName !='Routine Tasks'">
                                                        <h4>People on the project</h4>
                                                        <div
                                                            class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                                                            <div class="kt-portlet__body px-3">
                                                                <ul class="list-group">
                                                                    <li class="list-group-item active">Action Legends
                                                                    </li>
                                                                    <div class=" ribbon-content scrollbar1">
                                                                        <li class="list-group-item"
                                                                            *ngFor="let dar of DarGraphDataList;let i=index">
                                                                            <span class="text-primary"><b>{{dar.category}}:
                                                                                </b></span>
                                                                            {{dar.Project_Name}}
                                                                        </li>
                                                                    </div>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- Row 3 -->
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div class="row">
                                                    <div class="col-lg-12" *ngIf="subTaskCount == 0">
                                                        <h4>Breakdown</h4>
                                                        <div class="col-lg-2 col-sm-4">
                                                            <div class="kt-portlet mb-3">
                                                                <div class="kt-portlet__body px-3" data-toggle="tooltip"
                                                                    title="Responsible!">
                                                                    <img src="assets/images/user2.png" alt=""
                                                                        class="breakdown-user" />
                                                                    <p class="mb-2">
                                                                        <small><strong>{{Authority}}</strong></small>
                                                                    </p>
                                                                    <h5><strong>100%</strong></h5>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-12" *ngIf="subTaskCount != 0">
                                                        <h4>Breakdown</h4>
                                                    </div>
                                                    <div *ngFor="let item of Subtask_Res_List">
                                                        <div class="col-lg-2 col-sm-4" *ngIf="item.TM_DisplayName">
                                                            <div class="kt-portlet mb-3">
                                                                <div class="kt-portlet__body px-3" data-toggle="tooltip"
                                                                    title="Responsible!">
                                                                    <img src="assets/images/user2.png" alt=""
                                                                        class="breakdown-user"
                                                                        *ngIf="item.TM_DisplayName" />
                                                                    <p class="mb-2">
                                                                        <small><strong
                                                                                *ngIf="item.TM_DisplayName">{{item.TM_DisplayName}}</strong></small>
                                                                    </p>
                                                                    <h5><strong
                                                                            *ngIf="item.TM_DisplayName">{{(item.RespDuration
                                                                            / totalSubtaskHours ) |
                                                                            percent:'.1-2'}}</strong></h5>
                                                                    <h5><strong *ngIf="totalSubtaskHours == 0"> 0%
                                                                        </strong></h5>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- <div class="col-lg-2 col-sm-4">
                                                        <div class="kt-portlet mb-3">
                                                            <div class="kt-portlet__body px-3" data-toggle="tooltip" title="Authority!">
                                                                <img src="assets/images/user2.png" alt=""
                                                                    class="breakdown-user" />
                                                                <p class="mb-2">
                                                                    <small><strong>{{Authority}}</strong></small>
                                                                </p>
                                                                <h5><strong>25%</strong></h5>

                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-2 col-sm-4">
                                                        <div class="kt-portlet mb-3">
                                                            <div class="kt-portlet__body px-3" data-toggle="tooltip" title="Coordinator!">
                                                                <img src="assets/images/user2.png" alt=""
                                                                    class="breakdown-user" />
                                                                <p class="mb-2">
                                                                    <small><strong>{{Coordinator}}</strong></small>
                                                                </p>
                                                                <h5><strong>25%</strong></h5>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-2 col-sm-4">
                                                        <div class="kt-portlet mb-3">
                                                            <div class="kt-portlet__body px-3" data-toggle="tooltip" title="Informer!">
                                                                <img src="assets/images/user2.png" alt=""
                                                                    class="breakdown-user" />
                                                                <p class="mb-2">
                                                                    <small><strong>{{Informer}}</strong></small>
                                                                </p>
                                                                <h5><strong>45%</strong></h5>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-2 col-sm-4">
                                                        <div class="kt-portlet mb-3">
                                                            <div class="kt-portlet__body px-3" data-toggle="tooltip" title="Support!">
                                                                <img src="assets/images/user2.png" alt=""
                                                                    class="breakdown-user" />
                                                                <p class="mb-2">
                                                                    <small><strong>{{Support}}</strong></small>
                                                                </p>
                                                                <h5><strong>35%</strong></h5>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-2 col-sm-4">
                                                        <div class="kt-portlet mb-3">
                                                            <div class="kt-portlet__body px-3" data-toggle="tooltip" title="Owner!">
                                                                <img src="assets/images/user2.png" alt=""
                                                                    class="breakdown-user" />
                                                                <p class="mb-2">
                                                                    <small><strong>{{Owner}}</strong></small>
                                                                </p>
                                                                <h5><strong>10%</strong></h5>
                                                            </div>
                                                        </div>
                                                    </div> -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="Activity" role="tabpanel"
                                        aria-labelledby="act-tab-1">
                                        <h3>Standard Charts</h3>
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div
                                                    class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                                                    <div class="kt-portlet__body px-3">
                                                        <h5><strong>Project Monthly Summary</strong></h5>
                                                        <div id="StandardChart" style="width: 100%; height: 400px">
                                                        </div>

                                                        <div id="ProjectCompleteChart"
                                                            style="width: 100%; height: 200px">
                                                        </div>
                                                        <div id="pieChatDiv"></div>
                                                        <div id="pieChatDiv" style="width: 100%; height: 300px">
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Overview Section end-->

                    <!-- SubTasks Section -->
                    <div class="tab-pane fade" id="Tasks" role="tabpanel" aria-labelledby="Tasks1">
                        <div class="mult-div" *ngIf="subTaskCount!=0">
                            <ng-multiselect-dropdown class="mutlidropdown-set" [placeholder]="' All      '"
                                [settings]="dropdownSettings_Employee" [data]="empDropdown" [(ngModel)]="selectedEmp"
                                (onSelect)="EmpOnselect($event)" (onDeSelect)="EmpOnDeselect()">
                            </ng-multiselect-dropdown>
                        </div>
                        <ul class="nav nav-pills px-3" id="tasks-tabs" role="tablist"
                            *ngIf="subTaskCount!=0;">
                            <li class="nav-item" *ngIf="subTaskCount!=0 ">
                                <a class="nav-link active" id="tasks-1" data-toggle="tab" href="#tasks_1">
                                    <span class="nav-text">All</span>
                                </a>
                            </li>
                            <li class="nav-item" *ngIf="underapprovalcount!=0 ">
                                <a class="nav-link" id="tasks-5" data-toggle="tab" href="#tasks_5">
                                    <span class="nav-text">Under approval</span>
                                </a>
                            </li>
                            <li class="nav-item" *ngIf="inProcessCount!=0 ">
                                <a class="nav-link" id="tasks-2" data-toggle="tab" href="#tasks_2">
                                    <span class="nav-text">In process</span>
                                </a>
                            </li>
                            <li class="nav-item" *ngIf="delaycount!=0 ">
                                <a class="nav-link" id="tasks-3" data-toggle="tab" href="#tasks_3">
                                    <span class="nav-text">Delay</span>
                                </a>
                            </li>
                            <li [ngClass]="inProcessCount!=0 ? 'nav-item' : 'nav-item active'" *ngIf="completedCount!=0">
                                <a class="nav-link" id="tasks-4" data-toggle="tab" href="#tasks_4">
                                    <span class="nav-text">Completed</span>
                                </a>
                            </li>

                            <li class="nav-item">
                                <a class="nav-link" id="charts-1" data-toggle="tab" href="#charts_1">
                                    <span class="nav-text">Overview</span>
                                </a>
                            </li>
                        </ul>
                        <div class="tab-content" id="task-tabbview">
                            <div class="tab-pane fade show active" id="tasks_1" role="tabpanel"
                                aria-labelledby="tasks-1">
                                <div class="tasks_views rbn-bx">
                                    <div class="text-right action-btn">
                                        <!-- <button class="btn22 btn btn-label-primary btn-pill btn-sm mr-2" (click)="btmspace_opn()">Edit Tab</button> -->
                                        <!-- (click)="OnAddTaskClick()" -->
                                        <!-- <a title="Collapse all" class="text-muted text-hover-info mr-3" id="hidepro"
                                            data-toggle="collapse" href=".show.p1" role="button" aria-expanded="false" aria-controls="">
                                            <i class="far fa-minus-square mr-2"></i>Collapse All
                                        </a> -->
                                        
                                        <!-- <a title="Collapse all" class="text-muted text-hover-info mr-3 d-none" (click)="showpro()" id="showpro"
                                            data-toggle="collapse" href=".collapsed .p1" role="button" aria-expanded="false" aria-controls="">
                                            <i class="far fa-plus-square mr-2"></i>show All
                                        </a> -->

                                        <button
                                            *ngIf="(subTaskCount!=0) && ((Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo ||  Current_user_ID == Coor_EmpNo || Current_user_ID == Inform_EmpNo || supp==true || isHierarchy==true))"
                                            (click)="sweetAlert()" [hidden]="actionButton" title="Create New Action"
                                            class="btn22 btn btn-label-primary btn-pill btn-sm btn-bold mr-1"><i
                                                class="fas fa-plus mr-2"></i>New Action</button>
                                    </div>
                                    <div class=" ribbon-box my-3" *ngIf="Subtask_List">
                                            <div class="srch-actns mb-3" *ngIf="subTaskCount!=0" (click)="notinAction()">
                                                <input class="form-control" placeholder="search..." />
                                                <span class="srch-icon">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
                                                    </svg>
                                                </span>
                                            </div>

                                        <div class="ribbon-content scrollbar1" *ngIf="subTaskCount!=0">
                                            <div class="subtask-list" *ngFor="let item of Subtask_List;let i =index"
                                                [ngClass]="{'bg-custom': (item.Team_Res==Current_user_ID || isHierarchy==true)}">
                                                <div class="lbl-act ml-2">
                                                    <label
                                                        class=" kt-badge kt-hover--primary kt-bg-light-primary kt-badge--inline">
                                                        <i class="fa fa-window-restore mr-2"></i>Action {{item.IndexId}}
                                                    </label>
                                                </div>

                                                <div class="col-lg-12">
                                                    <div class="d-flex-cen">
                                                    <input type="radio" name="Subtask" class="subtask-radio" (click)="OnSubtaskClick(item)"
                                                        *ngIf="item.SubProject_Status!='Under Approval' && item.SubProject_Status!='Completed'"
                                                        [hidden]="(item.Team_Res!=Current_user_ID && isHierarchy==false )" />
                                                    <a class="d-flex justify-content-between collapsed lapse flex-1" data-toggle="collapse" href="#colp_{{item.IndexId+1}}" role="button" aria-expanded="false" aria-controls="">
                                                        <div class="d-flex-cen">
                                                            <div class="subtask-list-title text-hover-primary 
                                                                fs-5 mb-0 flex-hdv" *ngIf="item.SubProject_Status!='Completed'" >
                                                                <span class="mr-2" id="SpanProjName_{{item.id}}"
                                                                    data-toggle="tooltip" title="{{item.Project_Name }}" (click)="toggleExpand()">
                                                                    {{item.Project_Name |  truncate: isExpanded ?  9999 : 100}}</span>
                                                                <span class="text-info hidev edtv" [hidden]="Editbutton"
                                                                    id="EidtBtn_{{item.id}}"
                                                                    (click)="OnEditProject(item.id,item.Project_Name)">
                                                                    <i class="fas fa-edit" data-toggle="tooltip" title="edit action name"
                                                                        [hidden]="item.Team_Res!=Current_user_ID && item.Project_Owner!=Current_user_ID && item.Team_Autho!=Current_user_ID && isHierarchy==false "></i>
                                                                </span>
                                                                <span class="kt-inbox__subject" style="display:none;"
                                                                    id="spanTextbox_{{item.id}}" >
                                                                    <div class="d-flex">
                                                                        <input type="text" class="form-control text-"
                                                                            id="textboxfocus_{{item.id}}"
                                                                            [(ngModel)]="_modelProjectName"
                                                                            style="width: 78%;height: 32px;"
                                                                            (keydown.enter)="OnProject_Rename(item.id)">
                                                                        <div class="d-inline-block ml-3" id="button-addon4" style="min-width: 140px;">
                                                                            <button (click)="OnProject_Rename(item.id)"
                                                                                class="btn btn-primary btn btn-sm mr-2">Done</button>
                                                                            <button class=" btn btn-secondary btn btn-sm"
                                                                                (click)="onCancel(item.id)">Cancel</button>
                                                                        </div>
                                                                    </div>
                                                                </span>
                                                            </div>
                                                            <div class="subtask-list-title text-hover-primary fs-5 mt-1"  *ngIf="item.SubProject_Status=='Completed'">
                                                                <span class="mr-2" id="SpanProjName_{{item.id}}"
                                                                data-toggle="tooltip" title="{{item.Project_Name }}" (click)="toggleExpand()">
                                                                {{item.Project_Name |  truncate: isExpanded ?  9999 : 100}}</span>
                                                            </div>

                                                            <span class="mr-2 showv">|</span>
                                                            <div class="">
                                                                <span class="showv mr-2 text-muted">
                                                                    <i class="far fa-calendar-alt mr-1"></i>
                                                                    {{item.SubProject_DeadLine |date:'dd-MM-yyyy'}}
                                                                </span>
                                                            </div>

                                                            <span class="mr-2 showv">|</span>
                                                            <div class="d-flex-cen showv">
                                                                <span class="detail-icn mr-1  d-none">
                                                                    <svg xmlns="http://www.w3.org/2000/svg"
                                                                        width="14" height="14" fill="currentColor"
                                                                        class="bi bi-star" viewBox="0 0 16 16">
                                                                        <path
                                                                            d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z" />
                                                                    </svg>
                                                                </span>
                                                                <div>
                                                                    <h5 data-toggle="tooltip" class=" "
                                                                        *ngIf="item.SubProject_Status!='Delay'"
                                                                        [ngClass]="{
                                                                'text-success':item.SubProject_Status=='Completed',
                                                                'text-warning':item.SubProject_Status=='InProcess' || item.SubProject_Status=='Forward Under Approval',
                                                                'text-primary':item.SubProject_Status=='Under Approval',
                                                                'text-info':item.SubProject_Status=='Completion Under Approval',
                                                                'text-Rejected':item.SubProject_Status=='New Project Rejected',
                                                                'text-underApproval':item.SubProject_Status=='Enactive Under Approval',
                                                                'text-underApp':item.SubProject_Status=='New Project',
                                                                'text-completed':item.SubProject_Status=='Completion Under Approval',
                                                                'text-completeRejected':item.SubProject_Status=='Project Complete Rejected',
                                                                'text-Todo':item.SubProject_Status=='ToDo Completed'}"
                                                                        data-toggle="tooltip"
                                                                        title="Action Status!">
                                                                        {{item.SubProject_Status}} </h5>

                                                                    <h5 data-toggle="tooltip"
                                                                        class=" text-danger"
                                                                        data-toggle="tooltip"
                                                                        title="Action Status!"
                                                                        *ngIf="item.SubProject_Status=='Delay'">
                                                                        {{item.SubProject_Status}}
                                                                        {{item.Delaydays}} days</h5>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        
                                                        <div class="d-flex-cen">

                                                            <div class="d-flex-cen mr-2 showv">                                                                
                                                                <div class="initial-box color-7 b-50 mr-2">
                                                                    <i class="far fa-user"></i>
                                                                </div>
                                                                <h5 class="" data-toggle="tooltip" title="Action Responsible!">{{item.Subtask_Res}}</h5>                                                                
                                                            </div>
                                                            <a class="text-info swap-view"> View details </a>
                                                            <a class="text-info swap-less"> Less details </a>                                                            
                                                        </div>
                                                    </a>
                                                </div>
                                                    <div class="card-body pt-0 collapse p1 " id="colp_{{item.IndexId+1}}">
                                                        
                                                        <p *ngIf="item.SubProject_Status!='Completed'" [ngClass]="((item.Team_Res==Current_user_ID || item.Project_Owner==Current_user_ID || item.Team_Autho==Current_user_ID || isHierarchy==true) && item.SubProject_Status!='Under Approval') ? 'mb-3 ml-4' : 'mb-3 ml--2'">
                                                            <span class="mr-2" id="Span_DescName_{{item.id}}"
                                                                data-toggle="tooltip" title="Action Description!">
                                                                {{item.Project_Description}}</span>
                                                            <span class="text-info" [hidden]="Editbutton"
                                                                (click)="OnEditProject_Desc(item.id,item.Project_Description)">
                                                                <i class="fas fa-edit" data-toggle="tooltip" title="edit action description"
                                                                    [hidden]="item.Team_Res!=Current_user_ID && item.Project_Owner!=Current_user_ID && item.Team_Autho!=Current_user_ID && isHierarchy==false"></i>
                                                            </span>
                                                            <span class="kt-inbox__subject" style="display:none;"
                                                                id="spanTextarea_{{item.id}}">
                                                                <div class="d-flex">
                                                                    <input type="text" class="form-control"
                                                                        id="textareafocus_{{item.id}}"
                                                                        [(ngModel)]="_modelProjDesc"
                                                                        style="width: 78%;height: 32px;"
                                                                        (keydown.enter)="OnProject_Rename(item.id)">
                                                                    <div class="d-inline-block ml-3" id="button-addon4" style="min-width: 140px;">
                                                                        <button (click)="OnProject_Rename(item.id)"
                                                                            class="btn btn-primary btn btn-sm mr-2">Done</button>
                                                                        <button class=" btn btn-secondary btn btn-sm"
                                                                            (click)="onCancel(item.id)">Cancel</button>
                                                                    </div>
                                                                </div>
                                                            </span>
                                                        </p>
                                                        <p class="mb-3 ml--2" *ngIf="item.SubProject_Status=='Completed'">
                                                            <span class="mr-2" id="Span_DescName_{{item.id}}"
                                                                data-toggle="tooltip" title="Action Description!">
                                                                {{item.Project_Description}}</span>
                                                        </p>
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-person" viewBox="1 0 14 14">
                                                                            <path
                                                                                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z">
                                                                            </path>
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Owner</h6>
                                                                        <h5 class="" data-toggle="tooltip"
                                                                            title="Action Owner!">{{item.Subtask_Owner}}
                                                                            <span type="button" id="-icn" class="text-info" *ngIf="(Current_user_ID==item.Project_Owner || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true) && item.SubProject_Status!='Completed'"
                                                                                aria-haspopup="true" aria-expanded="false" (click)="onEditActionOwner(item.id,item.Project_Name,i+1,item.Project_Code)">
                                                                                <i data-toggle="tooltip" title="edit action owner"
                                                                                class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                                                            </span>
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-person" viewBox="1 0 14 14">
                                                                            <path
                                                                                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z">
                                                                            </path>
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Responsible</h6>
                                                                        <h5 class="" data-toggle="tooltip"
                                                                            title="Action Responsible!">
                                                                            {{item.Subtask_Res}}
                                                                            <span type="button" id="-icn" class="text-info" *ngIf="(Current_user_ID==item.Team_Res || Current_user_ID==item.Project_Owner || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true) && item.SubProject_Status!='Completed' && item.SubProject_Status!='Forward Under Approval'"
                                                                                aria-haspopup="true" aria-expanded="false" (click)="onEditActionResponsible(item.id,item.Project_Name,i+1,item.Project_Code)">
                                                                                <i data-toggle="tooltip" title="edit action responsible"
                                                                                class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                                                            </span>
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="14" height="14" fill="currentColor"
                                                                            class="bi bi-star" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Status</h6>
                                                                        <div>
                                                                            <h5 data-toggle="tooltip" class=" "
                                                                                *ngIf="item.SubProject_Status!='Delay'"
                                                                                [ngClass]="{
                                                                        'text-success':item.SubProject_Status=='Completed',
                                                                        'text-warning':item.SubProject_Status=='InProcess' || item.SubProject_Status=='Forward Under Approval',
                                                                        'text-primary':item.SubProject_Status=='Under Approval',
                                                                        'text-info':item.SubProject_Status=='Completion Under Approval',
                                                                        'text-Rejected':item.SubProject_Status=='New Project Rejected',
                                                                        'text-underApproval':item.SubProject_Status=='Enactive Under Approval',
                                                                        
                                                                        'text-underApp':item.SubProject_Status=='New Project',
                                                                        'text-completed':item.SubProject_Status=='Completion Under Approval',
                                                                        'text-completeRejected':item.SubProject_Status=='Project Complete Rejected',
                                                                        'text-Todo':item.SubProject_Status=='ToDo Completed'}"
                                                                                data-toggle="tooltip"
                                                                                title="Action Status!">
                                                                                {{item.SubProject_Status}} </h5>

                                                                            <h5 data-toggle="tooltip"
                                                                                class=" text-danger"
                                                                                data-toggle="tooltip"
                                                                                title="Action Status!"
                                                                                *ngIf="item.SubProject_Status=='Delay'">
                                                                                {{item.SubProject_Status}}
                                                                                {{item.Delaydays}} days</h5>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- data-toggle="dropdown"  -->
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-calendar4-week"
                                                                            viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v1h14V3a1 1 0 0 0-1-1H2zm13 3H1v9a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V5z" />
                                                                            <path
                                                                                d="M11 7.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-2 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Action Duration</h6>
                                                                        <div class="mb-0 d-flex align-items-center">
                                                                            <h5 class="" data-toggle="tooltip"
                                                                                title="Start Date!">{{item.StartDate
                                                                                |date:'dd-MM-yyyy'}}</h5>
                                                                            <div class="dropdown show"
                                                                                *ngIf="(item.StartDate >= EndDate1) && (Current_user_ID=='2000' || Current_user_ID=='2000' || Current_user_ID==item.Team_Res || Current_user_ID==item.Project_Owner || Current_user_ID==item.Team_Autho) && item.SubProject_Status!='Completed'">
                                                                                <span type="button" id="start-icn"
                                                                                    (click)="onEditStartDate(item.id,item.Project_Name,i+1,item.Project_Code,item.StartDate)"
                                                                                    aria-haspopup="true"
                                                                                    aria-expanded="true"
                                                                                    class="dropdown-toggle no-after text-info">
                                                                                    <i data-toggle="tooltip"
                                                                                        title="edit action start date"
                                                                                        class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                                                                </span>
                                                                            </div>
                                                                            <h5>/</h5>
                                                                            <h5 class="" data-toggle="tooltip"
                                                                                title="End Date!">
                                                                                {{item.SubProject_DeadLine
                                                                                |date:'dd-MM-yyyy'}}</h5>

                                                                            <div class="dropdown show"
                                                                                *ngIf="(Current_user_ID=='2000' || Current_user_ID==item.Team_Res || Current_user_ID==item.Project_Owner || Current_user_ID==item.Team_Autho) && item.SubProject_Status!='Completed'">
                                                                                <span type="button" id="end-icn"
                                                                                    aria-haspopup="true"
                                                                                    (click)="onEditEndDate(item.id,item.Project_Name,i+1,item.Project_Code,item.SubProject_DeadLine)"
                                                                                    aria-expanded="true"
                                                                                    class="dropdown-toggle no-after text-info">
                                                                                    <i data-toggle="tooltip"
                                                                                        title="edit action end date"
                                                                                        class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="18" height="18" fill="currentColor"
                                                                            class="bi bi-clock" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z" />
                                                                            <path
                                                                                d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Allocated</h6>
                                                                        <div class="mb-0 d-flex align-items-center">
                                                                            
                                                                            <h5 class="" data-toggle="tooltip"
                                                                            title="Action Cost!">
                                                                            {{item.SubtaskAllocated}} Hrs</h5>

                                                                            <div class="dropdown show"
                                                                                *ngIf="item.SubtaskAllocated == 0 && (Current_user_ID=='2000' || Current_user_ID==item.Team_Res || Current_user_ID==item.Project_Owner || Current_user_ID==item.Team_Autho) && item.SubProject_Status!='Completed'">
                                                                                <span type="button" id="alloc-icn"
                                                                                    (click)="OnEditProject_Alloc(item.id,item.Project_Name,i+1,item.Project_Code,item.SubtaskDuration)"
                                                                                    aria-haspopup="true"
                                                                                    aria-expanded="true"
                                                                                    class="dropdown-toggle no-after text-info">
                                                                                    <i data-toggle="tooltip"
                                                                                        title="edit action duration"
                                                                                        class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="14" height="14" fill="currentColor"
                                                                            class="bi bi-wallet" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M0 3a2 2 0 0 1 2-2h13.5a.5.5 0 0 1 0 1H15v2a1 1 0 0 1 1 1v8.5a1.5 1.5 0 0 1-1.5 1.5h-12A2.5 2.5 0 0 1 0 12.5V3zm1 1.732V12.5A1.5 1.5 0 0 0 2.5 14h12a.5.5 0 0 0 .5-.5V5H2a1.99 1.99 0 0 1-1-.268zM1 3a1 1 0 0 0 1 1h12V2H2a1 1 0 0 0-1 1z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Cost</h6>
                                                                        <h5 *ngIf="item.Project_Cost" class="" data-toggle="tooltip"
                                                                            title="Action Cost!">
                                                                            {{item.Project_Cost|currency:'SAR '}}
                                                                        </h5>
                                                                        <h5 *ngIf="!item.Project_Cost" class="" data-toggle="tooltip"
                                                                            title="Action Cost!">
                                                                            SAR 0.0     
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <!-- data-toggle="dropdown"  -->
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-hourglass" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M2 1.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1-.5-.5zm2.5.5v1a3.5 3.5 0 0 0 1.989 3.158c.533.256 1.011.791 1.011 1.491v.702c0 .7-.478 1.235-1.011 1.491A3.5 3.5 0 0 0 4.5 13v1h7v-1a3.5 3.5 0 0 0-1.989-3.158C8.978 9.586 8.5 9.052 8.5 8.351v-.702c0-.7.478-1.235 1.011-1.491A3.5 3.5 0 0 0 11.5 3V2h-7z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Duration</h6>
                                                                        <h5 *ngIf="ProjectBlockName!='Standard Tasks' && ProjectBlockName!='Routine Tasks'"
                                                                            class="">
                                                                            {{item.SubtaskDuration}} days</h5>
                                                                        <h5 *ngIf="ProjectBlockName=='Standard Tasks' || ProjectBlockName=='Routine Tasks'"
                                                                            class="">
                                                                            Continuous</h5>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-percent" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M13.442 2.558a.625.625 0 0 1 0 .884l-10 10a.625.625 0 1 1-.884-.884l10-10a.625.625 0 0 1 .884 0zM4.5 6a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zm7 6a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Percentage</h6>
                                                                        <h5 class="">{{(item.SubtaskAllocated /
                                                                            totalSubtaskHours) | percent:'.1-2'}}</h5>
                                                                        <h5 class="" *ngIf="totalSubtaskHours == 0"> 0%
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4" *ngIf="item.Remarks && item.Remarks!='undefined'">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-card-text" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z" />
                                                                            <path
                                                                                d="M3 5.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 8zm0 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Remarks</h6>
                                                                        <h5 class="" data-toggle="tooltip"
                                                                            title="Action Remarks!">{{item.Remarks}}
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-4" *ngIf="item.Sourcefile">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-paperclip" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0V3z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Reference attachment</h6>
                                                                        <a class="word-break text-info curser-pointer"
                                                                            title="Click To Open File"
                                                                            (click)="LoadDocument(item.IsCloud,item.Project_Code,item.Team_Res,item.CompleteProofDoc)">
                                                                            <b>{{item.Sourcefile}}</b></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="tasks_5" role="tabpanel"
                                aria-labelledby="tasks-1">
                                <div class="tasks_views rbn-bx">
                                    <div class="text-right action-btn">
                                        <!-- <button class="btn22 btn btn-label-primary btn-pill btn-sm mr-2" (click)="btmspace_opn()">Edit Tab</button> -->
                                        <!-- (click)="OnAddTaskClick()" -->
                                        <!-- <a title="Collapse all" class="text-muted text-hover-info mr-3" id="hidepro"
                                            data-toggle="collapse" href=".show.p1" role="button" aria-expanded="false" aria-controls="">
                                            <i class="far fa-minus-square mr-2"></i>Collapse All
                                        </a> -->
                                        
                                        <!-- <a title="Collapse all" class="text-muted text-hover-info mr-3 d-none" (click)="showpro()" id="showpro"
                                            data-toggle="collapse" href=".collapsed .p1" role="button" aria-expanded="false" aria-controls="">
                                            <i class="far fa-plus-square mr-2"></i>show All
                                        </a> -->

                                        <button
                                            *ngIf="(underapprovalcount!=0) && ((Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo ||  Current_user_ID == Coor_EmpNo || Current_user_ID == Inform_EmpNo || supp==true || isHierarchy==true))"
                                            (click)="sweetAlert()" [hidden]="actionButton" title="Create New Action"
                                            class="btn22 btn btn-label-primary btn-pill btn-sm btn-bold mr-1"><i
                                                class="fas fa-plus mr-2"></i>New Action</button>

                                        <!-- (click)="OnAddTaskClick()" -->
                                        <!-- <button
                                            *ngIf="(inProcessCount==0 && completedCount==0) && ((Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo ||  Current_user_ID == Coor_EmpNo || Current_user_ID == Inform_EmpNo || supp==true || isHierarchy==true))"
                                            (click)="sweetAlert()" [hidden]="actionButton" title="Create New Action"
                                            class="btn22 btn btn-label-primary btn-pill btn-sm btn-bold mr-1"><i
                                                class="fas fa-plus mr-2"></i>New Action</button> -->
                                    </div>
                                    <div class=" ribbon-box my-3" *ngIf="underapproval_list">
                                        <!-- <div class="ribbon-info ribbon float-start" *ngIf="inProcessCount!=0"
                                            data-toggle="tooltip" title="InProcess Actions!">
                                            Inprocess</div> -->
                                            <div class="srch-actns mb-3" *ngIf="underapprovalcount!=0" (click)="notinAction()">
                                                <input class="form-control" placeholder="search..." />
                                                <span class="srch-icon">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
                                                    </svg>
                                                </span>
                                            </div>

                                        <div class="ribbon-content scrollbar1" *ngIf="underapprovalcount!=0">
                                            <div class="subtask-list" *ngFor="let item of underapproval_list;let i =index"
                                                [ngClass]="{'bg-custom': (item.Team_Res==Current_user_ID || isHierarchy==true)}">
                                                <div class="lbl-act ml-2">
                                                    <label
                                                        class=" kt-badge kt-hover--primary kt-bg-light-primary kt-badge--inline">
                                                        <i class="fa fa-window-restore mr-2"></i>Action {{item.IndexId}}
                                                    </label>
                                                </div>

                                                <div class="col-lg-12">
                                                    <div class="d-flex-cen">
                                                    <input type="radio" name="Subtask" class="subtask-radio"
                                                    (click)="OnSubtaskClick(item)"
                                                    *ngIf="item.SubProject_Status!='Under Approval'"
                                                    [hidden]="item.Team_Res!=Current_user_ID && isHierarchy==false" />
                                                    <a class="d-flex justify-content-between collapsed lapse flex-1" data-toggle="collapse" href="#colp_{{item.IndexId+1}}" role="button" aria-expanded="false" aria-controls="">
                                                        <div class="d-flex-cen">
                                                            <div class="subtask-list-title text-hover-primary 
                                                                fs-5 mb-0 flex-hdv">
                                                                <span class="mr-2" id="underapprovalName_{{item.id}}"
                                                                    data-toggle="tooltip" title="{{item.Project_Name }}" (click)="toggleExpand()">
                                                                    {{item.Project_Name |  truncate: isExpanded ?  9999 : 100}}</span>
                                                                <!-- [hidden]="item.Project_Owner!=CurrentUser_ID" -->
                                                                <span class="text-info hidev edtv" [hidden]="Editbutton"
                                                                    id="EidtBtn_{{item.id}}"
                                                                    (click)="OnEditProject_underapproval(item.id,item.Project_Name)">
                                                                    <i class="fas fa-edit" data-toggle="tooltip" title="edit action name"
                                                                        [hidden]="item.Team_Res!=Current_user_ID && item.Project_Owner!=Current_user_ID && item.Team_Autho!=Current_user_ID && isHierarchy==false"></i>
                                                                </span>
                                                                <span class="kt-inbox__subject" style="display:none;"
                                                                    id="underapprovalTextbox_{{item.id}}">
                                                                    <div class="d-flex">
                                                                        <input type="text" class="form-control text-"
                                                                            id="underapprovalfocus_{{item.id}}"
                                                                            [(ngModel)]="_modelProjectName"
                                                                            style="width: 78%;height: 32px;"
                                                                            (keydown.enter)="OnProject_Rename(item.id)">
                                                                        <div class="d-inline-block ml-3" id="button-addon4" style="min-width: 140px;">
                                                                            <button (click)="OnProject_Rename(item.id)"
                                                                                class="btn btn-primary btn btn-sm mr-2">Done</button>
                                                                            <button class=" btn btn-secondary btn btn-sm"
                                                                                (click)="onCancel_underapproval(item.id)">Cancel</button>
                                                                        </div>
                                                                    </div>
                                                                </span>
                                                            </div>

                                                            <span class="mr-2 showv">|</span>
                                                            <div class="">
                                                                <span class="showv mr-2 text-muted">
                                                                    <i class="far fa-calendar-alt mr-1"></i>
                                                                    {{item.SubProject_DeadLine |date:'dd-MM-yyyy'}}
                                                                </span>
                                                            </div>

                                                            <span class="mr-2 showv">|</span>
                                                            <div class="d-flex-cen showv">
                                                                <span class="detail-icn mr-1  d-none">
                                                                    <svg xmlns="http://www.w3.org/2000/svg"
                                                                        width="14" height="14" fill="currentColor"
                                                                        class="bi bi-star" viewBox="0 0 16 16">
                                                                        <path
                                                                            d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z" />
                                                                    </svg>
                                                                </span>
                                                                <div>
                                                                    <h5 data-toggle="tooltip" class=" "
                                                                        *ngIf="item.SubProject_Status!='Delay'"
                                                                        [ngClass]="{
                                                                'text-success':item.SubProject_Status=='Completed',
                                                                'text-warning':item.SubProject_Status=='InProcess' || item.SubProject_Status=='Forward Under Approval',
                                                                'text-primary':item.SubProject_Status=='Under Approval',
                                                                'text-info':item.SubProject_Status=='Completion Under Approval',
                                                                'text-Rejected':item.SubProject_Status=='New Project Rejected',
                                                                'text-underApproval':item.SubProject_Status=='Enactive Under Approval',
                                                                
                                                                'text-underApp':item.SubProject_Status=='New Project',
                                                                'text-completed':item.SubProject_Status=='Completion Under Approval',
                                                                'text-completeRejected':item.SubProject_Status=='Project Complete Rejected',
                                                                'text-Todo':item.SubProject_Status=='ToDo Completed'}"
                                                                        data-toggle="tooltip"
                                                                        title="Action Status!">
                                                                        {{item.SubProject_Status}} </h5>

                                                                    <h5 data-toggle="tooltip"
                                                                        class=" text-danger"
                                                                        data-toggle="tooltip"
                                                                        title="Action Status!"
                                                                        *ngIf="item.SubProject_Status=='Delay'">
                                                                        {{item.SubProject_Status}}
                                                                        {{item.Delaydays}} days</h5>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        
                                                        <div class="d-flex-cen">

                                                            <div class="d-flex-cen mr-2 showv">                                                                
                                                                <div class="initial-box color-7 b-50 mr-2">
                                                                    <i class="far fa-user"></i>
                                                                    <!-- <span class="line-1">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-person" viewBox="1 0 14 14">
                                                                            <path
                                                                                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z">
                                                                            </path>
                                                                        </svg>
                                                                    </span> -->
                                                                </div>
                                                                <h5 class="" data-toggle="tooltip" title="Action Responsible!">{{item.Subtask_Res}}</h5>                                                                
                                                            </div>
                                                            <a class="text-info swap-view"> View details </a>
                                                            <a class="text-info swap-less"> Less details </a>                                                            
                                                        </div>
                                                    </a>
                                                </div>
                                                    <div class="card-body pt-0 collapse p1 " id="colp_{{item.IndexId+1}}">
                                                        
                                                        <p [ngClass]="((item.Team_Res==Current_user_ID || item.Project_Owner==Current_user_ID || item.Team_Autho==Current_user_ID || isHierarchy==true) && item.SubProject_Status!='Under Approval') ? 'mb-3 ml-4' : 'mb-3 ml--2'">
                                                            <span class="mr-2" id="underapproval_DescName_{{item.id}}"
                                                                data-toggle="tooltip" title="Action Description!">
                                                                {{item.Project_Description}}</span>
                                                            <span class="text-info" [hidden]="Editbutton"
                                                                (click)="OnEditProject_Desc_underapproval(item.id,item.Project_Description)">
                                                                <i class="fas fa-edit" data-toggle="tooltip" title="edit action description"
                                                                    [hidden]="item.Team_Res!=Current_user_ID && item.Project_Owner!=Current_user_ID && item.Team_Autho!=Current_user_ID && isHierarchy==false"></i>
                                                            </span>
                                                            <span class="kt-inbox__subject" style="display:none;"
                                                                id="underapprovalTextarea_{{item.id}}">
                                                                <div class="d-flex">
                                                                    <input type="text" class="form-control"
                                                                        id="underapprovalareafocus_{{item.id}}"
                                                                        [(ngModel)]="_modelProjDesc"
                                                                        style="width: 78%;height: 32px;"
                                                                        (keydown.enter)="OnProject_Rename(item.id)">
                                                                    <div class="d-inline-block ml-3" id="button-addon4" style="min-width: 140px;">
                                                                        <button (click)="OnProject_Rename(item.id)"
                                                                            class="btn btn-primary btn btn-sm mr-2">Done</button>
                                                                        <button class=" btn btn-secondary btn btn-sm"
                                                                            (click)="onCancel_underapproval(item.id)">Cancel</button>
                                                                    </div>
                                                                </div>
                                                            </span>
                                                        </p>
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-person" viewBox="1 0 14 14">
                                                                            <path
                                                                                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z">
                                                                            </path>
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Owner</h6>
                                                                        <h5 class="" data-toggle="tooltip"
                                                                            title="Action Owner!">{{item.Subtask_Owner}}
                                                                            <span type="button" id="-icn" class="text-info" *ngIf="(Current_user_ID==item.Project_Owner || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true)"
                                                                                aria-haspopup="true" aria-expanded="false" (click)="onEditActionOwner(item.id,item.Project_Name,i+1,item.Project_Code)">
                                                                                <i data-toggle="tooltip" title="edit action owner"
                                                                                class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                                                            </span>
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-person" viewBox="1 0 14 14">
                                                                            <path
                                                                                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z">
                                                                            </path>
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Responsible</h6>
                                                                        <h5 class="" data-toggle="tooltip"
                                                                            title="Action Responsible!">
                                                                            {{item.Subtask_Res}}
                                                                            <span type="button" id="-icn" class="text-info" *ngIf="(Current_user_ID==item.Team_Res || Current_user_ID==item.Project_Owner || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true) && item.SubProject_Status!='Completed' && item.SubProject_Status!='Forward Under Approval'"
                                                                                aria-haspopup="true" aria-expanded="false" (click)="onEditActionResponsible(item.id,item.Project_Name,i+1,item.Project_Code)">
                                                                                <i data-toggle="tooltip" title="edit action responsible"
                                                                                class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                                                            </span>
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="14" height="14" fill="currentColor"
                                                                            class="bi bi-star" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Status</h6>
                                                                        <div>
                                                                            <h5 data-toggle="tooltip" class=" "
                                                                                *ngIf="item.SubProject_Status!='Delay'"
                                                                                [ngClass]="{
                                                                        'text-success':item.SubProject_Status=='Completed',
                                                                        'text-warning':item.SubProject_Status=='InProcess',
                                                                        'text-primary':item.SubProject_Status=='Under Approval',
                                                                        'text-info':item.SubProject_Status=='Completion Under Approval',
                                                                        'text-Rejected':item.SubProject_Status=='New Project Rejected',
                                                                        'text-underApproval':item.SubProject_Status=='Enactive Under Approval',
                                                                        
                                                                        'text-underApp':item.SubProject_Status=='New Project',
                                                                        'text-completed':item.SubProject_Status=='Completion Under Approval',
                                                                        'text-completeRejected':item.SubProject_Status=='Project Complete Rejected',
                                                                        'text-Todo':item.SubProject_Status=='ToDo Completed'}"
                                                                                data-toggle="tooltip"
                                                                                title="Action Status!">
                                                                                {{item.SubProject_Status}} </h5>

                                                                            <h5 data-toggle="tooltip"
                                                                                class=" text-danger"
                                                                                data-toggle="tooltip"
                                                                                title="Action Status!"
                                                                                *ngIf="item.SubProject_Status=='Delay'">
                                                                                {{item.SubProject_Status}}
                                                                                {{item.Delaydays}} days</h5>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- data-toggle="dropdown"  -->
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-calendar4-week"
                                                                            viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v1h14V3a1 1 0 0 0-1-1H2zm13 3H1v9a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V5z" />
                                                                            <path
                                                                                d="M11 7.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-2 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Action Duration</h6>
                                                                        <div class="mb-0 d-flex align-items-center">
                                                                            <h5 class="" data-toggle="tooltip"
                                                                                title="Start Date!">{{item.StartDate
                                                                                |date:'dd-MM-yyyy'}}</h5>
                                                                            <div class="dropdown show"
                                                                                *ngIf="(item.StartDate >= EndDate1) && (Current_user_ID=='2000' || Current_user_ID=='2000' || Current_user_ID==item.Team_Res || Current_user_ID==item.Project_Owner || Current_user_ID==item.Team_Autho)">
                                                                                <span type="button" id="start-icn"
                                                                                    (click)="onEditStartDate(item.id,item.Project_Name,i+1,item.Project_Code,item.StartDate)"
                                                                                    aria-haspopup="true"
                                                                                    aria-expanded="true"
                                                                                    class="dropdown-toggle no-after text-info">
                                                                                    <i data-toggle="tooltip"
                                                                                        title="edit action start date"
                                                                                        class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                                                                </span>
                                                                            </div>
                                                                            <h5>/</h5>
                                                                            <h5 class="" data-toggle="tooltip"
                                                                                title="End Date!">
                                                                                {{item.SubProject_DeadLine
                                                                                |date:'dd-MM-yyyy'}}</h5>

                                                                            <div class="dropdown show"
                                                                                *ngIf="(Current_user_ID=='2000' || Current_user_ID==item.Team_Res || Current_user_ID==item.Project_Owner || Current_user_ID==item.Team_Autho)">
                                                                                <span type="button" id="end-icn"
                                                                                    aria-haspopup="true"
                                                                                    (click)="onEditEndDate(item.id,item.Project_Name,i+1,item.Project_Code,item.SubProject_DeadLine)"
                                                                                    aria-expanded="true"
                                                                                    class="dropdown-toggle no-after text-info">
                                                                                    <i data-toggle="tooltip"
                                                                                        title="edit action end date"
                                                                                        class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="18" height="18" fill="currentColor"
                                                                            class="bi bi-clock" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z" />
                                                                            <path
                                                                                d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Allocated</h6>
                                                                        <div class="mb-0 d-flex align-items-center">
                                                                            
                                                                            <h5 class="" data-toggle="tooltip"
                                                                            title="Action Cost!">
                                                                            {{item.SubtaskAllocated}} Hrs</h5>

                                                                            <div class="dropdown show"
                                                                                *ngIf="item.SubtaskAllocated == 0 && (Current_user_ID=='2000' || Current_user_ID==item.Team_Res || Current_user_ID==item.Project_Owner || Current_user_ID==item.Team_Autho)">
                                                                                <span type="button" id="alloc-icn"
                                                                                    (click)="OnEditProject_Alloc(item.id,item.Project_Name,i+1,item.Project_Code,item.SubtaskDuration)"
                                                                                    aria-haspopup="true"
                                                                                    aria-expanded="true"
                                                                                    class="dropdown-toggle no-after text-info">
                                                                                    <i data-toggle="tooltip"
                                                                                        title="edit action duration"
                                                                                        class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="14" height="14" fill="currentColor"
                                                                            class="bi bi-wallet" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M0 3a2 2 0 0 1 2-2h13.5a.5.5 0 0 1 0 1H15v2a1 1 0 0 1 1 1v8.5a1.5 1.5 0 0 1-1.5 1.5h-12A2.5 2.5 0 0 1 0 12.5V3zm1 1.732V12.5A1.5 1.5 0 0 0 2.5 14h12a.5.5 0 0 0 .5-.5V5H2a1.99 1.99 0 0 1-1-.268zM1 3a1 1 0 0 0 1 1h12V2H2a1 1 0 0 0-1 1z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Cost</h6>
                                                                        <h5 *ngIf="item.Project_Cost" class="" data-toggle="tooltip"
                                                                            title="Action Cost!">
                                                                            {{item.Project_Cost|currency:'SAR '}}
                                                                        </h5>
                                                                        <h5 *ngIf="!item.Project_Cost" class="" data-toggle="tooltip"
                                                                            title="Action Cost!">
                                                                            SAR 0.0     
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <!-- data-toggle="dropdown"  -->
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-hourglass" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M2 1.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1-.5-.5zm2.5.5v1a3.5 3.5 0 0 0 1.989 3.158c.533.256 1.011.791 1.011 1.491v.702c0 .7-.478 1.235-1.011 1.491A3.5 3.5 0 0 0 4.5 13v1h7v-1a3.5 3.5 0 0 0-1.989-3.158C8.978 9.586 8.5 9.052 8.5 8.351v-.702c0-.7.478-1.235 1.011-1.491A3.5 3.5 0 0 0 11.5 3V2h-7z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Duration</h6>
                                                                        <h5 *ngIf="ProjectBlockName!='Standard Tasks' && ProjectBlockName!='Routine Tasks'"
                                                                            class="">
                                                                            {{item.SubtaskDuration}} days</h5>
                                                                        <h5 *ngIf="ProjectBlockName=='Standard Tasks' || ProjectBlockName=='Routine Tasks'"
                                                                            class="">
                                                                            Continuous</h5>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-percent" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M13.442 2.558a.625.625 0 0 1 0 .884l-10 10a.625.625 0 1 1-.884-.884l10-10a.625.625 0 0 1 .884 0zM4.5 6a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zm7 6a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Percentage</h6>
                                                                        <h5 class="">{{(item.SubtaskAllocated /
                                                                            totalSubtaskHours) | percent:'.1-2'}}</h5>
                                                                        <h5 class="" *ngIf="totalSubtaskHours == 0"> 0%
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4" *ngIf="item.Remarks && item.Remarks!='undefined'">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-card-text" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z" />
                                                                            <path
                                                                                d="M3 5.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 8zm0 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Remarks</h6>
                                                                        <h5 class="" data-toggle="tooltip"
                                                                            title="Action Remarks!">{{item.Remarks}}
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-4" *ngIf="item.Sourcefile">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-paperclip" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0V3z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Reference attachment</h6>
                                                                        <a class="word-break text-info curser-pointer"
                                                                            title="Click To Open File"
                                                                            (click)="LoadDocument(item.IsCloud,item.Project_Code,item.Team_Res,item.CompleteProofDoc)">
                                                                            <b>{{item.Sourcefile}}</b></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="tasks_2" role="tabpanel"
                                aria-labelledby="tasks-1">
                                <div class="tasks_views rbn-bx">
                                    <div class="text-right action-btn">
                                        <!-- <button class="btn22 btn btn-label-primary btn-pill btn-sm mr-2" (click)="btmspace_opn()">Edit Tab</button> -->
                                        <!-- (click)="OnAddTaskClick()" -->
                                        <!-- <a title="Collapse all" class="text-muted text-hover-info mr-3" id="hidepro"
                                            data-toggle="collapse" href=".show.p1" role="button" aria-expanded="false" aria-controls="">
                                            <i class="far fa-minus-square mr-2"></i>Collapse All
                                        </a> -->
                                        
                                        <!-- <a title="Collapse all" class="text-muted text-hover-info mr-3 d-none" (click)="showpro()" id="showpro"
                                            data-toggle="collapse" href=".collapsed .p1" role="button" aria-expanded="false" aria-controls="">
                                            <i class="far fa-plus-square mr-2"></i>show All
                                        </a> -->

                                        <button
                                            *ngIf="(inProcessCount!=0) && ((Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo ||  Current_user_ID == Coor_EmpNo || Current_user_ID == Inform_EmpNo || supp==true || isHierarchy==true))"
                                            (click)="sweetAlert()" [hidden]="actionButton" title="Create New Action"
                                            class="btn22 btn btn-label-primary btn-pill btn-sm btn-bold mr-1"><i
                                                class="fas fa-plus mr-2"></i>New Action</button>

                                        <!-- (click)="OnAddTaskClick()" -->
                                        <!-- <button
                                            *ngIf="(inProcessCount==0 && completedCount==0) && ((Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo ||  Current_user_ID == Coor_EmpNo || Current_user_ID == Inform_EmpNo || supp==true || isHierarchy==true))"
                                            (click)="sweetAlert()" [hidden]="actionButton" title="Create New Action"
                                            class="btn22 btn btn-label-primary btn-pill btn-sm btn-bold mr-1"><i
                                                class="fas fa-plus mr-2"></i>New Action</button> -->
                                    </div>
                                    <div class=" ribbon-box my-3" *ngIf="Inprocess_List">
                                        <!-- <div class="ribbon-info ribbon float-start" *ngIf="inProcessCount!=0"
                                            data-toggle="tooltip" title="InProcess Actions!">
                                            Inprocess</div> -->
                                            <div class="srch-actns mb-3" *ngIf="inProcessCount!=0" (click)="notinAction()">
                                                <input class="form-control" placeholder="search..." />
                                                <span class="srch-icon">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
                                                    </svg>
                                                </span>
                                            </div>

                                        <div class="ribbon-content scrollbar1" *ngIf="inProcessCount!=0">
                                            <div class="subtask-list" *ngFor="let item of Inprocess_List;let i =index"
                                                [ngClass]="{'bg-custom': (item.Team_Res==Current_user_ID || isHierarchy==true)}">
                                                <div class="lbl-act ml-2">
                                                    <label
                                                        class=" kt-badge kt-hover--primary kt-bg-light-primary kt-badge--inline">
                                                        <i class="fa fa-window-restore mr-2"></i>Action {{item.IndexId}}
                                                    </label>
                                                </div>

                                                <div class="col-lg-12">
                                                    <div class="d-flex-cen">
                                                    <input type="radio" name="Subtask" class="subtask-radio"
                                                    (click)="OnSubtaskClick(item)"
                                                    *ngIf="item.SubProject_Status!='Under Approval'"
                                                    [hidden]="item.Team_Res!=Current_user_ID && isHierarchy==false" />
                                                    <a class="d-flex justify-content-between collapsed lapse flex-1" data-toggle="collapse" href="#colp_{{item.IndexId+1}}" role="button" aria-expanded="false" aria-controls="">
                                                        <div class="d-flex-cen">
                                                            <div class="subtask-list-title text-hover-primary 
                                                                fs-5 mb-0 flex-hdv">
                                                                <span class="mr-2" id="InprocessProjName_{{item.id}}"
                                                                    data-toggle="tooltip" title="{{item.Project_Name }}" (click)="toggleExpand()">
                                                                    {{item.Project_Name |  truncate: isExpanded ?  9999 : 100}}</span>
                                                                <!-- [hidden]="item.Project_Owner!=CurrentUser_ID" -->
                                                                <span class="text-info hidev edtv" [hidden]="Editbutton"
                                                                    id="EidtBtn_{{item.id}}"
                                                                    (click)="OnEditProject_inprocess(item.id,item.Project_Name)">
                                                                    <i class="fas fa-edit" data-toggle="tooltip" title="edit action name"
                                                                        [hidden]="item.Team_Res!=Current_user_ID && item.Project_Owner!=Current_user_ID && item.Team_Autho!=Current_user_ID && isHierarchy==false"></i>
                                                                </span>
                                                                <span class="kt-inbox__subject" style="display:none;"
                                                                    id="InprocessTextbox_{{item.id}}">
                                                                    <div class="d-flex">
                                                                        <input type="text" class="form-control text-"
                                                                            id="Inprocessfocus_{{item.id}}"
                                                                            [(ngModel)]="_modelProjectName"
                                                                            style="width: 78%;height: 32px;"
                                                                            (keydown.enter)="OnProject_Rename(item.id)">
                                                                        <div class="d-inline-block ml-3" id="button-addon4" style="min-width: 140px;">
                                                                            <button (click)="OnProject_Rename(item.id)"
                                                                                class="btn btn-primary btn btn-sm mr-2">Done</button>
                                                                            <button class=" btn btn-secondary btn btn-sm"
                                                                                (click)="onCancel_inprocess(item.id)">Cancel</button>
                                                                        </div>
                                                                    </div>
                                                                </span>
                                                            </div>

                                                            <span class="mr-2 showv">|</span>
                                                            <div class="">
                                                                <span class="showv mr-2 text-muted">
                                                                    <i class="far fa-calendar-alt mr-1"></i>
                                                                    {{item.SubProject_DeadLine |date:'dd-MM-yyyy'}}
                                                                </span>
                                                            </div>

                                                            <span class="mr-2 showv">|</span>
                                                            <div class="d-flex-cen showv">
                                                                <span class="detail-icn mr-1  d-none">
                                                                    <svg xmlns="http://www.w3.org/2000/svg"
                                                                        width="14" height="14" fill="currentColor"
                                                                        class="bi bi-star" viewBox="0 0 16 16">
                                                                        <path
                                                                            d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z" />
                                                                    </svg>
                                                                </span>
                                                                <div>
                                                                    <h5 data-toggle="tooltip" class=" "
                                                                        *ngIf="item.SubProject_Status!='Delay'"
                                                                        [ngClass]="{
                                                                'text-success':item.SubProject_Status=='Completed',
                                                                'text-warning':item.SubProject_Status=='InProcess' || item.SubProject_Status=='Forward Under Approval',
                                                                'text-primary':item.SubProject_Status=='Under Approval',
                                                                'text-info':item.SubProject_Status=='Completion Under Approval',
                                                                'text-Rejected':item.SubProject_Status=='New Project Rejected',
                                                                'text-underApproval':item.SubProject_Status=='Enactive Under Approval',
                                                                
                                                                'text-underApp':item.SubProject_Status=='New Project',
                                                                'text-completed':item.SubProject_Status=='Completion Under Approval',
                                                                'text-completeRejected':item.SubProject_Status=='Project Complete Rejected',
                                                                'text-Todo':item.SubProject_Status=='ToDo Completed'}"
                                                                        data-toggle="tooltip"
                                                                        title="Action Status!">
                                                                        {{item.SubProject_Status}} </h5>

                                                                    <h5 data-toggle="tooltip"
                                                                        class=" text-danger"
                                                                        data-toggle="tooltip"
                                                                        title="Action Status!"
                                                                        *ngIf="item.SubProject_Status=='Delay'">
                                                                        {{item.SubProject_Status}}
                                                                        {{item.Delaydays}} days</h5>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        
                                                        <div class="d-flex-cen">

                                                            <div class="d-flex-cen mr-2 showv">                                                                
                                                                <div class="initial-box color-7 b-50 mr-2">
                                                                    <i class="far fa-user"></i>
                                                                    <!-- <span class="line-1">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-person" viewBox="1 0 14 14">
                                                                            <path
                                                                                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z">
                                                                            </path>
                                                                        </svg>
                                                                    </span> -->
                                                                </div>
                                                                <h5 class="" data-toggle="tooltip" title="Action Responsible!">{{item.Subtask_Res}}</h5>                                                                
                                                            </div>
                                                            <a class="text-info swap-view"> View details </a>
                                                            <a class="text-info swap-less"> Less details </a>                                                            
                                                        </div>
                                                    </a>
                                                </div>
                                                    <div class="card-body pt-0 collapse p1 " id="colp_{{item.IndexId+1}}">
                                                        
                                                        <p [ngClass]="(item.Team_Res==Current_user_ID || item.Project_Owner==Current_user_ID || item.Team_Autho==Current_user_ID || isHierarchy==true) ? 'mb-3 ml-4' : 'mb-3 ml--2'">
                                                            <span class="mr-2" id="Inprocess_DescName_{{item.id}}"
                                                                data-toggle="tooltip" title="Action Description!">
                                                                {{item.Project_Description}}</span>
                                                            <span class="text-info" [hidden]="Editbutton"
                                                                (click)="OnEditProject_Desc_inprocess(item.id,item.Project_Description)">
                                                                <i class="fas fa-edit" data-toggle="tooltip" title="edit action description"
                                                                    [hidden]="item.Team_Res!=Current_user_ID && item.Project_Owner!=Current_user_ID && item.Team_Autho!=Current_user_ID && isHierarchy==false"></i>
                                                            </span>
                                                            <span class="kt-inbox__subject" style="display:none;"
                                                                id="InprocessTextarea_{{item.id}}">
                                                                <div class="d-flex">
                                                                    <input type="text" class="form-control"
                                                                        id="Inprocessareafocus_{{item.id}}"
                                                                        [(ngModel)]="_modelProjDesc"
                                                                        style="width: 78%;height: 32px;"
                                                                        (keydown.enter)="OnProject_Rename(item.id)">
                                                                    <div class="d-inline-block ml-3" id="button-addon4" style="min-width: 140px;">
                                                                        <button (click)="OnProject_Rename(item.id)"
                                                                            class="btn btn-primary btn btn-sm mr-2">Done</button>
                                                                        <button class=" btn btn-secondary btn btn-sm"
                                                                            (click)="onCancel_inprocess(item.id)">Cancel</button>
                                                                    </div>
                                                                </div>
                                                            </span>
                                                        </p>
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-person" viewBox="1 0 14 14">
                                                                            <path
                                                                                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z">
                                                                            </path>
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Owner</h6>
                                                                        <h5 class="" data-toggle="tooltip"
                                                                            title="Action Owner!">{{item.Subtask_Owner}}
                                                                            <span type="button" id="-icn" class="text-info" *ngIf="(Current_user_ID==item.Project_Owner || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true)"
                                                                                aria-haspopup="true" aria-expanded="false" (click)="onEditActionOwner(item.id,item.Project_Name,i+1,item.Project_Code)">
                                                                                <i data-toggle="tooltip" title="edit action owner"
                                                                                class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                                                            </span>
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-person" viewBox="1 0 14 14">
                                                                            <path
                                                                                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z">
                                                                            </path>
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Responsible</h6>
                                                                        <h5 class="" data-toggle="tooltip"
                                                                            title="Action Responsible!">
                                                                            {{item.Subtask_Res}}
                                                                            <span type="button" id="-icn" class="text-info" *ngIf="(Current_user_ID==item.Team_Res || Current_user_ID==item.Project_Owner || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true) && item.SubProject_Status!='Completed' && item.SubProject_Status!='Forward Under Approval'"
                                                                                aria-haspopup="true" aria-expanded="false" (click)="onEditActionResponsible(item.id,item.Project_Name,i+1,item.Project_Code)">
                                                                                <i data-toggle="tooltip" title="edit action responsible"
                                                                                class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                                                            </span>
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="14" height="14" fill="currentColor"
                                                                            class="bi bi-star" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Status</h6>
                                                                        <div>
                                                                            <h5 data-toggle="tooltip" class=" "
                                                                                *ngIf="item.SubProject_Status!='Delay'"
                                                                                [ngClass]="{
                                                                        'text-success':item.SubProject_Status=='Completed',
                                                                        'text-warning':item.SubProject_Status=='InProcess' || item.SubProject_Status=='Forward Under Approval',
                                                                        'text-primary':item.SubProject_Status=='Under Approval',
                                                                        'text-info':item.SubProject_Status=='Completion Under Approval',
                                                                        'text-Rejected':item.SubProject_Status=='New Project Rejected',
                                                                        'text-underApproval':item.SubProject_Status=='Enactive Under Approval',
                                                                        
                                                                        'text-underApp':item.SubProject_Status=='New Project',
                                                                        'text-completed':item.SubProject_Status=='Completion Under Approval',
                                                                        'text-completeRejected':item.SubProject_Status=='Project Complete Rejected',
                                                                        'text-Todo':item.SubProject_Status=='ToDo Completed'}"
                                                                                data-toggle="tooltip"
                                                                                title="Action Status!">
                                                                                {{item.SubProject_Status}} </h5>

                                                                            <h5 data-toggle="tooltip"
                                                                                class=" text-danger"
                                                                                data-toggle="tooltip"
                                                                                title="Action Status!"
                                                                                *ngIf="item.SubProject_Status=='Delay'">
                                                                                {{item.SubProject_Status}}
                                                                                {{item.Delaydays}} days</h5>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- data-toggle="dropdown"  -->
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-calendar4-week"
                                                                            viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v1h14V3a1 1 0 0 0-1-1H2zm13 3H1v9a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V5z" />
                                                                            <path
                                                                                d="M11 7.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-2 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Action Duration</h6>
                                                                        <div class="mb-0 d-flex align-items-center">
                                                                            <h5 class="" data-toggle="tooltip"
                                                                                title="Start Date!">{{item.StartDate
                                                                                |date:'dd-MM-yyyy'}}</h5>
                                                                            <div class="dropdown show"
                                                                                *ngIf="(item.StartDate >= EndDate1) && (Current_user_ID=='2000' || Current_user_ID=='2000' || Current_user_ID==item.Team_Res || Current_user_ID==item.Project_Owner || Current_user_ID==item.Team_Autho)">
                                                                                <span type="button" id="start-icn"
                                                                                    (click)="onEditStartDate(item.id,item.Project_Name,i+1,item.Project_Code,item.StartDate)"
                                                                                    aria-haspopup="true"
                                                                                    aria-expanded="true"
                                                                                    class="dropdown-toggle no-after text-info">
                                                                                    <i data-toggle="tooltip"
                                                                                        title="edit action start date"
                                                                                        class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                                                                </span>
                                                                            </div>
                                                                            <h5>/</h5>
                                                                            <h5 class="" data-toggle="tooltip"
                                                                                title="End Date!">
                                                                                {{item.SubProject_DeadLine
                                                                                |date:'dd-MM-yyyy'}}</h5>

                                                                            <div class="dropdown show"
                                                                                *ngIf="(Current_user_ID=='2000' || Current_user_ID==item.Team_Res || Current_user_ID==item.Project_Owner || Current_user_ID==item.Team_Autho)">
                                                                                <span type="button" id="end-icn"
                                                                                    aria-haspopup="true"
                                                                                    (click)="onEditEndDate(item.id,item.Project_Name,i+1,item.Project_Code,item.SubProject_DeadLine)"
                                                                                    aria-expanded="true"
                                                                                    class="dropdown-toggle no-after text-info">
                                                                                    <i data-toggle="tooltip"
                                                                                        title="edit action end date"
                                                                                        class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="18" height="18" fill="currentColor"
                                                                            class="bi bi-clock" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z" />
                                                                            <path
                                                                                d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Allocated</h6>
                                                                        <div class="mb-0 d-flex align-items-center">
                                                                            
                                                                            <h5 class="" data-toggle="tooltip"
                                                                            title="Action Cost!">
                                                                            {{item.SubtaskAllocated}} Hrs</h5>

                                                                            <div class="dropdown show"
                                                                                *ngIf="item.SubtaskAllocated == 0 && (Current_user_ID=='2000' || Current_user_ID==item.Team_Res || Current_user_ID==item.Project_Owner || Current_user_ID==item.Team_Autho)">
                                                                                <span type="button" id="alloc-icn"
                                                                                    (click)="OnEditProject_Alloc(item.id,item.Project_Name,i+1,item.Project_Code,item.SubtaskDuration)"
                                                                                    aria-haspopup="true"
                                                                                    aria-expanded="true"
                                                                                    class="dropdown-toggle no-after text-info">
                                                                                    <i data-toggle="tooltip"
                                                                                        title="edit action duration"
                                                                                        class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="14" height="14" fill="currentColor"
                                                                            class="bi bi-wallet" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M0 3a2 2 0 0 1 2-2h13.5a.5.5 0 0 1 0 1H15v2a1 1 0 0 1 1 1v8.5a1.5 1.5 0 0 1-1.5 1.5h-12A2.5 2.5 0 0 1 0 12.5V3zm1 1.732V12.5A1.5 1.5 0 0 0 2.5 14h12a.5.5 0 0 0 .5-.5V5H2a1.99 1.99 0 0 1-1-.268zM1 3a1 1 0 0 0 1 1h12V2H2a1 1 0 0 0-1 1z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Cost</h6>
                                                                        <h5 *ngIf="item.Project_Cost"  class="" data-toggle="tooltip"
                                                                            title="Action Cost!">
                                                                            {{item.Project_Cost|currency:'SAR '}}
                                                                        </h5>
                                                                        <h5 *ngIf="!item.Project_Cost" class="" data-toggle="tooltip"
                                                                            title="Action Cost!">
                                                                            SAR 0.0     
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <!-- data-toggle="dropdown"  -->
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-hourglass" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M2 1.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1-.5-.5zm2.5.5v1a3.5 3.5 0 0 0 1.989 3.158c.533.256 1.011.791 1.011 1.491v.702c0 .7-.478 1.235-1.011 1.491A3.5 3.5 0 0 0 4.5 13v1h7v-1a3.5 3.5 0 0 0-1.989-3.158C8.978 9.586 8.5 9.052 8.5 8.351v-.702c0-.7.478-1.235 1.011-1.491A3.5 3.5 0 0 0 11.5 3V2h-7z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Duration</h6>
                                                                        <h5 *ngIf="ProjectBlockName!='Standard Tasks' && ProjectBlockName!='Routine Tasks'"
                                                                            class="">
                                                                            {{item.SubtaskDuration}} days</h5>
                                                                        <h5 *ngIf="ProjectBlockName=='Standard Tasks' || ProjectBlockName=='Routine Tasks'"
                                                                            class="">
                                                                            Continuous</h5>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-percent" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M13.442 2.558a.625.625 0 0 1 0 .884l-10 10a.625.625 0 1 1-.884-.884l10-10a.625.625 0 0 1 .884 0zM4.5 6a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zm7 6a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Percentage</h6>
                                                                        <h5 class="">{{(item.SubtaskAllocated /
                                                                            totalSubtaskHours) | percent:'.1-2'}}</h5>
                                                                        <h5 class="" *ngIf="totalSubtaskHours == 0"> 0%
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4" *ngIf="item.Remarks && item.Remarks!='undefined'">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-card-text" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z" />
                                                                            <path
                                                                                d="M3 5.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 8zm0 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Remarks</h6>
                                                                        <h5 class="" data-toggle="tooltip"
                                                                            title="Action Remarks!">{{item.Remarks}}
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-4" *ngIf="item.Sourcefile">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-paperclip" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0V3z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Reference attachment</h6>
                                                                        <a class="word-break text-info curser-pointer"
                                                                            title="Click To Open File"
                                                                            (click)="LoadDocument(item.IsCloud,item.Project_Code,item.Team_Res,item.CompleteProofDoc)">
                                                                            <b>{{item.Sourcefile}}</b></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="tasks_3" role="tabpanel"
                                aria-labelledby="tasks-1">
                                <div class="tasks_views rbn-bx">
                                    <div class="text-right action-btn">
                                        <!-- <button class="btn22 btn btn-label-primary btn-pill btn-sm mr-2" (click)="btmspace_opn()">Edit Tab</button> -->
                                        <!-- (click)="OnAddTaskClick()" -->
                                        <!-- <a title="Collapse all" class="text-muted text-hover-info mr-3" id="hidepro"
                                            data-toggle="collapse" href=".show.p1" role="button" aria-expanded="false" aria-controls="">
                                            <i class="far fa-minus-square mr-2"></i>Collapse All
                                        </a> -->
                                        
                                        <!-- <a title="Collapse all" class="text-muted text-hover-info mr-3 d-none" (click)="showpro()" id="showpro"
                                            data-toggle="collapse" href=".collapsed .p1" role="button" aria-expanded="false" aria-controls="">
                                            <i class="far fa-plus-square mr-2"></i>show All
                                        </a> -->

                                        <button
                                            *ngIf="(delaycount!=0) && ((Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo ||  Current_user_ID == Coor_EmpNo || Current_user_ID == Inform_EmpNo || supp==true || isHierarchy==true))"
                                            (click)="sweetAlert()" [hidden]="actionButton" title="Create New Action"
                                            class="btn22 btn btn-label-primary btn-pill btn-sm btn-bold mr-1"><i
                                                class="fas fa-plus mr-2"></i>New Action</button>

                                        <!-- (click)="OnAddTaskClick()" -->
                                        <!-- <button
                                            *ngIf="(inProcessCount==0 && completedCount==0) && ((Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo ||  Current_user_ID == Coor_EmpNo || Current_user_ID == Inform_EmpNo || supp==true || isHierarchy==true))"
                                            (click)="sweetAlert()" [hidden]="actionButton" title="Create New Action"
                                            class="btn22 btn btn-label-primary btn-pill btn-sm btn-bold mr-1"><i
                                                class="fas fa-plus mr-2"></i>New Action</button> -->
                                    </div>
                                    <div class=" ribbon-box my-3" *ngIf="Delay_List">
                                        <!-- <div class="ribbon-info ribbon float-start" *ngIf="inProcessCount!=0"
                                            data-toggle="tooltip" title="InProcess Actions!">
                                            Inprocess</div> -->
                                            <div class="srch-actns mb-3" *ngIf="delaycount!=0" (click)="notinAction()">
                                                <input class="form-control" placeholder="search..." />
                                                <span class="srch-icon">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
                                                    </svg>
                                                </span>
                                            </div>

                                        <div class="ribbon-content scrollbar1" *ngIf="delaycount!=0">
                                            <div class="subtask-list" *ngFor="let item of Delay_List;let i =index"
                                                [ngClass]="{'bg-custom': (item.Team_Res==Current_user_ID || isHierarchy==true)}">
                                                <div class="lbl-act ml-2">
                                                    <label
                                                        class=" kt-badge kt-hover--primary kt-bg-light-primary kt-badge--inline">
                                                        <i class="fa fa-window-restore mr-2"></i>Action {{item.IndexId}}
                                                    </label>
                                                </div>

                                                <div class="col-lg-12">
                                                    <div class="d-flex-cen">
                                                    <input type="radio" name="Subtask" class="subtask-radio"
                                                    (click)="OnSubtaskClick(item)"
                                                    *ngIf="item.SubProject_Status!='Under Approval'"
                                                    [hidden]="item.Team_Res!=Current_user_ID && isHierarchy==false" />
                                                    <a class="d-flex justify-content-between collapsed lapse flex-1" data-toggle="collapse" href="#colp_{{item.IndexId+1}}" role="button" aria-expanded="false" aria-controls="">
                                                        <div class="d-flex-cen">
                                                            <div class="subtask-list-title text-hover-primary 
                                                                fs-5 mb-0 flex-hdv">
                                                                <span class="mr-2" id="DelayProjName_{{item.id}}"
                                                                    data-toggle="tooltip" title="{{item.Project_Name }}" (click)="toggleExpand()">
                                                                    {{item.Project_Name |  truncate: isExpanded ?  9999 : 100}}</span>
                                                                <!-- [hidden]="item.Project_Owner!=CurrentUser_ID" -->
                                                                <span class="text-info hidev edtv" [hidden]="Editbutton"
                                                                    id="EidtBtn_{{item.id}}"
                                                                    (click)="OnEditProject_delay(item.id,item.Project_Name)">
                                                                    <i class="fas fa-edit" data-toggle="tooltip" title="edit action name"
                                                                        [hidden]="item.Team_Res!=Current_user_ID && item.Project_Owner!=Current_user_ID && item.Team_Autho!=Current_user_ID && isHierarchy==false"></i>
                                                                </span>
                                                                <span class="kt-inbox__subject" style="display:none;"
                                                                    id="DelayTextbox_{{item.id}}">
                                                                    <div class="d-flex">
                                                                        <input type="text" class="form-control text-"
                                                                            id="Delayboxfocus_{{item.id}}"
                                                                            [(ngModel)]="_modelProjectName"
                                                                            style="width: 78%;height: 32px;"
                                                                            (keydown.enter)="OnProject_Rename(item.id)">
                                                                        <div class="d-inline-block ml-3" id="button-addon4" style="min-width: 140px;">
                                                                            <button (click)="OnProject_Rename(item.id)"
                                                                                class="btn btn-primary btn btn-sm mr-2">Done</button>
                                                                            <button class=" btn btn-secondary btn btn-sm"
                                                                                (click)="onCancel_delay(item.id)">Cancel</button>
                                                                        </div>
                                                                    </div>
                                                                </span>
                                                            </div>

                                                            <span class="mr-2 showv">|</span>
                                                            <div class="">
                                                                <span class="showv mr-2 text-muted">
                                                                    <i class="far fa-calendar-alt mr-1"></i>
                                                                    {{item.SubProject_DeadLine |date:'dd-MM-yyyy'}}
                                                                </span>
                                                            </div>

                                                            <span class="mr-2 showv">|</span>
                                                            <div class="d-flex-cen showv">
                                                                <span class="detail-icn mr-1  d-none">
                                                                    <svg xmlns="http://www.w3.org/2000/svg"
                                                                        width="14" height="14" fill="currentColor"
                                                                        class="bi bi-star" viewBox="0 0 16 16">
                                                                        <path
                                                                            d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z" />
                                                                    </svg>
                                                                </span>
                                                                <div>
                                                                    <h5 data-toggle="tooltip" class=" "
                                                                        *ngIf="item.SubProject_Status!='Delay'"
                                                                        [ngClass]="{
                                                                'text-success':item.SubProject_Status=='Completed',
                                                                'text-warning':item.SubProject_Status=='InProcess' || item.SubProject_Status=='Forward Under Approval',
                                                                'text-primary':item.SubProject_Status=='Under Approval',
                                                                'text-info':item.SubProject_Status=='Completion Under Approval',
                                                                'text-Rejected':item.SubProject_Status=='New Project Rejected',
                                                                'text-underApproval':item.SubProject_Status=='Enactive Under Approval',
                                                                
                                                                'text-underApp':item.SubProject_Status=='New Project',
                                                                'text-completed':item.SubProject_Status=='Completion Under Approval',
                                                                'text-completeRejected':item.SubProject_Status=='Project Complete Rejected',
                                                                'text-Todo':item.SubProject_Status=='ToDo Completed'}"
                                                                        data-toggle="tooltip"
                                                                        title="Action Status!">
                                                                        {{item.SubProject_Status}} </h5>

                                                                    <h5 data-toggle="tooltip"
                                                                        class=" text-danger"
                                                                        data-toggle="tooltip"
                                                                        title="Action Status!"
                                                                        *ngIf="item.SubProject_Status=='Delay'">
                                                                        {{item.SubProject_Status}}
                                                                        {{item.Delaydays}} days</h5>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        
                                                        <div class="d-flex-cen">

                                                            <div class="d-flex-cen mr-2 showv">                                                                
                                                                <div class="initial-box color-7 b-50 mr-2">
                                                                    <i class="far fa-user"></i>
                                                                    <!-- <span class="line-1">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-person" viewBox="1 0 14 14">
                                                                            <path
                                                                                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z">
                                                                            </path>
                                                                        </svg>
                                                                    </span> -->
                                                                </div>
                                                                <h5 class="" data-toggle="tooltip" title="Action Responsible!">{{item.Subtask_Res}}</h5>                                                                
                                                            </div>
                                                            <a class="text-info swap-view"> View details </a>
                                                            <a class="text-info swap-less"> Less details </a>                                                            
                                                        </div>
                                                    </a>
                                                </div>
                                                    <div class="card-body pt-0 collapse p1 " id="colp_{{item.IndexId+1}}">
                                                        
                                                        <p [ngClass]="(item.Team_Res==Current_user_ID || item.Project_Owner==Current_user_ID || item.Team_Autho==Current_user_ID || isHierarchy==true) ? 'mb-3 ml-4' : 'mb-3 ml--2'">
                                                            <span class="mr-2" id="Delay_DescName_{{item.id}}"
                                                                data-toggle="tooltip" title="Action Description!">
                                                                {{item.Project_Description}}</span>
                                                            <span class="text-info" [hidden]="Editbutton"
                                                                (click)="OnEditProject_Desc_delay(item.id,item.Project_Description)">
                                                                <i class="fas fa-edit" data-toggle="tooltip" title="edit action description"
                                                                    [hidden]="item.Team_Res!=Current_user_ID && item.Project_Owner!=Current_user_ID && item.Team_Autho!=Current_user_ID && isHierarchy==false"></i>
                                                            </span>
                                                            <span class="kt-inbox__subject" style="display:none;"
                                                                id="DelayTextarea_{{item.id}}">
                                                                <div class="d-flex">
                                                                    <input type="text" class="form-control"
                                                                        id="Delayareafocus_{{item.id}}"
                                                                        [(ngModel)]="_modelProjDesc"
                                                                        style="width: 78%;height: 32px;"
                                                                        (keydown.enter)="OnProject_Rename(item.id)">
                                                                    <div class="d-inline-block ml-3" id="button-addon4" style="min-width: 140px;">
                                                                        <button (click)="OnProject_Rename(item.id)"
                                                                            class="btn btn-primary btn btn-sm mr-2">Done</button>
                                                                        <button class=" btn btn-secondary btn btn-sm"
                                                                            (click)="onCancel_delay(item.id)">Cancel</button>
                                                                    </div>
                                                                </div>
                                                            </span>
                                                        </p>
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-person" viewBox="1 0 14 14">
                                                                            <path
                                                                                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z">
                                                                            </path>
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Owner</h6>
                                                                        <h5 class="" data-toggle="tooltip"
                                                                            title="Action Owner!">{{item.Subtask_Owner}}
                                                                            <span type="button" id="-icn" class="text-info" *ngIf="(Current_user_ID==item.Project_Owner || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true)"
                                                                                aria-haspopup="true" aria-expanded="false" (click)="onEditActionOwner(item.id,item.Project_Name,i+1,item.Project_Code)">
                                                                                <i data-toggle="tooltip" title="edit action owner"
                                                                                class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                                                            </span>
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-person" viewBox="1 0 14 14">
                                                                            <path
                                                                                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z">
                                                                            </path>
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Responsible</h6>
                                                                        <h5 class="" data-toggle="tooltip"
                                                                            title="Action Responsible!">
                                                                            {{item.Subtask_Res}}
                                                                            <span type="button" id="-icn" class="text-info" *ngIf="(Current_user_ID==item.Team_Res || Current_user_ID==item.Project_Owner || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo || isHierarchy==true) && item.SubProject_Status!='Completed' && item.SubProject_Status!='Forward Under Approval'"
                                                                                aria-haspopup="true" aria-expanded="false" (click)="onEditActionResponsible(item.id,item.Project_Name,i+1,item.Project_Code)">
                                                                                <i data-toggle="tooltip" title="edit action responsible"
                                                                                class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                                                            </span>
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="14" height="14" fill="currentColor"
                                                                            class="bi bi-star" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Status</h6>
                                                                        <div>
                                                                            <h5 data-toggle="tooltip" class=" "
                                                                                *ngIf="item.SubProject_Status!='Delay'"
                                                                                [ngClass]="{
                                                                        'text-success':item.SubProject_Status=='Completed',
                                                                        'text-warning':item.SubProject_Status=='InProcess' || item.SubProject_Status=='Forward Under Approval',
                                                                        'text-primary':item.SubProject_Status=='Under Approval',
                                                                        'text-info':item.SubProject_Status=='Completion Under Approval',
                                                                        'text-Rejected':item.SubProject_Status=='New Project Rejected',
                                                                        'text-underApproval':item.SubProject_Status=='Enactive Under Approval',
                                                                        
                                                                        'text-underApp':item.SubProject_Status=='New Project',
                                                                        'text-completed':item.SubProject_Status=='Completion Under Approval',
                                                                        'text-completeRejected':item.SubProject_Status=='Project Complete Rejected',
                                                                        'text-Todo':item.SubProject_Status=='ToDo Completed'}"
                                                                                data-toggle="tooltip"
                                                                                title="Action Status!">
                                                                                {{item.SubProject_Status}} </h5>

                                                                            <h5 data-toggle="tooltip"
                                                                                class=" text-danger"
                                                                                data-toggle="tooltip"
                                                                                title="Action Status!"
                                                                                *ngIf="item.SubProject_Status=='Delay'">
                                                                                {{item.SubProject_Status}}
                                                                                {{item.Delaydays}} days</h5>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- data-toggle="dropdown"  -->
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-calendar4-week"
                                                                            viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v1h14V3a1 1 0 0 0-1-1H2zm13 3H1v9a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V5z" />
                                                                            <path
                                                                                d="M11 7.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-2 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Action Duration</h6>
                                                                        <div class="mb-0 d-flex align-items-center">
                                                                            <h5 class="" data-toggle="tooltip"
                                                                                title="Start Date!">{{item.StartDate
                                                                                |date:'dd-MM-yyyy'}}</h5>
                                                                            <div class="dropdown show"
                                                                                *ngIf="(item.StartDate >= EndDate1) && (Current_user_ID=='2000' || Current_user_ID=='2000' || Current_user_ID==item.Team_Res || Current_user_ID==item.Project_Owner || Current_user_ID==item.Team_Autho)">
                                                                                <span type="button" id="start-icn"
                                                                                    (click)="onEditStartDate(item.id,item.Project_Name,i+1,item.Project_Code,item.StartDate)"
                                                                                    aria-haspopup="true"
                                                                                    aria-expanded="true"
                                                                                    class="dropdown-toggle no-after text-info">
                                                                                    <i data-toggle="tooltip"
                                                                                        title="edit action start date"
                                                                                        class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                                                                </span>
                                                                            </div>
                                                                            <h5>/</h5>
                                                                            <h5 class="" data-toggle="tooltip"
                                                                                title="End Date!">
                                                                                {{item.SubProject_DeadLine
                                                                                |date:'dd-MM-yyyy'}}</h5>

                                                                            <div class="dropdown show"
                                                                                *ngIf="(Current_user_ID=='2000' || Current_user_ID==item.Team_Res || Current_user_ID==item.Project_Owner || Current_user_ID==item.Team_Autho)">
                                                                                <span type="button" id="end-icn"
                                                                                    aria-haspopup="true"
                                                                                    (click)="onEditEndDate(item.id,item.Project_Name,i+1,item.Project_Code,item.SubProject_DeadLine)"
                                                                                    aria-expanded="true"
                                                                                    class="dropdown-toggle no-after text-info">
                                                                                    <i data-toggle="tooltip"
                                                                                        title="edit action end date"
                                                                                        class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="18" height="18" fill="currentColor"
                                                                            class="bi bi-clock" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z" />
                                                                            <path
                                                                                d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Allocated</h6>
                                                                        <div class="mb-0 d-flex align-items-center">
                                                                            
                                                                            <h5 class="" data-toggle="tooltip"
                                                                            title="Action Cost!">
                                                                            {{item.SubtaskAllocated}} Hrs</h5>

                                                                            <div class="dropdown show"
                                                                                *ngIf="item.SubtaskAllocated == 0 && (Current_user_ID=='2000' || Current_user_ID==item.Team_Res || Current_user_ID==item.Project_Owner || Current_user_ID==item.Team_Autho)">
                                                                                <span type="button" id="alloc-icn"
                                                                                    (click)="OnEditProject_Alloc(item.id,item.Project_Name,i+1,item.Project_Code,item.SubtaskDuration)"
                                                                                    aria-haspopup="true"
                                                                                    aria-expanded="true"
                                                                                    class="dropdown-toggle no-after text-info">
                                                                                    <i data-toggle="tooltip"
                                                                                        title="edit action duration"
                                                                                        class="fas fa-edit ml-1 mb-1 curser-pointer"></i>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="14" height="14" fill="currentColor"
                                                                            class="bi bi-wallet" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M0 3a2 2 0 0 1 2-2h13.5a.5.5 0 0 1 0 1H15v2a1 1 0 0 1 1 1v8.5a1.5 1.5 0 0 1-1.5 1.5h-12A2.5 2.5 0 0 1 0 12.5V3zm1 1.732V12.5A1.5 1.5 0 0 0 2.5 14h12a.5.5 0 0 0 .5-.5V5H2a1.99 1.99 0 0 1-1-.268zM1 3a1 1 0 0 0 1 1h12V2H2a1 1 0 0 0-1 1z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Cost</h6>
                                                                        <h5 *ngIf="item.Project_Cost"  class="" data-toggle="tooltip"
                                                                            title="Action Cost!">
                                                                            {{item.Project_Cost|currency:'SAR '}}</h5>
                                                                        <h5 *ngIf="!item.Project_Cost" class="" data-toggle="tooltip"
                                                                        title="Action Cost!">
                                                                        SAR 0.0</h5>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <!-- data-toggle="dropdown"  -->
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-hourglass" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M2 1.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1-.5-.5zm2.5.5v1a3.5 3.5 0 0 0 1.989 3.158c.533.256 1.011.791 1.011 1.491v.702c0 .7-.478 1.235-1.011 1.491A3.5 3.5 0 0 0 4.5 13v1h7v-1a3.5 3.5 0 0 0-1.989-3.158C8.978 9.586 8.5 9.052 8.5 8.351v-.702c0-.7.478-1.235 1.011-1.491A3.5 3.5 0 0 0 11.5 3V2h-7z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Duration</h6>
                                                                        <h5 *ngIf="ProjectBlockName!='Standard Tasks' && ProjectBlockName!='Routine Tasks'"
                                                                            class="">
                                                                            {{item.SubtaskDuration}} days</h5>
                                                                        <h5 *ngIf="ProjectBlockName=='Standard Tasks' || ProjectBlockName=='Routine Tasks'"
                                                                            class="">
                                                                            Continuous</h5>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-percent" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M13.442 2.558a.625.625 0 0 1 0 .884l-10 10a.625.625 0 1 1-.884-.884l10-10a.625.625 0 0 1 .884 0zM4.5 6a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zm7 6a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Percentage</h6>
                                                                        <h5 class="">{{(item.SubtaskAllocated /
                                                                            totalSubtaskHours) | percent:'.1-2'}}</h5>
                                                                        <h5 class="" *ngIf="totalSubtaskHours == 0"> 0%
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4" *ngIf="item.Remarks && item.Remarks!='undefined'">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-card-text" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z" />
                                                                            <path
                                                                                d="M3 5.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 8zm0 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Remarks</h6>
                                                                        <h5 class="" data-toggle="tooltip"
                                                                            title="Action Remarks!">{{item.Remarks}}
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-4" *ngIf="item.Sourcefile">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-paperclip" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0V3z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Reference attachment</h6>
                                                                        <a class="word-break text-info curser-pointer"
                                                                            title="Click To Open File"
                                                                            (click)="LoadDocument(item.IsCloud,item.Project_Code,item.Team_Res,item.CompleteProofDoc)">
                                                                            <b>{{item.Sourcefile}}</b></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="tasks_4" role="tabpanel"
                                aria-labelledby="tasks-1">
                                <div class="tasks_views rbn-bx">
                                    <div class="text-right action-btn">
                                        <!-- <button class="btn22 btn btn-label-primary btn-pill btn-sm mr-2" (click)="btmspace_opn()">Edit Tab</button> -->
                                        <!-- (click)="OnAddTaskClick()" [ngClass]="inProcessCount!=0 ? 'tab-pane fade' : 'tab-pane fade show active'" -->
                                        <!-- <a title="Collapse all" class="text-muted text-hover-info mr-3" id="hidecc"
                                            data-toggle="collapse" href=".show.c1" role="button" aria-expanded="false" aria-controls="">
                                            <i class="far fa-minus-square mr-2"></i>Collapse All
                                        </a> -->

                                        <!-- <a title="Collapse all" class="text-muted text-hover-info mr-3" (click)="showcc()" id="showcc"
                                            data-toggle="collapse" href=".collapsed .c1" role="button" aria-expanded="false" aria-controls="">
                                            <i class="far fa-minus-square mr-2"></i>show All
                                        </a> -->

                                        <button
                                            *ngIf="(completedCount!=0) && ((Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo ||  Current_user_ID == Coor_EmpNo || Current_user_ID == Inform_EmpNo || supp==true || isHierarchy==true))"
                                            (click)="sweetAlert()" [hidden]="actionButton" title="Create New Action"
                                            class="btn22 btn btn-label-primary btn-pill btn-sm btn-bold mr-1"><i
                                                class="fas fa-plus mr-2"></i>New Action</button>

                                        <!-- (click)="OnAddTaskClick()" -->
                                        <!-- <button
                                            *ngIf="(inProcessCount==0 && completedCount==0) && ((Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo ||  Current_user_ID == Coor_EmpNo || Current_user_ID == Inform_EmpNo || supp==true || isHierarchy==true))"
                                            (click)="sweetAlert()" [hidden]="actionButton" title="Create New Action"
                                            class="btn22 btn btn-label-primary btn-pill btn-sm btn-bold mr-1"><i
                                                class="fas fa-plus mr-2"></i>New Action</button> -->
                                    </div>
                                    
                                    <div class=" ribbon-box my-3" *ngIf="CompletedList">
                                        <!-- <div class="ribbon-success  ribbon float-start" *ngIf="completedCount!=0"
                                            data-toggle="tooltip" title="Completed Actions!">
                                            Completed</div> -->
                                            <div class="srch-actns mb-3"  *ngIf="completedCount!=0" (click)="notinAction()">
                                                <input class="form-control" placeholder="search..." />
                                                <span class="srch-icon">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
                                                    </svg>
                                                </span>
                                            </div>

                                        <div class="ribbon-content scrollbar1" *ngIf="completedCount !=0">
                                            <!-- bg-custom   --- For grey background use (bg-custom) class -->
                                            <div class="subtask-list" *ngFor="let item of CompletedList; let i=index">
                                                <div class="lbl-act ml-2">
                                                    <label
                                                        class=" kt-badge kt-hover--primary kt-bg-light-primary kt-badge--inline">
                                                        <i class="fa fa-window-restore mr-2"></i>Action {{item.IndexId}}
                                                    </label>
                                                </div>
                                                <div class="col-lg-12">
                                                    <a class="d-flex justify-content-between lapse collapsed" data-toggle="collapse" href="#colcc_{{item.IndexId+1}}" role="button" aria-expanded="false" aria-controls="">
                                                                                                                                                                    
                                                        
                                                        <div class="d-flex-cen">
                                                            <div class="subtask-list-title text-hover-primary fs-5 mt-1">

                                                                <span class="mr-2" id="SpanProjName_{{item.id}}"

                                                                data-toggle="tooltip" title="{{item.Project_Name }}" (click)="toggleExpand()">
                                                                {{item.Project_Name |  truncate: isExpanded ?  9999 : 100}}</span>

                                                            </div>

                                                            <span class="mr-2 showv">|</span>
                                                            <div class="">
                                                                <span class="showv mr-2 text-muted">
                                                                    <i class="far fa-calendar-alt mr-1"></i>
                                                                    {{item.SubProject_DeadLine |date:'dd-MM-yyyy'}}
                                                                </span>
                                                            </div>

                                                            <span class="mr-2 showv">|</span>


                                                            <div class="d-flex-cen showv">
                                                                <span class="detail-icn mr-1 d-none">
                                                                    <svg xmlns="http://www.w3.org/2000/svg"
                                                                        width="14" height="14" fill="currentColor"
                                                                        class="bi bi-star" viewBox="0 0 16 16">
                                                                        <path
                                                                            d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z" />
                                                                    </svg>
                                                                </span>
                                                                <div>
                                                                    <h5 data-toggle="tooltip"
                                                                            class=" text-danger"
                                                                            title="11 Days Delay!" [ngClass]="{'text-danger':item.SubProject_Status=='Delay',
                                                            'text-success':item.SubProject_Status=='Completed',
                                                            'text-warning':item.SubProject_Status=='InProcess' || item.SubProject_Status=='Forward Under Approval',
                                                            'text-primary':item.SubProject_Status=='Under Approval',
                                                            'text-info':item.SubProject_Status=='Completion Under Approval',
                                                            'text-Rejected':item.SubProject_Status=='New Project Rejected',
                                                            'text-underApproval':item.SubProject_Status=='Enactive Under Approval',
                                                            
                                                            'text-underApp':item.SubProject_Status=='New Project',
                                                            'text-completed':item.SubProject_Status=='Completion Under Approval',
                                                            'text-completeRejected':item.SubProject_Status=='Project Complete Rejected',
                                                            'text-Todo':item.SubProject_Status=='ToDo Completed'}"
                                                                            data-toggle="tooltip"
                                                                            title="Action Status!">
                                                                            {{item.SubProject_Status}} </h5>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="d-flex-cen ">
                                                            <div class="d-flex-cen mr-2 showv">                                                                
                                                                <div class="initial-box color-7 b-50 mr-2">
                                                                    <i class="far fa-user"></i>
                                                                </div>
                                                                <h5 class="" data-toggle="tooltip" title="Action Responsible!">{{item.Subtask_Res}}</h5>                                                                
                                                            </div>
                                                            
                                                            <a class="text-info swap-view"> View details </a>
                                                            <a class="text-info swap-less"> Less details </a> 
                                                            
                                                        </div>

                                                    </a>
                                                    <div class="card-body pt-0 collapse c1" id="colcc_{{item.IndexId+1}}">
                                                        
                                                        <p class="mb-3 ml--2">
                                                            <span class="mr-2" id="Span_DescName_{{item.id}}"
                                                                data-toggle="tooltip" title="Action Description!">
                                                                {{item.Project_Description}}</span>
                                                        </p>
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-person" viewBox="1 0 14 14">
                                                                            <path
                                                                                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z">
                                                                            </path>
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Owner</h6>
                                                                        <h5 class="" data-toggle="tooltip"
                                                                            title="Action Owner!">{{item.Subtask_Owner}}
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-person" viewBox="1 0 14 14">
                                                                            <path
                                                                                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z">
                                                                            </path>
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Responsible</h6>
                                                                        <h5 class="" data-toggle="tooltip"
                                                                            title="Action Responsible!">
                                                                            {{item.Subtask_Res}}</h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="14" height="14" fill="currentColor"
                                                                            class="bi bi-star" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Status</h6>
                                                                        <div>
                                                                            <h5 data-toggle="tooltip"
                                                                                class=" text-danger"
                                                                                title="11 Days Delay!" [ngClass]="{'text-danger':item.SubProject_Status=='Delay',
                                                                'text-success':item.SubProject_Status=='Completed',
                                                                'text-warning':item.SubProject_Status=='InProcess' || item.SubProject_Status=='Forward Under Approval',
                                                                'text-primary':item.SubProject_Status=='Under Approval',
                                                                'text-info':item.SubProject_Status=='Completion Under Approval',
                                                                'text-Rejected':item.SubProject_Status=='New Project Rejected',
                                                                'text-underApproval':item.SubProject_Status=='Enactive Under Approval',
                                                                
                                                                'text-underApp':item.SubProject_Status=='New Project',
                                                                'text-completed':item.SubProject_Status=='Completion Under Approval',
                                                                'text-completeRejected':item.SubProject_Status=='Project Complete Rejected',
                                                                'text-Todo':item.SubProject_Status=='ToDo Completed'}"
                                                                                data-toggle="tooltip"
                                                                                title="Action Status!">
                                                                                {{item.SubProject_Status}} </h5>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="18" height="18" fill="currentColor"
                                                                            class="bi bi-clock" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z" />
                                                                            <path
                                                                                d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Action Duration</h6>
                                                                        <h5 class="" data-toggle="tooltip"
                                                                            title="Project Duration">{{item.StartDate
                                                                            |date:'dd-MM-yyyy'}}/{{item.SubProject_DeadLine
                                                                            |date:'dd-MM-yyyy'}}</h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="18" height="18" fill="currentColor"
                                                                            class="bi bi-clock" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z" />
                                                                            <path
                                                                                d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Allocated</h6>
                                                                        <h5 class="" data-toggle="tooltip"
                                                                            title="Action Cost!">
                                                                            {{item.SubtaskAllocated}} Hrs</h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="14" height="14" fill="currentColor"
                                                                            class="bi bi-wallet" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M0 3a2 2 0 0 1 2-2h13.5a.5.5 0 0 1 0 1H15v2a1 1 0 0 1 1 1v8.5a1.5 1.5 0 0 1-1.5 1.5h-12A2.5 2.5 0 0 1 0 12.5V3zm1 1.732V12.5A1.5 1.5 0 0 0 2.5 14h12a.5.5 0 0 0 .5-.5V5H2a1.99 1.99 0 0 1-1-.268zM1 3a1 1 0 0 0 1 1h12V2H2a1 1 0 0 0-1 1z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Cost</h6>
                                                                        <h5 *ngIf="item.Project_Cost" class="" data-toggle="tooltip"
                                                                            title="Action Cost!">
                                                                            {{item.Project_Cost|currency:'SAR '}}</h5>
                                                                        <h5 *ngIf="!item.Project_Cost" class="" data-toggle="tooltip"
                                                                        title="Action Cost!">
                                                                        SAR 0.0</h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">

                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-hourglass" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M2 1.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1-.5-.5zm2.5.5v1a3.5 3.5 0 0 0 1.989 3.158c.533.256 1.011.791 1.011 1.491v.702c0 .7-.478 1.235-1.011 1.491A3.5 3.5 0 0 0 4.5 13v1h7v-1a3.5 3.5 0 0 0-1.989-3.158C8.978 9.586 8.5 9.052 8.5 8.351v-.702c0-.7.478-1.235 1.011-1.491A3.5 3.5 0 0 0 11.5 3V2h-7z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Duration</h6>
                                                                        <h5 *ngIf="ProjectBlockName!='Standard Tasks' && ProjectBlockName!='Routine Tasks'"
                                                                            class="">
                                                                            {{item.SubtaskDuration}} days</h5>
                                                                        <h5 *ngIf="ProjectBlockName=='Standard Tasks' || ProjectBlockName=='Routine Tasks'"
                                                                            class="">
                                                                            Continuous</h5>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-4">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-percent" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M13.442 2.558a.625.625 0 0 1 0 .884l-10 10a.625.625 0 1 1-.884-.884l10-10a.625.625 0 0 1 .884 0zM4.5 6a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zm7 6a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Percentage</h6>
                                                                        <h5 class="">{{(item.SubtaskAllocated /
                                                                            totalSubtaskHours) | percent:'.1-2'}}</h5>
                                                                        <h5 class="" *ngIf="totalSubtaskHours == 0"> 0%
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4"  *ngIf="item.Remarks && item.Remarks!='undefined'">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-card-text" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z" />
                                                                            <path
                                                                                d="M3 5.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 8zm0 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Remarks</h6>
                                                                        <h5 class="" data-toggle="tooltip"
                                                                            title="Action Remarks!">{{item.Remarks}}
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-4" *ngIf="item.Sourcefile">
                                                                <div class="d-flex align-items-center detial-item">
                                                                    <span class="detail-icn">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            width="16" height="16" fill="currentColor"
                                                                            class="bi bi-paperclip" viewBox="0 0 16 16">
                                                                            <path
                                                                                d="M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0V3z" />
                                                                        </svg>
                                                                    </span>
                                                                    <div class="w-100">
                                                                        <h6 class="txtm-cus">Complete attachment</h6>
                                                                        <a class="word-break text-info curser-pointer"
                                                                            title="Click To Open File"
                                                                            (click)="LoadDocument(item.IsCloud,item.Project_Code,item.Team_Res,item.CompleteProofDoc)">
                                                                            <b>{{item.Sourcefile}}</b></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane fade" id="charts_1" role="tabpanel" aria-labelledby="charts-1">
                                <!-- Subtask Chart -->

                                <!-- Hours and Percentage -->
                                <div class="row" *ngIf="IsData!=null">
                                    <div class="col-lg-12">
                                        <div
                                            class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid bg-none shadow-none">
                                            <div class="kt-portlet__body px-3">
                                                <h5><strong>Subtask Hour and Percentage</strong></h5>
                                                <!-- <div id="SummaryChart" style="width: 100%; height: 500px">
                                        </div> -->
                                                <!-- <h5><strong>Hybrid Graph</strong></h5>-->
                                                <div id="Hybridchartdiv" style="width: 100%; height: 400px">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Summary Chart -->
                                <div class="row" *ngIf="IsData!=null">
                                    <div class="col-lg-12">
                                        <div
                                            class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid bg-none shadow-none">
                                            <div class="kt-portlet__body px-3">
                                                <h5><strong>Subtask Summary</strong></h5>
                                                <div id="SummaryChart" style="width: 100%; height: 500px">
                                                </div>
                                                <!-- <h5><strong>Hybrid Graph</strong></h5>
                                         -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--new no records-->
                        <div class="">
                            <div class="text-right">
                                <button *ngIf="(subTaskCount==0) && ((Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo ||  Current_user_ID == Coor_EmpNo || Current_user_ID == Inform_EmpNo || supp==true || isHierarchy==true))"
                                            (click)="sweetAlert()" [hidden]="actionButton" title="Create New Action"
                                            class="btn22 btn btn-label-primary btn-pill btn-sm btn-bold mr-1"><i
                                                class="fas fa-plus mr-2"></i>New Action</button>
                            </div>
                            <div *ngIf="subTaskCount!=0; else noResultsFound">
                            </div>
                        </div>

                    </div>
                    <!-- SubTasks Section end-->

                    <!-- Milestones section -->
                    <div class="tab-pane fade" id="Milestones" role="tabpanel" aria-labelledby="Milestones1">
                        <h3 *ngIf="noMilestones == false; else noResultsFound">Milestones</h3>
                        <!-- <h4 *ngIf="noMilestones == true">No Records Found.</h4> -->
                    </div>
                    <!-- Milestones section end-->

                    <!--  DMS Working Area -->

                    <div class="tab-pane fade" id="DMS" role="tabpanel" aria-labelledby="DMS1">
                        <div class="bg-white p-3 mb-2 scrollbar1">
                            <div class="text-right">
                                <button class="btn22 btn btn-label-primary btn-pill btn-sm btn-bold" (click)="AddDms()">
                                    <i class="fa fa-chart-bar"></i>Link DMS</button>
                            </div>

                            <p style="color:gray">{{_MemosNotFound}}</p>
                            <table class="table w-end" *ngIf="_MemosNotFound=='';else noResultsFound">
                                <tbody>
                                    <tr *ngFor="let itemMemos of _MemosSubjectList; let i=index">
                                        <td>
                                            <a href="javascript:void(0)" (click)="openUrl(itemMemos.Url)">
                                                {{itemMemos.Subject}}</a>
                                        </td>
                                        <td class="align-top curser-pointer" (click)="deleteMemos(itemMemos.MailId)">
                                            <i class="fas fa-trash-alt text-primary"></i>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!--  DMS Working Area end-->

                    <!--  Portfolio Working Area -->

                    <div class="tab-pane fade" id="Portfolio" role="tabpanel" aria-labelledby="Portfolio1">
                        <div class="bg-white p-3 mb-2">

                            <div class="text-right">
                                <button type="button" class="btn22 btn btn-label-primary btn-pill btn-sm btn-bold" (click)="AddPortfolio()">
                                    <i class="fa fa-chart-bar"></i>Link Portfolio
                                </button>
                            </div>

                            <!-- <table class="table">
                                <tbody>
                                    <tr *ngFor="let itemMemos of _MemosSubjectList; let i=index">
                                        <td>
                                            <a href="javascript:void(0)" (click)="openUrl(itemMemos.Url)">
                                                {{itemMemos.Subject}}</a>
                                        </td>
                                        <td class="align-top curser-pointer" (click)="deleteMemos(itemMemos.MailId)">
                                            <i class="fas fa-trash-alt text-primary"></i>
                                        </td>
                                    </tr>

                                </tbody>
                                <p style="color:gray">{{_MemosNotFound}}</p>
                            </table> -->

                            <div class="kt-inbox mt-3 scrollbar1">
                                <div class="kt-inbox__list kt-inbox__list--shown ml-0">
                                    <div class="kt-inbox__items flex-grow-1" data-type="inbox">
                                        <div class="card mb-3 brdr-5 shadow-sm"
                                            *ngFor="let tezz of _portfoliolist; let i=index">
                                            <div class="Replied_border_left_true_primary">

                                                <div data-type="inbox"
                                                    class="kt-inbox__item position-relative py-2 mb-0 border-0">
                                                    <div class="kt-inbox__info">
                                                        <div class="kt-inbox__actions">
                                                        </div>
                                                    </div>
                                                    <div class="kt-inbox__details"
                                                        (click)="OnPortfolioClick(tezz.Portfolio_ID,tezz.Portfolio_Name,tezz.Created_By)">
                                                        <div class="kt-inbox__sender">
                                                            <span class="kt-inbox__subject">
                                                                <a href="javascript:void(0)"
                                                                    (click)="OnPortfolioClick(tezz.Portfolio_ID,tezz.Portfolio_Name,tezz.Created_By)"
                                                                    *ngIf="tezz.Portfolio_Name !=''">{{tezz.Portfolio_Name}}</a></span>
                                                        </div>
                                                        <div class="kt-inbox__labels">
                                                            <span
                                                                class="kt-inbox__label kt-badge kt-badge--unified-dark kt-badge.kt-badge-light-bold kt-badge--inline">
                                                                <div>Owner: {{tezz.TM_DisplayName}}</div>
                                                            </span>
                                                            <span
                                                                class="kt-inbox__label kt-badge kt-badge--unified-info kt-badge.kt-badge-light-bold kt-badge--inline">Total
                                                                {{tezz.Count}} Project(s)</span>
                                                            <!-- <span class="kt-inbox__label kt-badge kt-badge--unified-success kt-badge.kt-badge-light-bold kt-badge--inline"> Active </span> -->
                                                        </div>
                                                    </div>
                                                    <div class="kt-inbox__datetime">
                                                        <small>{{tezz.Created_DT|date:'medium'}}</small>
                                                    </div>
                                                    <div class="delete-btn">
                                                        <i class="fas fa-edit invisible"></i>
                                                        <a
                                                            (click)="DeleteProject(Pid,tezz.Portfolio_ID,_MasterCode,_ProjectName,tezz.Created_By)">
                                                            <i class="fas fa-trash-alt"></i>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- <table class="table d-none">
                                <tbody>
                                    <tr *ngFor="let tezz of _portfoliolist; let i=index">
                                        <td class="tr-9">
                                            <a href="javascript:void(0)"
                                                (click)="OnPortfolioClick(tezz.Portfolio_ID,tezz.Portfolio_Name,tezz.Created_By)"
                                                *ngIf="tezz.Portfolio_Name !=''">{{tezz.Portfolio_Name}}</a>
                                        </td>
                                        <td class="align-top curser-pointer"
                                            (click)="DeleteProject(Pid,tezz.Portfolio_ID,_MasterCode,_ProjectName,tezz.Created_By)">
                                            <i class="fas fa-trash-alt text-primary" *ngIf="tezz.Portfolio_Name !=''"></i>
                                        </td>
                                    </tr>
        
                                </tbody>
                                <p style="color:gray">{{noPort}}</p>
                            </table> -->

                        </div>
                    </div>
                    <!--  Portfolio Working Area end-->

                    <!-- Files Section -->
                    <!-- <div class="tab-pane fade" id="Links" role="tabpanel" aria-labelledby="Links1">Links</div> -->
                    <div class="tab-pane fade" id="Files" role="tabpanel" aria-labelledby="Files1">
                        <div class="d-flex-cen justify-content-between px-2 mb-2">                                        
                            <h4 class="kt-subheader__title mb-0" *ngIf="attachmentlength!=0">Files</h4> 
                            <div class="" *ngIf="attachmentlength!=0">
                                <ul class="legend">
                                    <li class="legend-item mr-2">
                                      <span class="legend-box">
                                      </span>
                                      <span class="legend-label">
                                        Project
                                      </span>
                                    </li>
                                    <li class="legend-item" *ngIf="ProjectBlock!='003'">
                                        <span class="legend-box two">
                                        </span>
                                        <span class="legend-label">
                                          Action
                                        </span>
                                      </li>
                                  </ul>
                            </div>
                        </div>
                        <!-- <div class="kt-subheader   kt-grid__item" id="kt_subheader">
                            <div class="kt-container w-100 px-0">
                                <div class="kt-subheader__main"> -->
                                    
                        <!-- <h4 class="kt-subheader__title" *ngIf="noFiles == true">No Records Found.</h4> -->
                        <!-- </div>
                            </div>
                        </div> -->
                        <ng-container *ngIf="attachmentlength!=0; else noResultsFound">
                        <div class="scrollbar1 col-md-12" *ngIf="ProjectBlock=='003' else others">
                            <div class="card mb-3" *ngFor="let item of AttachmentList; let i=index">
                                <div class=" card-body">
                                
                                    <div class="kt-widget__files">
                                        <a class="d-flex-cen">
                                            <div class="kt-widget__media mr-3">
                                                <svg viewBox="0 0 32 32" aria-hidden="true" focusable="false" class="pdf-svg project-pdf">
                                                    <path d="M0 6a6 6 0 0 1 6-6h11.84a7 7 0 0 1 4.48 1.622l7.161 5.967A7 7 0 0 1 32 12.967V26a6 6 0 0 1-6 6H6a6 6 0 0 1-6-6V6zm14.688 3.613c0 .435-.153.726-.305 1.306-.305-1.306-.305-2.322 0-3.193.152 0 .152-.145.152-.145l.153.145v.145c.152.145.152.726 0 1.452v.29zM9.048 21.37c.153-.145.458-.29.762-.436-.914 1.742-1.829 2.613-2.743 2.759.152-.436.914-1.452 1.981-2.323zm14.785-2.613c0 .145.152.145.152.145v.145h-.457c-.762 0-1.829-.29-2.896-.725v-.146h.305c2.134 0 2.744.436 2.896.581zm.61 1.161c.305-.29.457-.725.61-.87 0-.29 0-.581-.153-.872-.457-.725-1.677-1.016-3.506-1.016-.61 0-1.219.145-1.981.145-.61-.29-.915-.58-1.372-.87-.914-.871-1.829-2.178-2.439-3.775v-.145c.61-1.887 1.067-4.21 0-5.226-.304-.145-.61-.29-.914-.29h-.305c-.61 0-1.067.58-1.22 1.161-.609 2.033-.304 3.049.306 4.79-.458 1.307-.915 2.759-1.677 4.21-.61 1.016-1.067 1.887-1.524 2.613-.61.29-1.067.58-1.372.726-1.83 1.016-2.744 2.323-2.896 3.048 0 .29 0 .436.152.726v.145l.763.436c.152.145.304.145.61.145 1.219 0 2.743-1.452 4.572-4.5.152-.145.152-.145.305-.145 1.524-.58 3.505-.871 6.096-1.161 1.525.725 3.354 1.016 4.573 1.016a3.17 3.17 0 0 0 1.372-.29zm-9.908-5.66c.61 1.306 1.525 2.467 2.287 3.338.152.145.305.29.61.435-1.22.145-3.049.58-5.03 1.307h-.305c.305-.58.61-1.016.914-1.597.61-1.307 1.22-2.468 1.524-3.484z"></path>
                                                </svg>
                                            </div>
                                            <div class="flex-1">
                                                <h6 class="kt-widget__desc p-0 curser-pointer"
                                                    (click)="openPDF_Standard(item.IsCloud,item.Reportdate,item.Proofdoc)">{{item.Proofdoc}}</h6>

                                                <h6 class="mb-0" *ngIf="item.Remarks!='undefined'">
                                                    <span class="sqre"></span><span>{{item.Remarks}}</span>
                                                </h6>
                                            </div>
                                            <div class="flex-column-end">
                                                
                                                <h6 class="" title="Submitted By {{item.SubmittedBy}}">
                                                    <span><i class="far fa-user"></i> {{item.SubmittedBy}}</span>
                                                </h6>
                                                <h6 class="mb-0 text-muted" title="Submitted Date">
                                                    <span> <i class="far fa-calendar-alt mr-1"></i> {{item.Reportdate|date:'fullDate'}}</span>
                                                </h6>

                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <ng-template #others>
                            <div class="scrollbar1 col-md-12">
                                <div class="card mb-3" *ngFor="let item of AttachmentList; let i=index">
                                    <div class=" card-body">
                                    
                                        <div class="kt-widget__files">
                                            <a class="d-flex-cen">
                                                <div class="kt-widget__media mr-3">
                                                    <svg viewBox="0 0 32 32" aria-hidden="true" focusable="false" class="pdf-svg project-pdf">
                                                        <path d="M0 6a6 6 0 0 1 6-6h11.84a7 7 0 0 1 4.48 1.622l7.161 5.967A7 7 0 0 1 32 12.967V26a6 6 0 0 1-6 6H6a6 6 0 0 1-6-6V6zm14.688 3.613c0 .435-.153.726-.305 1.306-.305-1.306-.305-2.322 0-3.193.152 0 .152-.145.152-.145l.153.145v.145c.152.145.152.726 0 1.452v.29zM9.048 21.37c.153-.145.458-.29.762-.436-.914 1.742-1.829 2.613-2.743 2.759.152-.436.914-1.452 1.981-2.323zm14.785-2.613c0 .145.152.145.152.145v.145h-.457c-.762 0-1.829-.29-2.896-.725v-.146h.305c2.134 0 2.744.436 2.896.581zm.61 1.161c.305-.29.457-.725.61-.87 0-.29 0-.581-.153-.872-.457-.725-1.677-1.016-3.506-1.016-.61 0-1.219.145-1.981.145-.61-.29-.915-.58-1.372-.87-.914-.871-1.829-2.178-2.439-3.775v-.145c.61-1.887 1.067-4.21 0-5.226-.304-.145-.61-.29-.914-.29h-.305c-.61 0-1.067.58-1.22 1.161-.609 2.033-.304 3.049.306 4.79-.458 1.307-.915 2.759-1.677 4.21-.61 1.016-1.067 1.887-1.524 2.613-.61.29-1.067.58-1.372.726-1.83 1.016-2.744 2.323-2.896 3.048 0 .29 0 .436.152.726v.145l.763.436c.152.145.304.145.61.145 1.219 0 2.743-1.452 4.572-4.5.152-.145.152-.145.305-.145 1.524-.58 3.505-.871 6.096-1.161 1.525.725 3.354 1.016 4.573 1.016a3.17 3.17 0 0 0 1.372-.29zm-9.908-5.66c.61 1.306 1.525 2.467 2.287 3.338.152.145.305.29.61.435-1.22.145-3.049.58-5.03 1.307h-.305c.305-.58.61-1.016.914-1.597.61-1.307 1.22-2.468 1.524-3.484z"></path>
                                                    </svg>
                                                </div>
                                                <div class="flex-1">
                                                    <h6 class="kt-widget__desc p-0 curser-pointer"
                                                        *ngIf="Status!='ToDo Achieved'"
                                                        (click)="openPDF(item.IsCloud,item.CompleteProofDoc)">{{item.Sourcefile}}</h6>
                                                    <h6 class="kt-widget__desc p-0 curser-pointer"
                                                        *ngIf="Status=='ToDo Achieved'"
                                                        (click)="openPDF(item.IsCloud,item.CompleteProofDoc)">{{item.CompleteProofDoc}}</h6>
                                                    <h6 class="kt-widget__desc p-0">
                                                        <span>{{item.LastUpdate | date:'fullDate'}}</span>
                                                    </h6>
                                                    <h6 class="" *ngIf="item.Remarks!='undefined'">
                                                       <span class="sqre"></span> <span>{{item.Remarks}}</span>
                                                    </h6>
                                                </div>
                                                <div class="flex-column-end">                                                
                                                    <h6 class="" title="Submitted By {{item.SubmittedBy}}">
                                                        <span><i class="far fa-user"></i> {{item.SubmittedBy}}</span>
                                                    </h6>
                                                    <h6 class="mb-0 text-muted" title="Submitted Date">
                                                        <span><i class="far fa-calendar-alt mr-1"></i> {{item.Rec_Date|date:'fullDate'}}</span>
                                                    </h6>
                                                </div>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="" *ngIf="action_attachment">
                                    <div class="card mb-3" *ngFor="let item of action_attachment; let i=index">
                                        <div class=" card-body">
                                            <div class="kt-widget__files">
                                                <a class="d-flex-cen">
                                                    <div class="kt-widget__media mr-3">
                                                        <svg viewBox="0 0 32 32" aria-hidden="true" focusable="false" class="pdf-svg action-pdf">
                                                            <path d="M0 6a6 6 0 0 1 6-6h11.84a7 7 0 0 1 4.48 1.622l7.161 5.967A7 7 0 0 1 32 12.967V26a6 6 0 0 1-6 6H6a6 6 0 0 1-6-6V6zm14.688 3.613c0 .435-.153.726-.305 1.306-.305-1.306-.305-2.322 0-3.193.152 0 .152-.145.152-.145l.153.145v.145c.152.145.152.726 0 1.452v.29zM9.048 21.37c.153-.145.458-.29.762-.436-.914 1.742-1.829 2.613-2.743 2.759.152-.436.914-1.452 1.981-2.323zm14.785-2.613c0 .145.152.145.152.145v.145h-.457c-.762 0-1.829-.29-2.896-.725v-.146h.305c2.134 0 2.744.436 2.896.581zm.61 1.161c.305-.29.457-.725.61-.87 0-.29 0-.581-.153-.872-.457-.725-1.677-1.016-3.506-1.016-.61 0-1.219.145-1.981.145-.61-.29-.915-.58-1.372-.87-.914-.871-1.829-2.178-2.439-3.775v-.145c.61-1.887 1.067-4.21 0-5.226-.304-.145-.61-.29-.914-.29h-.305c-.61 0-1.067.58-1.22 1.161-.609 2.033-.304 3.049.306 4.79-.458 1.307-.915 2.759-1.677 4.21-.61 1.016-1.067 1.887-1.524 2.613-.61.29-1.067.58-1.372.726-1.83 1.016-2.744 2.323-2.896 3.048 0 .29 0 .436.152.726v.145l.763.436c.152.145.304.145.61.145 1.219 0 2.743-1.452 4.572-4.5.152-.145.152-.145.305-.145 1.524-.58 3.505-.871 6.096-1.161 1.525.725 3.354 1.016 4.573 1.016a3.17 3.17 0 0 0 1.372-.29zm-9.908-5.66c.61 1.306 1.525 2.467 2.287 3.338.152.145.305.29.61.435-1.22.145-3.049.58-5.03 1.307h-.305c.305-.58.61-1.016.914-1.597.61-1.307 1.22-2.468 1.524-3.484z"></path>
                                                        </svg>
                                                    </div>
                                                    <div class="flex-1">
                                                        <h6 class="kt-widget__desc p-0 curser-pointer"
                                                            (click)="openPDF(item.IsCloud,item.CompleteProofDoc)">{{item.Sourcefile}}
                                                        </h6>
                                                        <h6 class="kt-widget__desc pt-1">
                                                            <span>Action: {{item.Project_Name}}</span>
                                                        </h6>
                                                        <h6 class="kt-widget__desc pt-1" *ngIf="item.Remarks!='undefined'">
                                                            <span>{{item.Remarks}}</span>
                                                        </h6>
                                                    </div>
                                                    <div class="flex-column-end" title="Submitted By {{item.SubmittedBy}}">                                                    
                                                        <h6 class="">
                                                            <span><i class="far fa-user"></i> {{item.Team_Autho}}</span>
                                                        </h6>
                                                        <h6 class="mb-0 text-muted" title="Submitted Date">
                                                            <span><i class="far fa-calendar-alt mr-1"></i> {{item.CreatedOn|date:'fullDate'}}</span>
                                                        </h6>
                                                    </div>
                                                </a>
                                            </div>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                        </ng-template>
                        </ng-container>
                    </div>
                    <!-- Files Section end -->

                    <!-- TimeLine Section -->
                    <div class="tab-pane fade" id="Timeline" role="tabpanel" aria-labelledby="Timeline1">
                        <!-- <h3 class="kt-subheader__title text-left" *ngIf="noTimeline == false">Timeline</h3>  -->
                        
                        <div class="text-right d-flex-cen justify-content-end mb-3">
                            <div class="mr-2">
                                <h6 class="mb-0">
                                    <strong>Total Achievement Hours - {{totalHours}}</strong>
                                </h6>
                            </div> 

                            <button [hidden]="darbutton==false" type="button" class="btn22 btn btn-label-primary btn-pill btn-sm btn-bold"
                                *ngIf="((Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo ||  Current_user_ID == Coor_EmpNo || Current_user_ID == Inform_EmpNo || supp==true || isHierarchy==true))"
                                (click)="darcreate()">
                                Create Timeline
                            </button>
                        </div>


                        <div *ngIf="noTimeline == false; else noResultsFound">
                            <div class="item-b  ribbon-content scrollbar1">
                                <div class="mb-3" *ngFor="let item of darArray">
                                    <!-- <div class="list-header">
                                    <h4 class="header-date">
                                        {{item.SubmissionDate | date: 'fullDate'}}
                                    </h4><br>
                                </div> -->
                                    <div class="">
                                        <table class="time-table mb-1">
                                            <thead>
                                                <tr>
                                                    <th style="width: 50px;">S.No.</th>
                                                    <th style="width: 280px;">Employee</th>
                                                    <th style="width: 280px;"
                                                        *ngIf="ProjectBlockName != 'Standard Tasks' && ProjectBlockName !='Routine Tasks'">
                                                        Action Name</th>
                                                    <th>Achievement</th>
                                                    <th style="width: 80px;">Start</th>
                                                    <th style="width: 80px;">End</th>
                                                    <th style="width: 80px;">Time</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let dar of item.Dardata; let i=index">
                                                    <td>{{i+1}}</td>
                                                    <td>
                                                        <div class="d-flex">
                                                            <div class="initial-box color-7 b-50 mr-2">{{dar.Initial}}
                                                            </div>
                                                            <span class="user--name">{{dar.EmpName}}</span>
                                                        </div>
                                                    </td>
                                                    <td
                                                        *ngIf="ProjectBlockName != 'Standard Tasks' && ProjectBlockName !='Routine Tasks'">
                                                        {{dar.ProjectName }}
                                                    </td>
                                                    <td>{{dar.WorkAchieved}}</td>
                                                    <td>{{dar.starttime}}</td>
                                                    <td>{{dar.endtime}}</td>
                                                    <td>{{dar.Duration}} Hrs</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                    <div class="time-totals mb-3">
                                        <div class="">
                                            <h4 class="header-date p-0">
                                                {{item.SubmissionDate | date: 'fullDate'}}
                                            </h4>
                                        </div>
                                        <div class="">
                                            <ul class="time-totals-list">
                                                <li class="totals-list--item">
                                                    <span><strong>Total Hours: </strong></span>
                                                    <span>{{item.TotalDuration}}</span>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="show1 more">Show More </div>
                            <div class="show1 less">Show Less </div> 
                         (click)="CurrentPageNo = CurrentPageNo + 1; loadMore()"
                                [disabled]="_CurrentpageRecords<10" -->
                                <div style="text-align:center"> <button class="btn btn-info loadMore"
                                        (click)="CurrentPageNo = CurrentPageNo + 1; loadMore()"
                                        [hidden]="_CurrentpageRecords<10">
                                        Load More!</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- TimeLine Section end-->

                    <!-- Notes Section -->
                    <div class="tab-pane fade" id="Notes" role="tabpanel" aria-labelledby="Notes1">
                        <h3 *ngIf="noNotes == false; else noResultsFound"> Notes</h3>
                        <!-- <h4 *ngIf="noNotes == true">No Records Found.</h4> -->
                    </div>
                    <!-- Notes Section end-->

                    <!-- Comments Section -->
                    <div class="tab-pane fade" id="Comments" role="tabpanel" aria-labelledby="Comments1">
                        <div class="card cust-card py-3">
                            <div class="comments-list scrollbar1">
                                <div class="card-body p-0 cust-bd1">
                                    <ul class="commentul pr-2 px-0 pl-0">
                                        <ng-container *ngFor="let item of _CommentsList">
                                            <div *ngIf="(item.Send_From == 'WS') then even;">
                                            </div>
                                            <div *ngIf="(item.Send_From != 'WS') then odd;">
                                            </div>
                                            <ng-template #odd>
                                                <li class="comment-list">
                                                    <div class="d-flex">
                                                        <div class="">
                                                            <span class="name-box text-center">{{item.Initial}}</span>
                                                        </div>
                                                        <div class="d-flex flex-column flex-grow-1">
                                                            <span class="comment-info">{{item.Emp_name}}</span>
                                                            <div class="comment-text">
                                                                <span>{{item.Req_Coments}}</span>
                                                            </div>
                                                            <div class="blw mt-2">
                                                                <span
                                                                    class="kt-badge kt-badge--inline kt-badge--unified-info">{{item.Req_Type}}</span>
                                                                <span
                                                                    class="comment-info dt kt-badge kt-badge--inline kt-badge--unified-dark">{{item.Req_DL
                                                                    | date:'dd-MM-yyyy'}}</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ng-template>
                                            <ng-template #even>
                                                <li class="comment-list odd">
                                                    <div class="d-flex flex-row-reverse">
                                                        <div class="">
                                                            <span class="name-box text-center">{{item.Initial}}</span>
                                                        </div>
                                                        <div class="d-flex flex-column flex-grow-1 align-items-end">
                                                            <span class="comment-info">{{item.Emp_name}}</span>
                                                            <div class="comment-text">
                                                                <span>{{item.Req_Coments}}</span>
                                                            </div>
                                                            <div class="mt-2">
                                                                <span
                                                                    class="kt-badge kt-badge--inline kt-badge--unified-info">{{item.Req_Type}}</span>
                                                                <span
                                                                    class="kt-badge kt-badge--inline kt-badge--unified-dark comment-info dt">{{item.Req_DL
                                                                    | date:'dd-MM-yyyy'}}</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ng-template>
                                        </ng-container>
                                    </ul>
                                </div>
                                <div class="card-footer d-none">
                                    <ul class="commentlt">
                                        <li class="comment-list">
                                            <div class="d-flex align-items-center">
                                                <div class="">
                                                    <span class="name-box text-center">RK</span>
                                                </div>
                                                <div class="flex-grow-1 ml-2">
                                                    <input type="text" class="form-control">
                                                </div>
                                                <button class="btn btn-sm ml-2 btn-info"><i
                                                        class="far fa-paper-plane"></i>Send</button>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Comments Section end-->

                    <!-- People Section -->
                    <div class="tab-pane fade" id="People" role="tabpanel" aria-labelledby="People1">
                        <div class="px-3 d-flex align-items-center">
    
                            <h4 class="flex-1">People on the project</h4>

                            <div class="">
                                <!-- <button class="btn22 btn btn-label-primary btn-pill btn-sm mr-2" (click)="btmspace_opn()">Edit Tab</button> -->
                                <!-- (click)="OnAddTaskClick()" -->
                                <button title="Create New Action" *ngIf="((Current_user_ID=='2000' || Current_user_ID == Owner_EmpNo || Current_user_ID == Responsible_EmpNo || Current_user_ID == Authority_EmpNo ||  Current_user_ID == Coor_EmpNo || Current_user_ID == Inform_EmpNo || supp==true || isHierarchy==true))"
                                    class="btn22 btn btn-label-primary btn-pill btn-sm btn-bold" (click)="onEditSupport()">
                                    <i class="fas fa-plus mr-2"></i>Add support team</button>
                            </div>

                        </div>
                        <div class="kt-portlet kt-portlet--bordered-semi kt-portlet--height-fluid">
                            <div class="kt-portlet__body px-3 project-people">
                                <div class="d-flex align-items-center justify-content-between mb-3">
                                    <div>
                                        <div class="d-flex align-items-center">
                                            <div class="initial-box color-1">{{InitOwn}}
                                            </div>
                                            <div class="owner-details">
                                                <span class="text-muted">Owner</span>
                                                <p class="text-dark text-hover-primary mb-0">
                                                    <strong>{{Owner}}</strong>
                                                    <!-- <strong>0%</strong> -->
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <span class="text-muted"><strong></strong></span>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center justify-content-between mb-3">
                                    <div>
                                        <div class="d-flex align-items-center">
                                            <div class="initial-box color-2">{{InitR}}
                                            </div>
                                            <div class="owner-details">
                                                <span class="text-muted">Responsible</span>
                                                <p class="text-dark text-hover-primary mb-0">
                                                    <strong>{{Responsible}}</strong>
                                                    <!-- <strong>0%</strong> -->
                                                </p>
                                                <!-- <span class="text-muted">(ACtion's Responsible)</span>
                                                <p class="text-muted" *ngFor="let item of Subtask_Res_List">
                                                    <strong>{{item.TM_DisplayName}}</strong>
                                                    <strong *ngIf="item.TM_DisplayName">{{(item.EmpCount / subTaskCount) | percent:'.1-2'}}</strong>
                                                </p>                                               -->
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <span class="text-muted"><strong></strong></span>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center justify-content-between mb-3">
                                    <div>
                                        <div class="d-flex align-items-center">
                                            <div class="initial-box color-3">{{InitAut}}
                                            </div>
                                            <div class="owner-details">
                                                <span class="text-muted">Authority</span>
                                                <p class="text-dark text-hover-primary mb-0">
                                                    <strong>{{Authority}}</strong>
                                                    <!-- <strong>0%</strong> -->
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <span class="text-muted"><strong></strong></span>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center justify-content-between mb-3">
                                    <div>
                                        <div class="d-flex align-items-center">
                                            <div class="initial-box color-4">
                                                {{InitCoor}}
                                            </div>
                                            <div class="owner-details">
                                                <span class="text-muted">Coordinator</span>
                                                <p class="text-dark text-hover-primary mb-0">
                                                    <strong>{{Coordinator}}</strong>
                                                    <!-- <strong>0%</strong> -->
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <span class="text-muted"><strong></strong></span>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center justify-content-between mb-3">
                                    <div>
                                        <div class="d-flex align-items-center">
                                            <div class="initial-box color-5">
                                                {{InitInformer}}</div>
                                            <div class="owner-details">
                                                <span class="text-muted">Informer</span>
                                                <p class="text-dark text-hover-primary mb-0">
                                                    <strong>{{Informer}}</strong>
                                                    <!-- <strong>0%</strong> -->
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <span class="text-muted"><strong></strong></span>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center justify-content-between">
                                    <div>
                                        <div class="d-flex align-items-center">
                                            <div class="initial-box color-6">
                                                {{InitSupp}}
                                            </div>
                                            <div class="owner-details">
                                                <span class="text-muted">Support</span>
                                                <p class="text-dark text-hover-primary mb-0">
                                                    <strong>{{Support}}</strong>
                                                    <!-- <strong>0%</strong> -->
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <span class="text-muted"><strong></strong></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <ng-template #zeroPercent>
                            <p><strong>0%</strong></p>
                        </ng-template>
                    </div>
                    <!-- People Section end-->

                    <!-- Meetings section -->
                    <div class="tab-pane fade" id="Meeting" role="tabpanel" aria-labelledby="Meeting1" >

                        <div class="">
                            <div class="scrollbar1">
                                <div class="event" *ngFor="let item of meeting_arry">
                                    <!-- {{StartDate}} --- {{item.Schedule_date}} -->
                                    <ng-container *ngIf="item.Schedule_date >= sdate">
                                    <div class="event-header sticky-header">
                                        <span class="header-text header-date">
                                            {{item.Schedule_date | date: 'fullDate'}}
                                        </span>
                                    </div>

                                    <div class="event-item">
                                        <span class="event-time">
                                            {{item.St_Time}} - {{item.Ed_Time}}
                                        </span>

                                        <div class="event-lbls">
                                            <span
                                                class="kt-inbox__label kt-badge kt-badge--unified-info kt-badge--bold kt-badge--inline"
                                                style="height: 18px;" *ngIf="item.Schedule_Type=='2' "> Event </span>
                                            <span
                                                class="kt-inbox__label kt-badge kt-badge--unified-info kt-badge--bold kt-badge--inline"
                                                style="height: 18px;" *ngIf="item.Schedule_Type=='1' "> Task </span>

                                            <!-- <span class="kt-inbox__label kt-badge kt-badge--unified-info kt-badge--bold kt-badge--inline ml-2" style="height: 18px;"> Daily </span> -->
                                        </div>

                                        <div class="event-main">
                                            <span class="event-color event-color--info"></span>
                                            <span class="event-title">
                                                <a href="javascript:;">
                                                    {{item.Task_Name}}
                                                </a>
                                            </span>
                                        </div>


                                        <div class="event-desc">
                                            <div class="event-content text-ellipsis" [innerHTML]="item.Description">

                                            </div>
                                        </div>

                                        <div class="event-users">
                                            <div class="eveng-guests dropdown">
                                                <a class="btn p-0 dropdown-toggle no-after d-flex-cen" id="eve-srt"
                                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">

                                                    <span aria-hidden="true" class="guest-icns">
                                                        <svg focusable="false" width="20" height="20"
                                                            viewBox="0 0 24 24" class="svg-icn">
                                                            <path
                                                                d="M15 8c0-1.42-.5-2.73-1.33-3.76.42-.14.86-.24 1.33-.24 2.21 0 4 1.79 4 4s-1.79 4-4 4c-.43 0-.84-.09-1.23-.21-.03-.01-.06-.02-.1-.03A5.98 5.98 0 0 0 15 8zm1.66 5.13C18.03 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.58-3.47-6.34-3.87zM9 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 9c-2.7 0-5.8 1.29-6 2.01V18h12v-1c-.2-.71-3.3-2-6-2M9 4c2.21 0 4 1.79 4 4s-1.79 4-4 4-4-1.79-4-4 1.79-4 4-4zm0 9c2.67 0 8 1.34 8 4v3H1v-3c0-2.66 5.33-4 8-4z">
                                                            </path>
                                                        </svg>
                                                    </span>
                                                    <span class="guest-count">{{item.usersjson.length}}</span>
                                                </a>

                                                <div class="dropdown-menu dropdown-menu-right sort-drop drop-users"
                                                    aria-labelledby="eve-srt">
                                                    <span class="sort-by pb-2 pl-2">Guests</span>
                                                    <a class="dropdown-item" *ngFor="let user of item.usersjson">
                                                        <div class="event-user">
                                                            <div class="event-icon symbol symbol-circle symbol-25px">
                                                                <div class="symbol-label kt-bg-light-primary br-50">
                                                                    <span class="event-media">
                                                                        {{user.twolet}}
                                                                    </span>
                                                                </div>
                                                            </div>
                                                            {{user.TM_DisplayName}}
                                                        </div>
                                                    </a>

                                                </div>
                                            </div>

                                            <div class="event-user">

                                                <div class="event-icon symbol symbol-circle symbol-30px">
                                                    <div class="symbol-label kt-bg-light-primary br-50">
                                                        <span class="event-media">
                                                            {{item.twoletowner}}
                                                        </span>
                                                    </div>
                                                </div>
                                                {{item.TM_DisplayName}}
                                            </div>
                                        </div>

                                        <div class="event-time">
                                            <span class="event-content d-flex-cen">
                                                <span class="svg-icn tim-icn mr-1">
                                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="18"
                                                        height="18" viewBox="0 0 24 24" stroke-width="1.5"
                                                        stroke="currentColor" class="w-6 h-6">
                                                        <path stroke-linecap="round" stroke-linejoin="round"
                                                            d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                                                    </svg>
                                                </span>
                                                {{item.Minutes}} Minutes
                                            </span>
                                        </div>


                                    </div>
                                </ng-container>
                                </div>
                            
                            </div>
                        </div>

                        <!-- <h3 *ngIf="noMeeting == false; else noResultsFound">Meeting</h3> -->
                        <!-- <h4  *ngIf="noMeeting == true">No Records Found.</h4> -->
                    </div>
                    <!-- Meetings section end-->
                </div>
            </div>
        </div>
    </div>
    <!--no records found-->
    <ng-template #noResultsFound>
        <div class="">
            <div class="d-flex-center">
                <div class="m-auto">
                    <svg fill="none" xmlns="http://www.w3.org/2000/svg" width="148" height="136" viewBox="0 0 148 136">
                        <g clip-path="url(#a)">
                            <path
                                d="M25.532 24.814c-17.957 22.26-21.952 59.119 1.09 81.273 28.633 27.534 63.831 26.132 92.703 9.462 32.184-18.573 21.146-69.442 12.563-83.971-25.269-42.77-80.228-39.154-106.356-6.764Z"
                                fill="#E7EBF1" opacity=".5"></path>
                            <path
                                d="M2.168 32.184c4.055 44.656 59.34 23.353 56.364-2.453C53.969-9.658-1.42-7.257 2.168 32.184Z"
                                fill="#79E3AA"></path>
                            <path
                                d="M37.58 19.274a2.666 2.666 0 0 0-1.721.95c-5.712 6.35-4.682 7.359-10.103 13.926-.978-.8-1.945-1.609-2.846-2.502a11.285 11.285 0 0 1-1.46-1.938c-1.595-2.772-6.365.168-4.206 3.094 1.1 1.868 6.935 7.79 9.111 7.535 3.855-.453 7.075-9.63 13.555-16.821a2.62 2.62 0 0 0-2.348-4.244h.018Z"
                                fill="#fff"></path>
                            <path
                                d="M141.844 41.842c1.7-3.02 1.111-32.59 1.024-32.696.038-1.454-.778-1.493-1.665-1.493-15.048.067-48.952-.483-49.79-.122h-.052a1.107 1.107 0 0 0-.733.26.875.875 0 0 0-.319.62c-.42 4.74.596 28.805.596 33.557l50.939-.126Z"
                                fill="#4DA2F8"></path>
                            <path
                                d="M144.22 31.907c0-10.408.067-15.917-.066-16.82.094-1.028-.207-1.729-1.178-1.665-8.323-.701-21.453-.151-25.196-.642-.505-.68-1.027-2.684-1.566-3.329-.54-.645-1.802-2.218-2.387-3.073-.894-1.45-1.665-1.517-4.773-1.402-16.575.49-18.629-.4-19.642.302-1.696 3.952-.277 44.22-.182 44.35-.042 1.91.778 1.963 1.665 1.96 15.047-.074 50.974.672 51.811.2h.067a1.017 1.017 0 0 0 .732-.351c.192-.232.3-.523.305-.824.438-6.224.417-12.475.41-18.706Z"
                                fill="#63C0F9"></path>
                            <path opacity=".6"
                                d="M98.916 13.362c-2.31 0-4.237 0-4.762-.066a1.116 1.116 0 0 1 .245-2.219c1.002.105 9.374.032 14.75-.045a1.11 1.11 0 0 1 .815 1.884 1.113 1.113 0 0 1-.78.337c-.883.021-6.182.098-10.268.11Z"
                                fill="#fff"></path>
                            <path
                                d="M45.023 135.513a2.644 2.644 0 0 0 2.724.197 2.64 2.64 0 0 0 1.435-2.324c0 .031-1.682-7.391 1.914-7.556 7.969-.35 17.395-3.357 17.13-10.832-.484-13.544-.225-25.522-5.629-30.07-7.065-5.958-21.226-2.043-33.312-.968-18.314 1.63-23.546 3.75-22.127 21.664a57.15 57.15 0 0 0 2.804 14.214c3.907 10.524 12.013 7.394 23.577 7.317 1.16 0 1.64 1.391 11.484 8.358Z"
                                fill="#FFD56A"></path>
                            <path
                                d="M22.595 107.741a1.57 1.57 0 0 1-1.693-1.353 1.59 1.59 0 0 1 1.346-1.776c5.06-.48 28.511-2.888 33.554-3.231a1.582 1.582 0 0 1 .424 3.129 1.283 1.283 0 0 1-.263 0c-5.01.543-28.27 2.758-33.29 3.21l-.078.021ZM21.884 99.74a1.567 1.567 0 0 1-1.383-2.515 1.591 1.591 0 0 1 1.036-.614c5.056-.48 28.511-2.887 33.55-3.23a1.581 1.581 0 0 1 .428 3.132 1.647 1.647 0 0 1-.263 0c-5.011.543-28.27 2.754-33.291 3.21l-.077.018ZM23.597 115.293a1.541 1.541 0 1 1-.27-3.073l21.104-1.991a1.6 1.6 0 0 1 .616.018 1.598 1.598 0 0 1 .986.702 1.58 1.58 0 0 1-1.354 2.42l-21.089 1.987.007-.063Z"
                                fill="#CE8D4F"></path>
                            <path
                                d="M106.822 90.49c2.642 4.979 22.68 25.157 22.708 25.181 9.781 7.741 22.547-9.714 12.286-16.708-.028-.021-24.106-14.719-29.647-15.745"
                                fill="#727491"></path>
                            <path
                                d="m96.968 93.328 6.307 4.643a4.908 4.908 0 0 0 6.61-.74c3.592-4.117 6.521-8.792 9.482-13.442a4.906 4.906 0 0 0-1.051-6.445c-1.882-1.524-3.427-2.87-6.062-4.808-3.827 7.748-9.886 14.053-15.286 20.792Z"
                                fill="#727491"></path>
                            <path
                                d="M37.611 80.453c29.034 52.397 96.187 11.119 77.513-35.685-5.19-13.026-17.77-22.73-31.651-24.72-32.121-4.604-61.898 31.466-45.862 60.405Z"
                                fill="#B3B9CE"></path>
                            <path
                                d="M47.07 75.922c21.919 39.557 72.613 8.41 58.522-26.942-3.922-9.83-13.418-17.171-23.896-18.66-24.254-3.477-46.73 23.759-34.627 45.602Z"
                                fill="#E2F6FE"></path>
                            <g opacity=".3" fill="#63C0F9">
                                <path opacity=".3"
                                    d="M87.467 66.456a.718.718 0 0 1-.95-.407.701.701 0 0 1 .25-.85.732.732 0 0 1 .988 1.068.8.8 0 0 1-.288.19ZM85.754 81.402a.796.796 0 0 1-.833-.123.835.835 0 0 1-.25-.35.05.05 0 0 0 0-.02.798.798 0 0 1 .294-.986.841.841 0 0 1 1.125 1.238.912.912 0 0 1-.336.241ZM97.77 89.452a.772.772 0 0 1-.417.052.795.795 0 0 1-.606-.494v-.024a.768.768 0 0 1 .815-1.055.792.792 0 0 1 .513 1.293.84.84 0 0 1-.305.228ZM112.103 83.147a.754.754 0 0 1-.788-.114.783.783 0 0 1-.235-.327.038.038 0 0 1 0-.021.762.762 0 0 1 .276-.929.794.794 0 0 1 1.235.641.79.79 0 0 1-.183.523.839.839 0 0 1-.305.227ZM114.328 69.431a.77.77 0 0 1-.943-.252.784.784 0 0 1-.162-.54.784.784 0 0 1 .24-.511.794.794 0 0 1 1.051-.053.786.786 0 0 1-.182 1.353l-.004.004ZM101.902 60.352a.751.751 0 1 1-.529-1.401.75.75 0 0 1 .753.185v.017a.75.75 0 0 1 .194.663.744.744 0 0 1-.436.536h.018Z">
                                </path>
                            </g>
                            <path opacity=".8" d="M97.024 49.905a25.344 25.344 0 0 0-35.632-3.826" stroke="#fff"
                                stroke-width="7.36" stroke-miterlimit="10" stroke-linecap="round"></path>
                        </g>
                        <defs>
                            <clipPath id="a">
                                <path fill="#fff" d="M0 0h148v136H0z"></path>
                            </clipPath>
                        </defs>
                    </svg>
                    <div class="bnk-txt mt-3">
                        <h3 class="blank-txt">No Results Found</h3>
                    </div>
                </div>
            </div>
        </div>
    </ng-template>
    <!--no records found end-->
</div>
<div id="rightbar-overlay" (click)="closeInfo()"></div>
<!-- Action-To-Project-New_Subtask -->
<div id="mysideInfobar1" class="sideInfobar animate-right">
    <router-outlet></router-outlet>
</div>

<!-- For Update Project-->
<div id="mysideInfobar_ProjectsUpdate" class="sideInfobar animate-right offcanvas">
    <div class="kt-portlet">

        <div class="kt-portlet__head">
            <div class="offcanvas-header d-flex align-items-center justify-content-between flex-1">
                <h4 class="m-0" *ngIf="(ProjectBlockName != 'Standard Tasks' && ProjectBlockName!='Routine Tasks')">Project Submission</h4>
                <h4 class="m-0" *ngIf="(ProjectBlockName=='Standard Tasks')">Task Submission</h4>
                <a href="javascript:void(0)" class="btn btn-icon btn-hover-info" (click)="closeInfoProject()">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"
                        fill="currentColor">
                        <path fill="none" d="M0 0h24v24H0z" />
                        <path
                            d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z" />
                    </svg>
                </a>
            </div>
        </div>
        <div class="kt-portlet__body py-3">
            <div class="content-subm" id="subtrnfer"
                *ngIf="(ProjectBlockName != 'Standard Tasks' && ProjectBlockName!='Routine Tasks')">
                <div class="">
                    <div class="d-flex align-items-center justify-content-between mt-1">
                        <div>
                            <div class="my-2">
                                <label class="kt-badge kt-hover--primary kt-bg-light-primary kt-badge--inline">
                                    <i class="fa fa-clone mr-2"></i>{{ProjectBlockName}}</label>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex mt-3 flex-column">
                        <h5 class="fs-3 mb-2">{{ProjectName}}</h5>
                        <span class="text-muted fs-5">{{Description}}</span>
                    </div>
                </div>
                <div class="form-group mt-3">
                    <label>Attachments</label><span class="text-danger">*</span>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-upload" viewBox="0 0 16 16">
                                    <path
                                        d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z" />
                                    <path
                                        d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z" />
                                </svg>
                            </span>
                        </div>
                        <div class="custom-file">
                            <input type="file" class="custom-file-input" id="_pdf" accept="application/pdf"
                                (change)="onFileChange($event)">
                            <label class="custom-file-label" id="upload" for="_pdf">Select a file</label>
                        </div>
                    </div>
                    <span class="text-info"> *Accept only pdf files </span>
                </div>
                <!-- <div class="form-group">
                    <label>Attachments 1 </label>
                    <div></div>
                    <div class="custom-file">
                        <input type="file" class="form-control-file" id="_pdf" accept="application/pdf"
                            (change)="onFileChange($event)">
                    </div>
                </div> -->

                <!-- <div class="form-group">
                    <label>Attachments 2</label>
                    <div></div>
                    <div class="custom-file">
                        <input type="file" class="form-control-file" id="uploadFile" (change)="onFileChange2($event)">
                    </div>
                </div> -->
                <div class="form-group">
                    <label for="exampleFormControlFile1"> Remarks <span class="text-danger">*</span></label>
                    <textarea class="form-control" aria-label="With textarea" [(ngModel)]="_remarks"
                        placeholder="Define your exact reason here." style="height: 160px; margin: 0px;"></textarea>
                    <span class="text-danger mt-1">Note: (*) are mandatory!</span>
                </div>

                <div class="form-group mb-1">
                    <button type="submit" class="btn btn-primary" [disabled]="(_remarks=='')||(selectedFile==null)"
                        (click)="updateMainProject()">Submit
                    </button>
                </div>
            </div>

            <!-- Achieve Tabs -->
            <div class="content-ach px-4 pt-2" id="achievetabs" *ngIf="(ProjectBlockName=='Standard Tasks')">
                <div class="card-brdr">

                    <div class="">
                        <div class="d-flex align-items-center justify-content-between mt-1">
                            <div>
                                <div class="my-2">
                                    <label class="kt-badge kt-hover--primary kt-bg-light-primary kt-badge--inline">
                                        <i class="fa fa-clone mr-2"></i>{{ProjectBlockName}}</label>
                                </div>
                            </div>
                        </div>
                        <div class="d-flex mt-3 flex-column">
                            <h5 class="fs-3 mb-2">{{ProjectName}}</h5>
                            <span class="text-muted fs-5">{{Description}}</span>
                        </div>
                    </div>

                    <ul class="nav nav-dark nav-bold nav-tabs nav-tabs-line mb-0 font-bolder">
                        <li class="nav-item">
                            <a class="nav-link text-active-primary text-hover-primary font-bolder fs-125 mr-4 py-3 active"
                                data-toggle="tab" href="#overv-pro" (click)="changeStandard()">Achieve</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-active-primary text-hover-primary font-bolder fs-125 mr-4 py-3"
                                data-toggle="tab" href="#edit-pro" (click)="changeStandard()">Not Achieve</a>
                        </li>
                    </ul>
                </div>
                <div class="tab-content py-3 profile-tab">
                    <div class="card1 brdr-0 active" id="overv-pro">
                        <div class="mt-3">
                            <div class="form-group">
                                <label>Attachments</label><span class="text-danger">*</span>
                                <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                                class="bi bi-upload" viewBox="0 0 16 16">
                                                <path
                                                    d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z" />
                                                <path
                                                    d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z" />
                                            </svg>
                                        </span>
                                    </div>
                                    <div class="custom-file">
                                        <input type="file" class="custom-file-input" id="_file1" accept="application/pdf"
                                            (change)="onFileChange($event)">
                                        <label class="custom-file-label" id="upload" for="_file1">Select a file</label>
                                    </div>
                                </div>
                                <span class="text-info"> *Accept only pdf files </span>
                            </div>

                            <div class="form-group">
                                <label for="exampleFormControlFile1"> Remarks <span class="text-danger">*</span></label>
                                <textarea class="form-control" aria-label="With textarea" style="height: 160px;"
                                    [(ngModel)]="_remarks" placeholder="Define your exact reason here."></textarea>
                                <span class="text-danger mt-1">Note: (*) are mandatory!</span>
                            </div>

                            <div class="form-group mb-1">
                                <button type="submit" class="btn btn-primary" [disabled]="(_remarks=='')||(selectedFile==null)"
                                    (click)="achieveStandard()">Submit</button>
                            </div>
                        </div>
                    </div>
                    <div class="card1 brdr-0" id="edit-pro">
                        <div class="mt-3">
                            <div class="form-group">
                                <label for="exampleFormControlFile1"> Remarks <span class="text-danger">*</span></label>
                                <textarea class="form-control" aria-label="With textarea" style="height: 160px;"
                                    [(ngModel)]="_remarks" placeholder="Define your exact reason here."></textarea>
                                <span class="text-danger mt-1">Note: (*) are mandatory!</span>
                            </div>

                            <div class="form-group mb-1">
                                <button type="submit" class="btn btn-primary" [disabled]="(_remarks=='')"
                                    (click)="notachieveStandard()">Submit</button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
<!-- For Update Subtask -->
<div id="mysideInfobar_Update" class="sideInfobar animate-right offcanvas">
    <div class="px-4 pt-4 pb-1">
        <div class="offcanvas-header d-flex align-items-center justify-content-between pb-2">
            <h4 class="font-weight-bold m-0"> Action Completion </h4>
            <a href="javascript:void(0)" class="closebtn btn btn-xs btn-icon btn-hover-info" (click)="closeInfo()">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                    <path fill="none" d="M0 0h24v24H0z"></path><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"></path>
                </svg>
            </a>
        </div>
    </div>
    <div class="px-4 pt-2">
        <div class="">
            <div class="d-flex flex-column">
                <h5 class="fs-3 mb-2">{{_Subtaskname}}</h5>
                <span class="text-muted fs-5">{{Sub_Desc}}</span>
            </div>
        </div>
        <div class="form-group mt-3">
            <label>Attachments</label>
            <div class="input-group mb-3" #uploadFile>
                <div class="input-group-prepend">
                    <span class="input-group-text">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-upload" viewBox="0 0 16 16">
                            <path
                                d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z" />
                            <path
                                d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z" />
                        </svg>
                    </span>
                </div>
                <div class="custom-file">
                    <input type="file" class="custom-file-input" id="uploadFile" accept="application/pdf"
                        (change)="onFileChange($event)">
                    <label class="custom-file-label" id="_upload" for="uploadFile">Select a file</label>
                </div>
            </div>
            <span class="text-info"> *Accept only pdf files </span>
        </div>

        <!-- <div class="form-group">
            <label>Attachments</label>
            <div></div>
            <div class="custom-file">
                <input type="file" class="form-control-file" id="uploadFile" accept="application/pdf"
                    (change)="onFileChange($event)">
            </div>
        </div>
         -->
        <div class="form-group">
            <label for="exampleFormControlFile1">Remarks<span class="text-danger">*</span> </label>
            <textarea class="form-control" aria-label="With textarea" placeholder="Define your exact reason here."
                [(ngModel)]="_remarks" style="margin-top: 0px; margin-bottom: 0px; height: 160px;"></textarea>
        </div>
        <!-- <span class="text-danger">Note: (*) are mandatory!</span> -->
        <div class="form-group">
            <button type="submit" class="btn btn-primary" [disabled]="(_remarks=='')"
                (click)="OnUpdateClick()">Submit</button>
        </div>
    </div>
</div>

<div class="sideInfobar animate-right" id="mysideInfobar" *ngIf="pro_act==true">
    <div class="kt-portlet">
        <div class="kt-portlet__head">
            <div class="offcanvas-header d-flex align-items-center justify-content-between pb-2">
                <h4 class="m-0">Approvals</h4>
                <a href="javascript:void(0)" class="abs-btn closebtn btn btn-xs btn-icon btn-hover-info" (click)="closeApproval()">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                        <path fill="none" d="M0 0h24v24H0z"></path><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"></path>
                    </svg>
                </a>
            </div>
        </div>


        <div class="kt-portlet__body flex-row">
            <div class="w-45">
                <div class="proctdetls" [ngClass]="{ ' ' : Status!='Deadline Extend Under Approval',
                        'justify-content-between' : Status=='Deadline Extend Under Approval'}" id="ProjectDetails_Main">
                    <div class="d-flex align-items-center mb-3">
                        <div class="">
                            <span class="detail-icn">
                                <svg width="24" height="24" viewBox="3 2 34 34" aria-hidden="true" focusable="false"
                                    fill="currentColor">
                                    <path d="M30.5,9h-7.8l-3.6-3.6C18.2,4.5,16.9,4,15.6,4h-5.1C6.9,4,4,6.9,4,10.5v19c0,3.6,2.9,6.5,6.5,6.5h19c3.6,0,6.5-2.9,6.5-6.5v-15C36,11.5,33.5,9,
                                    30.5,9z M33,29.5c0,1.9-1.6,3.5-3.5,3.5h-19C8.6,33,7,31.4,7,29.5v-19C7,8.6,8.6,7,10.5,7h5.1c0.5,0,1,0.2,1.4,0.6l4.1,4c0.3,0.3,0.7,0.4,1.1,0.4h8.4c1.4,
                                    0,2.5,1.1,2.5,2.5L33,29.5L33,29.5z M13.5,13L13.5,13c0.8,0,1.5,0.7,1.5,1.5v13c0,0.8-0.7,1.5-1.5,1.5l0,0c-0.8,0-1.5-0.7-1.5-1.5v-13C12,13.7,12.7,13,13.5,13z
                                    M25.5,18L25.5,18c0.8,0,1.5,0.7,1.5,1.5v8c0,0.8-0.7,1.5-1.5,1.5l0,0c-0.8,0-1.5-0.7-1.5-1.5v-8C24,18.7,24.7,18,25.5,18z M19.5,22L19.5,22c0.8,0,1.5,0.7,1.5,1.5v4c0,0.8-0.7,1.5-1.5,1.5l0,0c-0.8,0-1.5-0.7-1.5-1.5v-4C18,22.7,18.7,22,19.5,22z">
                                    </path>
                                </svg>
                            </span>
                        </div>
                        <div class="action-content">
                            <h6 class="txtm-cus mb-1">Request type</h6>
                            <h6 class="mt-1">{{requestType}}</h6>
                        </div>
                    </div>
                    <!-- <div class="d-flex align-items-center">
                        <div class="">
                            <span class="svg-icon svg-icon-2x text-primary mr-2">
                                <svg width="24" height="24" viewBox="0 0 40 40" aria-hidden="true" focusable="false"
                                    fill="currentColor">
                                    <path
                                        d="M24,2V1c0-0.6-0.4-1-1-1s-1,0.4-1,1v1H10V1c0-0.6-0.4-1-1-1S8,0.4,8,1v1C4.7,2,2,4.7,2,8v16c0,3.3,2.7,6,6,6h16c3.3,0,6-2.7,6-6V8C30,4.7,27.3,2,24,2z M8,4v1c0,0.6,0.4,1,1,1s1-0.4,1-1V4h12v1c0,0.6,0.4,1,1,1s1-0.4,1-1V4c2.2,0,4,1.8,4,4v2H4V8C4,5.8,5.8,4,8,4z M24,28H8c-2.2,0-4-1.8-4-4V12h24v12C28,26.2,26.2,28,24,28z">
                                    </path>
                                </svg>
                            </span>
                        </div>
                        <div class="action-content">
                            <h6 class="txtm-cus mb-1 pt-1">Request Date</h6>
                            <h5 class="mt-1 text-blue">{{requestDate|date:'dd-MM-yyyy'}}</h5>
                        </div>
                    </div> -->

                    <div class="d-flex align-items-center mb-3">
                        <div class="">
                            <span class="detail-icn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-calendar4-week" viewBox="0 0 16 16">
                                    <path
                                        d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v1h14V3a1 1 0 0 0-1-1H2zm13 3H1v9a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V5z" />
                                    <path
                                        d="M11 7.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-2 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z" />
                                </svg>
                            </span>
                        </div>
                        <div class="action-content d-flex align-items-center gap-1">
                            <div class="left-w">
                                <h6 class="txtm-cus pt-1">Project duration</h6>
                                <h6 class="mt-1"
                                    *ngIf="(ProjectBlockName != 'Standard Tasks' && ProjectBlockName!='Routine Tasks')">
                                    {{StartDate|date:'dd-MM-yyyy'}}/{{EndDate}} </h6>
                                <h6 class="mt-1"
                                    *ngIf="(ProjectBlockName == 'Standard Tasks' || ProjectBlockName=='Routine Tasks')">
                                    {{StartDate|date:'dd-MM-yyyy'}}/{{SubmissionName}} </h6>
                            </div>
                            <div class="px-1"
                                *ngIf="Status=='Deadline Extend Under Approval' || Status=='Project Hold' || Status=='Project Hold Under Approval'">
                                <i class="la la-arrow-right mx-3 fs-4 font-weight-bold"></i>
                            </div>
                            <div *ngIf="Status=='Deadline Extend Under Approval'">
                                <h6 class="txtm-cus pt-1">New end date</h6>
                                <h6 class="mt-1"> {{new_deadline | date: 'dd-MM-yyyy'}} </h6>
                            </div>
                            <div *ngIf="Status=='Project Hold' || Status=='Project Hold Under Approval'">
                                <h6 class="txtm-cus pt-1">Hold until</h6>
                                <h6 class="mt-1"> {{hold_upto}} </h6>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex align-items-center mb-3">
                        <div class="">
                            <span class="detail-icn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor"
                                    class="bi bi-wallet" viewBox="0 0 16 16">
                                    <path
                                        d="M0 3a2 2 0 0 1 2-2h13.5a.5.5 0 0 1 0 1H15v2a1 1 0 0 1 1 1v8.5a1.5 1.5 0 0 1-1.5 1.5h-12A2.5 2.5 0 0 1 0 12.5V3zm1 1.732V12.5A1.5 1.5 0 0 0 2.5 14h12a.5.5 0 0 0 .5-.5V5H2a1.99 1.99 0 0 1-1-.268zM1 3a1 1 0 0 0 1 1h12V2H2a1 1 0 0 0-1 1z" />
                                </svg>
                            </span>
                        </div>

                        <div class="action-content d-flex align-items-center gap-1">
                            <div class="left-w">
                                <h6 class="txtm-cus pt-1">Cost</h6>
                                <h6 class="mt-1"> {{Cost |currency:'SAR '}} </h6>
                                <!-- <h6 class="mt-1"> SAR 100.00 <i class="la la-arrow-right mx-3 fs-4 font-weight-bold"></i> SAR 200.00 </h6> -->
                            </div>
                            <!-- <div class="px-1">
                                <i class="la la-arrow-right mx-3 fs-4 font-weight-bold"></i>
                            </div>
                            <div>
                                <h6 class="txtm-cus pt-1">New cost</h6>
                                <h6 class="mt-1"> {{new_cost |currency:'SAR '}} </h6>
                            </div> -->
                        </div>
                    </div>
                    <div class="d-flex align-items-center mb-3" *ngIf="Status=='Forward Under Approval' || requestType=='Revert Back'">
                        <div class="">
                            <span class="detail-icn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-fast-forward-btn" viewBox="0 0 16 16">
                                    <path
                                        d="M8.79 5.093A.5.5 0 0 0 8 5.5v1.886L4.79 5.093A.5.5 0 0 0 4 5.5v5a.5.5 0 0 0 .79.407L8 8.614V10.5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5Z" />
                                    <path
                                        d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm15 0a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4Z" />
                                </svg>
                            </span>
                        </div>
                        <div class="action-content d-flex align-items-center gap-1"
                            *ngIf="Status=='Forward Under Approval'">
                            <div class="left-w">
                                <h6 class="txtm-cus pt-1">Forward from</h6>
                                <h6 class="mt-1">{{forwardfrom}}</h6>
                            </div>
                            <div class="px-1">
                                <i class="la la-arrow-right mx-3 fs-4 font-weight-bold"></i>
                            </div>
                            <div>
                                <h6 class="txtm-cus pt-1">Forward to</h6>
                                <h6 class="mt-1">{{forwardto}}</h6>
                            </div>
                        </div>
                        <div class="action-content d-flex align-items-center gap-1"
                            *ngIf="requestType=='Revert Back'">
                            <div class="left-w">
                                <h6 class="txtm-cus pt-1">Revert from</h6>
                                <h6 class="mt-1">{{forwardfrom}}</h6>
                            </div>
                            <div class="px-1">
                                <i class="la la-arrow-right mx-3 fs-4 font-weight-bold"></i>
                            </div>
                            <div>
                                <h6 class="txtm-cus pt-1">Revert to</h6>
                                <h6 class="mt-1">{{forwardto}}</h6>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex align-items-center mb-3"
                        *ngIf="requestType=='Project Complete' || requestType=='ToDo Achieved'">
                        <div class="">
                            <span class="detail-icn">
                                
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3 3 0 1119.5 7.372L8.552 18.32m.009-.01l-.01.01m5.699-9.941l-7.81 7.81a1.5 1.5 0 002.112 2.13" />
                                </svg>
                                
                            </span>
                        </div>
                        <div class="action-content d-flex align-items-center gap-1" *ngIf="requestType=='Project Complete'">
                            <div class="left-w">
                                <h6 class="txtm-cus pt-1">Complete attachment</h6>
                                <a (click)="openPDF(iscloud,url)">
                                    <h6 class="mt-1"><u>{{completedoc}}</u></h6>
                                </a>
                            </div>
                        </div>
                        <div class="action-content d-flex align-items-center gap-1" *ngIf="requestType=='ToDo Achieved'">
                            <div class="left-w">
                                <h6 class="txtm-cus pt-1">Complete attachment</h6>
                                <a (click)="openPDF(iscloud,url)">
                                    <h6 class="mt-1"><u>{{url}}</u></h6>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="comment-list pb-0" *ngIf="requestComments!=''">
                    <div class="d-flex">
                        <div>
                            <span class="name-box text-center">{{initials1}}</span>
                        </div>
                        <div class="d-flex flex-column flex-grow-1">
                            <div class=""><span class="comt-info">{{Submitted_By}}</span> on {{requestDate |
                                date:'dd-MM-yyyy'}}</div>
                            <!-- <div class="comment-text"> -->
                            <span class="comt-text">{{requestComments}}</span>
                            <!-- </div> -->
                        </div>
                    </div>
                </div>
                <div class="">
                    <h5 class="mb-1 kt-portlet__head-title text-blue"></h5>

                    <a class="btn--1 btn-info--1 btn-sm--1 text-info py-2" data-toggle="collapse" href="#prevco"
                        role="button" aria-expanded="false" aria-controls="prevco">
                        View previous comments
                    </a>
                    <div class="px-cb pt-cb bg-gry collapse kt-portlet__body_scroll prv-cmts" id="prevco">
                        <div class="comment-list" *ngFor="let item of prviousCommentsList">
                            <div class="d-flex">
                                <div>
                                    <span class="name-box text-center">{{item.Initial}}</span>
                                </div>
                                <div class="d-flex flex-column flex-grow-1">
                                    <span class="comt-info">{{item.Submitted_By}}</span>
                                    <div class="comt-text">
                                        <span>{{item.Req_Coments}}</span>
                                    </div>
                                    <div class="blw mt-2">
                                        <span
                                            class="kt-badge kt-badge--inline kt-badge--unified-info">{{item.Request_type}}</span>
                                        <span class="dt kt-badge kt-badge--inline kt-badge--unified-dark">{{item.Req_date |
                                            date:'dd-MM-yyyy'}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- accordian_section-->

            <div class="px-3 w-55 flex-1 br-cus">
                <div class="mt-1">
                    <div class="card-title mb-0">
                        <!-- <div class="card-title mb-0" data-toggle="collapse" data-target="#proj_act_acc" aria-expanded="true" aria-controls="proj_act_acc"> -->
                        <div class="d-flex justify-content-between align-items-center">
                            <span class="det-text pro-nm pl-1 text-blue">Approvals<span
                                    style="color:red">*</span></span>
                            <i class="fas fa-chevron-up text-info1 mr-2 d-none"></i>
                        </div>
                    </div>

                    <div id="proj_act_acc" class="collapse show px-1">

                        <div class="pro_act_div card-body px-0">
                            <div class="form-group mb-2">
                                <div>
                                    <div class="form-check-inline" (click)="typeChange()">
                                        <label class="form-check-label lbl-suc btn-app">
                                            <input id="rdbButtons_0" type="radio" class="form-check-input" name="rdbButtons"
                                                value="1" checked="checked" [(ngModel)]="selectedType">Accept
                                        </label>
                                    </div>
                                    <div class="form-check-inline" *ngIf="requestType=='Project Complete'"
                                        (click)="typeChange()">
                                        <label class="form-check-label lbl-war btn-app">
                                            <input id="rdbButtons_1" type="radio" class="form-check-input" name="rdbButtons"
                                                value="2" [(ngModel)]="selectedType">Conditional Accept
                                        </label>
                                    </div>
                                    <div class="form-check-inline" (click)="typeChange()">
                                        <label class="form-check-label lbl-dan btn-app">
                                            <input id="rdbButtons_2" type="radio" class="form-check-input" name="rdbButtons"
                                                value="3" [(ngModel)]="selectedType">Reject
                                        </label>
                                    </div>
                                    <div class="form-check-inline d-none" (click)="typeChange()">
                                        <label class="form-check-label lbl-new1 btn-app">
                                            <input id="rdbButtons_0" type="radio" class="form-check-input" name="rdbButtons"
                                                value="4" checked="checked" [(ngModel)]="selectedType">Transfer
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex flex-grow-1r">
                                <div class="col-md-12 checked-rad pl-1 pt-3">
                                    <div class="appr-comts">
                                        <div class="form-group" *ngIf="selectedType=='3'">
                                            <label class="mb-2">Reject Type</label><span style="color:red">*</span>
                                            <ng-select required #action="ngModel" name="rej_type"
                                                placeholder="Select Reject Type" id="rej_type" [(ngModel)]="rejectType"
                                                (change)="rejectApproval()">
                                                <ng-option [value]="item.TypeID" *ngFor="let item of reject_list">
                                                    {{item.RejectType}}
                                                </ng-option>
                                            </ng-select>
                                            <span *ngIf="rejectType!=1 && rejectType" style="color:grey">{{rejDesc}}</span>
                                            <span *ngIf="noRejectType==true" style="color:red">Please select Reject
                                                type!!</span>
                                        </div>
                                        <div class="form-group" *ngIf="rejectType && selectedType=='3'">
                                            <label class="mb-2" *ngIf="rejectType && selectedType=='3'">Select From Existing
                                                Comments</label>
                                            <!-- <ng-select required #action="ngModel" name="comment_reject"
                                                placeholder="Select Comment" id="comment_reject" [(ngModel)]="commentSelected">
                                                <ng-option [value]="item.Req_Coments" *ngFor="let item of rejectcommentsList">
                                                    {{item.Req_Coments}}
                                                </ng-option>
                                            </ng-select> -->
                                            <div class="exs-cmts card">
                                                <!-- <div class="card-header">
                                                    <h6 class="mb-0">Existing Comments</h6>
                                                </div> -->
                                                <div class="crd-bdy scroll-y">
                                                    <div class="cmts-items"
                                                        *ngFor="let item of rejectcommentsList;let i=index">
                                                        <h6
                                                            [ngClass]="exist_comment.indexOf(item.Req_Coments) != -1 ? 'text-info' : ''">
                                                            {{item.Req_Coments}}</h6>
                                                        <div class="cmts-actns">
                                                            <span class="cmts-svg"
                                                                *ngIf="exist_comment.indexOf(item.Req_Coments) == -1"
                                                                (click)="clickonselect(item.Req_Coments)">
                                                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                                                    <path
                                                                        d="M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z">
                                                                    </path>
                                                                </svg>
                                                            </span>
                                                            <span class="cmts-svg"
                                                                *ngIf="exist_comment.indexOf(item.Req_Coments) != -1"
                                                                (click)="clickondeselect(item.Req_Coments,i)">
                                                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                                                    <path
                                                                        d="M12.0007 10.5865L16.9504 5.63672L18.3646 7.05093L13.4149 12.0007L18.3646 16.9504L16.9504 18.3646L12.0007 13.4149L7.05093 18.3646L5.63672 16.9504L10.5865 12.0007L5.63672 7.05093L7.05093 5.63672L12.0007 10.5865Z">
                                                                    </path>
                                                                </svg>
                                                            </span>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group" *ngIf="selectedType=='1' || selectedType=='2'">
                                            <label class="mb-2">Enter Comments</label>
                                            <!-- <span style="color:red">*</span> -->
                                            <textarea class="form-control h-100px" [(ngModel)]="comments"></textarea>
                                        </div>
                                        <div class="form-group" *ngIf="rejectType && selectedType=='3'">
                                            <label class="mb-2">Enter Comments</label><span style="color:red">*</span>
                                            <textarea class="form-control h-100px" [(ngModel)]="comments"></textarea>
                                        </div>
                                        <!-- <div class="form-group" *ngIf="selectedType=='1' || selectedType=='2'"
                                            (click)="clickonselect()">
                                            <label class="mb-2">Select From Existing Comments</label>
                                            <ng-select required #action="ngModel" name="comment_accept"
                                                placeholder="Select Comment" id="comment_accept" [(ngModel)]="commentSelected">
                                                <ng-option [value]="item.Req_Coments" *ngFor="let item of comments_list">
                                                    {{item.Req_Coments}}
                                                </ng-option>
                                            </ng-select>
                                        </div> -->



                                    </div>
                                    <div class="d-flex justify-content-end" *ngIf="selectedType=='3'">
                                        <button type="submit" class="btn btn-sm btn-info mr-2" (click)="submitApproval()"
                                            [disabled]="!comments || !selectedType" primary="true">Submit</button>
                                        <button class="btn btn-sm btn-secondary" (click)="closeApproval()">Cancel</button>
                                    </div>
                                    <div class="d-flex justify-content-end" *ngIf="selectedType=='1' || selectedType=='2'">
                                        <button type="submit" class="btn btn-sm btn-info mr-2" (click)="submitApproval()"
                                            [disabled]="!selectedType" primary="true">Submit</button>
                                        <button class="btn btn-sm btn-secondary" (click)="closeApproval()">Cancel</button>
                                    </div>
                                </div>
                                <div class="none-checked margin-auto">
                                    <img src="assets/images/bg-no.jpg" height="300px" alt="select project actions">
                                    <div class="text-black h5 mt-3">To Manage Project , select Project Actions</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>  
</div>


<!-- Link memos Template -->

<div id="LinkSideBar" class="sideInfobar animate-right">
    <div class="px-4 pt-4 pb-1">
        <div class="offcanvas-header d-flex align-items-center justify-content-between pb-2">
            <h4 class="font-weight-bold m-0"><i class="fa fa-link mr-1"></i>Link DMS</h4>
            <a href="javascript:void(0)" class="closebtn btn btn-xs btn-icon btn-hover-info"
                (click)="closeLinkSideBar()">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                    <path fill="none" d="M0 0h24v24H0z"></path><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"></path>
                </svg>
            </a>
        </div>
    </div>
    <ul class="kt-nav">
        <li class="kt-nav__head d-block">
            <p class="text-primary m-0">
                {{_displayProjName}}</p>
            <div class="M_fsize">
                Total
                <div class="badge badge-pill badge-outline-info">
                    {{_totalMemos}} </div>
                Linked
                <div class="badge badge-pill badge-outline-success">
                    {{_mappedMemos}} </div>
            </div>
            <div class="kt-nav__separator"></div>
        </li>
        <li class="kt-nav__item px-4">
            <div class="d-flex input-group">
                <!-- Working... -->
                <ng-multiselect-dropdown [placeholder]="'Select Memo' "
                    class="mutlidropdown-set mutlidropdown-full mr-1" [settings]="dropdownSettings_Memo"
                    [data]="Memos_List" [(ngModel)]="ngDropdwonMemo" (onSelect)="Memo_Select(ngDropdwonMemo)"
                    (onDeSelect)="Memo_Deselect()" style="flex: 3;">
                </ng-multiselect-dropdown>
                <!-- <div class="input-group-append"> -->
                <button class="btn btn-label-primary btn-upper btn-sm btn-bold input-group-text"
                    (click)="_AddLink()">Link</button>
                <!-- </div> -->

            </div>
        </li>
        <li class="kt-nav__foot"></li>
    </ul>
</div>

<div id="LinkSideBar1" class="sideInfobar shadow-0 animate-right">
    <div class="px-4 pt-4 pb-1">
        <div class="offcanvas-header d-flex align-items-center justify-content-between pb-2">
            <h4 class="font-weight-bold m-0"><i class="fa fa-link mr-1"></i> Link Portfolio</h4>
            <a href="javascript:void(0)" class="closebtn btn btn-xs btn-icon btn-hover-info"
                (click)="closeLinkSideBar()">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                    <path fill="none" d="M0 0h24v24H0z"></path><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"></path>
                </svg>
            </a>
        </div>
    </div>

    <ul class="kt-nav">
        <li class="kt-nav__head d-block">
            <p class="text-primary">
                Portfolios</p>
            <div class="M_fsize">
                Total
                <div class="badge badge-pill badge-outline-info">
                    {{totalPortfolios}}</div>
                Linked
                <div class="badge badge-pill badge-outline-success">
                    {{_portfolioLength}}</div>
            </div>
            <div class="kt-nav__separator"></div>
        </li>
        <li class="kt-nav__item px-4">
            <div class="d-flex">
                <ng-multiselect-dropdown appFocusOnClick [placeholder]="'Select Portfolio(s)'"
                    class="mutlidropdown-set mutlidropdown-full mr-1" [settings]="dropdownSettings_Portfolio"
                    [data]="_portfoliosList" [(ngModel)]="ngDropdwonPort" (onSelect)="Portfolio_Select(ngDropdwonPort)"
                    (onDeSelect)="Portfolio_Deselect(ngDropdwonPort)" (onSelectAll)="Portfolio_SelectAll($event)"
                    (onDeSelectAll)="Portfolio_DeSelectAll()" style="flex: 3;">
                </ng-multiselect-dropdown>

                <button class="btn btn-label-primary btn-upper btn-sm btn-bold"
                    [disabled]="_SelectedPorts==' '|| _SelectedPorts==null"
                    (click)="addProjectToPortfolio()">Link</button>
            </div>
        </li>
        <li class="kt-nav__foot"></li>
    </ul>
</div>


<div id="darsidebar" class="sideInfobar animate-right">
    <div class="kt-portlet">

    <div class="kt-portlet__head">
        <div class="offcanvas-header d-flex align-items-center justify-content-between pb-2">
            <h4 class="m-0"><i class="fa fa-link mr-1"></i>Timeline Submission</h4>
            <a href="javascript:void(0)" class="closebtn btn btn-xs btn-icon btn-hover-info" (click)="closedarBar()">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                    <path fill="none" d="M0 0h24v24H0z"></path><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"></path>
                </svg>
            </a>
        </div>
    </div>
    <div class="kt-portlet__body">

        <div>
            <div class="form-group text-dark-50 w-75px flex-grow-1 brdng-0"
                *ngIf="ProjectBlockName != 'Standard Tasks' && ProjectBlockName != 'Routine Tasks' && ProjectBlockName != 'To do List'">
                <label>Action <span class="text-danger">*</span></label>
                <ng-select required #action="ngModel" name="action" placeholder="Select Action" id="actinName"
                    [(ngModel)]="actionCode" (click)="getResponsibleActions()">
                    <ng-option [value]="item.Project_Code" *ngFor="let item of darArr">
                        {{item.Project_Name}}
                    </ng-option>
                </ng-select>
            </div>
            <div class="form-group">
                <label>Work Description<span class="text-danger">*</span></label>
                <textarea type="text" name="work" class="form-control h-100px" [(ngModel)]="workdes"
                    placeholder="Define your achievement here."></textarea>
            </div>

            <div class="form-group">
                <label>Date<span class="text-danger">*</span></label>
                <!-- <input class="form-control" name="starttim" #startdate="ngModel" type="time" value="13:45:00" id="time-start" [(ngModel)]="starttime"> -->
                <!-- <input class="form-control" name="dardate" type="date" id="minDate" [(ngModel)]="current_Date"> -->
                <div class="input-group">
                    <input matInput (dateChange)="orgValueChange($event)" [value]="dateF.value"
                        [matDatepicker]="picker1" id="d-date" required (click)="picker1.open()"
                        [min]="disablePreviousDate" [max]="todayDate" placeholder="Select Date" class="form-control"
                        name="date">
                    <div class="input-group-text p-0">
                        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                        <mat-datepicker #picker1></mat-datepicker>
                    </div>
                </div>
            </div>
            <div class="d-flex gap-1">
                <div class="form-group w-100">
                    <label>Start Time<span class="text-danger">*</span></label>
                    <ng-select name="time" placeholder="Select Start Time" id="time-start" (click)="getDarTime()"
                        [(ngModel)]="starttime">
                        <ng-option [value]="item" *ngFor="let item of timedata; let i=index"
                            [disabled]="item!=lastEndtime && bol==false">
                            <a>{{item}}</a>
                            <!-- <a *ngIf="i==10 || i==11">{{item}}--&nbsp;&nbsp;(Lunch Break)</a> ok -->
                        </ng-option>
                    </ng-select>
                </div>

                <div class="form-group w-100">
                    <label>End Time<span class="text-danger">*</span></label>
                    <ng-select name="endtim" #end="ngModel" placeholder="Select End Time" id="time-end"
                        (click)="getDarTime()" [(ngModel)]="endtime">
                        <ng-option [value]="item" *ngFor="let item of timedata; let i=index"
                            [disabled]="item<=lastEndtime">
                            <a>{{item}}</a>
                            <!-- <a *ngIf="i==10 || i==11">{{item}}--&nbsp;&nbsp;(Lunch Break)</a> -->
                        </ng-option>
                    </ng-select>
                    <span style="color:red" id="err1" *ngIf="(endtime < starttime)">End time cannot be less than Start
                        time!!</span>
                </div>
            </div>

            <div class="form-group">
                <button type="submit" class="btn btn-primary" (click)="submitDar()" *ngIf="coresecondary==true"
                    [disabled]="!actionCode || !workdes || !starttime || !endtime || endtime < starttime">
                    Submit</button>
                <button type="submit" class="btn btn-primary" (click)="submitDar()" *ngIf="coresecondary==false"
                    [disabled]=" !workdes  || !starttime || !endtime || endtime < starttime">
                    Submit</button>
                <button type="reset" class="btn btn-secondary ml-2" (click)="Clear_Feilds()">Reset</button>
                <button type="submit" class="btn btn-secondary ml-2" (click)="closedarBar()">Cancel</button>
            </div>
        </div>
    </div>
    </div>
</div>


<!-- <button class="btn btn-info btn-sm py-1 fixed-btn">
    <label class="ml-1 mb-0" for="inpt">bottom tab</label>
</button>
<input id="input" type="checkbox" id="inpt" checked checked="checked"/> -->

<div class="spacer-tab d-none" id="btm-space">
    <!-- <div class="spacer--body" *ngIf="editDeadline==false">
        <div class="">

            <ul class="kt-nav pb-0"> 
                <li class="kt-nav__head py-0">
                <div>New End Date<br>Action: <b>Project_Name</b></div>
                </li>
                <li class="kt-nav__separator"></li>
                <div class="height-scroll h-scr">
                <div class="px-4 py-3">

                    <div  class="form-group">
                        <label > Transfer To <span  class="text-danger">*</span>
                        </label>
                        <select  reuired="" placeholder="Select Employee" class="form-control">
                            <option>Select</option>
                        </select>
                      </div>

                    <div class="form-group">
                        <label>Set new End Date <span class="text-danger">*</span></label>
                        <div class="d-flex input-group">
                            <input placeholder="Select Date" class="form-control"
                                name="date">
                            <div class="input-group-append">
                                <mat-datepicker-toggle matSuffix [for]="picker5" class="btn-secondary">
                                </mat-datepicker-toggle>
                                <mat-datepicker class="form-group" #picker5></mat-datepicker>
                            </div>
                        </div>
                    </div>
                    <div class="form-group mb-1">
                        <label>Remarks <span class="text-danger">*</span></label>
                        <textarea placeholder="" rows="2" cols="20" class="form-control" style="height: 70px;"></textarea>
                    </div>
                </div>
                </div>
                <li class="kt-nav__separator"></li>
            </ul>
            <div class="px-4 pb-3">
                <button class="btn btn-info btn-sm mr-2 text-white" > Submit </button>
                <button class="btn btn-outline-info btn-sm text-dark-75" (click)="close_space()">Close</button>
            </div>


        </div>
    </div> -->

    <!-- project Deadline edit <br>Project: {{ProjectName }}-->
    <div class="spacer--body" *ngIf="editDeadline==true">
        <div class="">
            <ul class="kt-nav pb-0">
                <li class="kt-nav__head py-0">
                    <div><b>New project end date</b></div>
                </li>
                <li class="kt-nav__separator"></li>
                <div class="height-scroll h-scr">
                    <div class="px-4 py-3">
                        <div class="form-group mb-1 d-flex">
                            Existing project end date is {{EndDate}}
                        </div>
                        <div class="form-group">
                            <label>Set new project end date <span class="text-danger">*</span></label>
                            <div class="d-flex input-group">
                                <input matInput [matDatepicker]="picker2" id="Deadlinetext_{{Pid}}"
                                    #Deadlinetext="ngModel" (click)="picker2.open();"
                                    (keydown.enter)="onProject_ExtendDeadline(Pid,_MasterCode);" [min]="disablePreviousDate1"
                                     placeholder="Select Date" [(ngModel)]="_ProjDeadline"
                                    class="form-control" name="date">
                                <div class="input-group-append">
                                    <mat-datepicker-toggle matSuffix [for]="picker2" class="btn-secondary">
                                    </mat-datepicker-toggle>
                                    <mat-datepicker class="form-group" #picker2></mat-datepicker>
                                </div>
                            </div>
                        </div>
                        <div class="form-group mb-1">
                            <label>Remarks<span class="text-danger">*</span></label>
                            <textarea class="form-control" [(ngModel)]="extend_remarks"
                                placeholder="Define your exact reason to edit project end date." rows="2" cols="20"
                                style="height:70px;"></textarea>
                        </div>
                    </div>
                </div>
                <li class="kt-nav__separator"></li>
            </ul>
            <div class="px-4 pb-3">
                <button class="btn btn-info btn-sm mr-2 text-white" [disabled]="!_ProjDeadline || !extend_remarks"
                    (click)="onProject_ExtendDeadline(Pid,_MasterCode)">Submit</button>
                <button class="btn btn-outline-info btn-sm text-dark-75" (click)="close_space()">Close</button>
            </div>
        </div>
    </div>
    <!-- project Deadline edit end-->

    <!-- project hold edit <br>Project: {{ProjectName }}-->
    <div class="spacer--body" *ngIf="edithold==true">
        <div class="">
            <ul class="kt-nav pb-0">
                <li class="kt-nav__head py-0">
                    <div><b>Hold project</b></div>
                </li>
                <li class="kt-nav__separator"></li>
                <div class="height-scroll h-scr">
                    <div class="px-4 py-3">
                        <div class="form-group input-group">
                            <label>Select hold date<span class="text-danger">*</span></label>
                            <div class="input-group">
                                <input matInput [matDatepicker]="picker3" id="Holdtext_{{Pid}}" #Holddt="ngModel"
                                    (click)="picker3.open();" (keydown.enter)="onProject_Hold(Pid,_MasterCode);"
                                    [min]="minhold" [max]="maxhold" placeholder="Select Date" [(ngModel)]="Holddate"
                                    class="form-control" name="date">
                                <div class="input-group-append">
                                    <mat-datepicker-toggle matSuffix [for]="picker3" class="btn-secondary">
                                    </mat-datepicker-toggle>
                                    <mat-datepicker class="form-group" #picker3></mat-datepicker>
                                </div>
                            </div>
                        </div>
                        <div class="form-group mb-1">
                            <label>Remarks<span class="text-danger">*</span></label>
                            <textarea class="form-control" [(ngModel)]="hold_remarks" placeholder="" rows="2" cols="20"
                                style="height:90px;"
                                placeholder="Define your exact hold reason here. e.g: Waiting for store license"></textarea>
                        </div>
                    </div>
                </div>
                <li class="kt-nav__separator"></li>
            </ul>
            <div class="px-4 pb-3">
                <button class="btn btn-info btn-sm mr-2 text-white" [disabled]="!Holddate || !hold_remarks"
                    (click)="onProject_Hold(Pid,_MasterCode)">
                    Submit
                </button>
                <button class="btn btn-outline-info btn-sm text-dark-75" (click)="close_space()">Close</button>
            </div>
        </div>
    </div>

    <!-- project hold edit end-->

    <!-- project category edit <br>Project: {{ProjectName}} -->
    <div class="spacer--body" *ngIf="editCategory==true">
        <div class="">
            <ul class="kt-nav pb-0">
                <li class="kt-nav__head py-0">
                    <div><b>Edit category</b></div>
                </li>
                <li class="kt-nav__separator"></li>
                <div class="height-scroll h-scr">
                    <div class="px-4 py-3">
                        <div class="form-group">
                            <label> Set new category <span class="text-danger">*</span> : <strong></strong></label>
                            <ng-select [(ngModel)]="selectedcategory" placeholder="Select Category">
                                <ng-option [value]="item.ReportID" *ngFor="let item of Category_List"
                                    [disabled]="Category==item.ReportType">
                                    <a>{{item.ReportType}}</a>
                                </ng-option>
                            </ng-select>
                        </div>
                        <div class="form-group mb-1">
                            <label>Remarks<span class="text-danger">*</span></label>
                            <textarea class="form-control" [(ngModel)]="extend_remarks"
                                placeholder="Define your exact reason to change project category." rows="2" cols="20"
                                style="height:70px;"></textarea>
                        </div>
                    </div>
                </div>
                <li class="kt-nav__separator"></li>
            </ul>
            <div class="px-4 pb-3">
                <button class="btn btn-info btn-sm mr-2 text-white" [disabled]="!selectedcategory || !extend_remarks"
                    (click)="onProject_updateCategory()">Submit</button>
                <button class="btn btn-outline-info btn-sm text-dark-75" (click)="close_space()">Close</button>
            </div>
        </div>
    </div>
    <!-- project category edit end-->

    <!-- project client edit <br>Project: {{ProjectName}}-->
    <div class="spacer--body" *ngIf="editClient==true">
        <div class="">
            <ul class="kt-nav pb-0">
                <li class="kt-nav__head py-0">
                    <div><b>Edit client</b></div>
                </li>
                <li class="kt-nav__separator"></li>
                <div class="height-scroll h-scr">
                    <div class="px-4 py-3">
                        <div class="form-group">
                            <label> Set new client <span class="text-danger">*</span> : <strong></strong></label>
                            <ng-select [(ngModel)]="selectedclient" placeholder="Select client">
                                <ng-option [value]="item.Com_No" *ngFor="let item of Client_List"
                                    [disabled]="Client==item.Com_Name">
                                    <a>{{item.Com_Name}}</a>
                                </ng-option>
                            </ng-select>
                        </div>
                        <div class="form-group mb-1">
                            <label>Remarks<span class="text-danger">*</span></label>
                            <textarea class="form-control" [(ngModel)]="extend_remarks"
                                placeholder="Define your exact reason to change project client." rows="2" cols="20"
                                style="height:70px;"></textarea>
                        </div>
                    </div>
                </div>
                <li class="kt-nav__separator"></li>
            </ul>
            <div class="px-4 pb-3">
                <button class="btn btn-info btn-sm mr-2 text-white" [disabled]="!selectedclient || !extend_remarks"
                    (click)="onProject_updateClient()">Submit</button>
                <button class="btn btn-outline-info btn-sm text-dark-75" (click)="close_space()">Close</button>
            </div>
        </div>
    </div>
    <!-- project client edit end-->

    <!-- project responsible edit -->
    <div class="spacer--body" *ngIf="editprojectResponsible==true">
        <div class="">
            <ul class="kt-nav pb-0">
                <li class="kt-nav__head py-0">
                    <div><b>Change project responsible</b></div>
                </li>
                <li class="kt-nav__separator"></li>
                <div class="height-scroll h-scr">
                    <div class="px-4 py-3">
                        <div class="form-group">
                            <label> Select new responsible <span class="text-danger">*</span> : <strong></strong></label>
                            <ng-select [(ngModel)]="selectedOwnResp" placeholder="Select new responsible">
                                <ng-option [value]="item.Emp_No" *ngFor="let item of responsible_dropdown">
                                    <a data-toggle="tooltip" title="{{item.RACIS}}">{{item.RACIS}}</a>
                                </ng-option>
                            </ng-select>
                        </div>
                        <div class="form-group">
                            <label>Remarks<span class="text-danger">*</span>:</label>
                            <textarea class="form-control" [(ngModel)]="extend_remarks"
                                placeholder="Define your exact reason to change project responsible." rows="2" cols="20"
                                style="height:100px;"></textarea>
                        </div>
                    </div>
                </div>
                <li class="kt-nav__separator"></li>
            </ul>
            <div class="px-4 pb-3">
                <button class="btn btn-info btn-sm mr-2 text-white" [disabled]="!selectedOwnResp || !extend_remarks"
                    (click)="onProject_updateResp()">Submit</button>
                <button class="btn btn-outline-info btn-sm text-dark-75" (click)="close_space()">Close</button>
            </div>
        </div>
    </div>
    <!-- project responsible edit end-->

    <!-- project owner edit -->
    <div class="spacer--body" *ngIf="editprojectOwner==true">
        <div class="">
            <ul class="kt-nav pb-0">
                <li class="kt-nav__head py-0">
                    <div><b>Change project owner</b></div>
                </li>
                <li class="kt-nav__separator"></li>
                <div class="height-scroll h-scr">
                    <div class="px-4 py-3">
                        <div class="form-group">
                            <label> Select new owner <span class="text-danger">*</span> : <strong></strong></label>
                            <ng-select [(ngModel)]="selectedOwnResp" placeholder="Select new owner">
                                <ng-option [value]="item.Emp_No" *ngFor="let item of owner_dropdown">
                                    <a data-toggle="tooltip" title="{{item.RACIS}}">{{item.RACIS}}</a>
                                </ng-option>
                            </ng-select>
                        </div>
                        <div class="form-group">
                            <label>Remarks<span class="text-danger">*</span>:</label>
                            <textarea class="form-control" [(ngModel)]="extend_remarks"
                                placeholder="Define your exact reason to change project owner." rows="2" cols="20"
                                style="height:100px;"></textarea>
                        </div>
                    </div>
                </div>
                <li class="kt-nav__separator"></li>
            </ul>
            <div class="px-4 pb-3">
                <button class="btn btn-info btn-sm mr-2 text-white" [disabled]="!selectedOwnResp || !extend_remarks"
                    (click)="onProject_updateOwner()">Submit</button>
                <button class="btn btn-outline-info btn-sm text-dark-75" (click)="close_space()">Close</button>
            </div>
        </div>
    </div>
    <!-- project owner edit end-->

    <!-- project support edit -->
    <div class="spacer--body" *ngIf="editSupport==true">
        <div class="">
            <ul class="kt-nav pb-0">
                <li class="kt-nav__head py-0">
                    <div><b>Add support team</b></div>
                </li>
                <li class="kt-nav__separator"></li>
                <div class="height-scroll h-scr">
                    <div class="px-4 py-3">
                        <div class="form-group">
                            <label> Add new support <span class="text-danger">*</span> : <strong></strong></label>
                            <ng-select [(ngModel)]="selectedsupport" placeholder="Select new support">
                                <ng-option [value]="item.Emp_No" *ngFor="let item of nonRacisList">
                                    <a data-toggle="tooltip" title="{{item.NonRACIS}}">{{item.NonRACIS}}</a>
                                </ng-option>
                            </ng-select>
                        </div>
                        <div class="form-group">
                            <label>Remarks</label>
                            <textarea class="form-control" [(ngModel)]="extend_remarks"
                                placeholder="Define your exact reason to add support team member." rows="2" cols="20"
                                style="height:100px;"></textarea>
                        </div>
                    </div>
                </div>
                <li class="kt-nav__separator"></li>
            </ul>
            <div class="px-4 pb-3">
                <button class="btn btn-info btn-sm mr-2 text-white" [disabled]="!selectedsupport"
                    (click)="onProject_updateSupport()">Submit</button>
                <button class="btn btn-outline-info btn-sm text-dark-75" (click)="close_space()">Close</button>
            </div>
        </div>
    </div>
    <!-- project support edit end-->


    <!-- project transfer (keydown.enter)="onProject_Transfer(Pid,_MasterCode);"-->
    <div class="spacer--body" *ngIf="transferproject==true">
        <div class="">
            <ul class="kt-nav pb-0">
                <li class="kt-nav__head py-0">
                    <div><b>Project transfer</b></div>
                </li>
                <li class="kt-nav__separator"></li>
                <div class="height-scroll h-scr">
                    <div class="px-4 py-3">
                        <div class="form-group" id="Transtext_{{Pid}}">
                            <label> Transfer to <span class="text-danger">*</span> : <strong></strong></label>
                            <ng-select #transfer="ngModel" [(ngModel)]="selectedEmp_No" placeholder="Select Employee">
                                <ng-option [value]="item.Emp_No" *ngFor="let item of Employee_List">
                                    <a data-toggle="tooltip" title="{{item.DisplayName}}"
                                        *ngIf="(Responsible_EmpNo!=item.Emp_No && Owner_EmpNo!=item.Emp_No)">{{item.DisplayName}}</a>
                                </ng-option>
                            </ng-select>
                        </div>
                        <div class="form-group input-group">
                            <label>Set new deadline (optional):</label>
                            <div class="input-group">
                                <input matInput [matDatepicker]="picker4" #Transdt="ngModel" (click)="picker4.open();"
                                    [min]="disablePreviousDate1" placeholder="Select Date" [(ngModel)]="TransDate"
                                    class="form-control" name="date">
                                <div class="input-group-append">
                                    <mat-datepicker-toggle matSuffix [for]="picker4" class="btn-secondary">
                                    </mat-datepicker-toggle>
                                    <mat-datepicker class="form-group" #picker4></mat-datepicker>
                                </div>
                            </div>
                            <span style="color:gray">Existing deadline: {{EndDate}}</span>
                        </div>
                        <div class="form-group">
                            <label>Remarks<span class="text-danger">*</span>:</label>
                            <textarea class="form-control" [(ngModel)]="transfer_remarks"
                                placeholder="Define your exact reason to transfer the project." rows="2" cols="20"
                                style="height:80px;"></textarea>
                        </div>
                    </div>
                </div>
                <li class="kt-nav__separator"></li>
            </ul>
            <div class="px-4 pb-3">
                <button class="btn btn-info btn-sm mr-2 text-white" [disabled]="!selectedEmp_No || !transfer_remarks"
                    (click)="sweetAlert1(Pid,_MasterCode)">Submit</button>
                <button class="btn btn-outline-info btn-sm text-dark-75" (click)="close_space()">Close</button>
            </div>
        </div>
    </div>
    <!-- project transfer end-->

      <!-- action owner edit -->
      <div class="spacer--body" *ngIf="editActionOwner==true">
        <div class="">
            <ul class="kt-nav pb-0">
                <li class="kt-nav__head py-0">
                    <div><b>Change action owner</b><br>Action {{actnum}}: {{actionName }}</div>
                </li>
                <li class="kt-nav__separator"></li>
                <div class="height-scroll h-scr">
                    <div class="px-4 py-3">
                        <div class="form-group">
                            <label> Select new owner <span class="text-danger">*</span> : <strong></strong></label>
                            <ng-select [(ngModel)]="selectedOwnResp" placeholder=" Select new owner ">
                                <ng-option [value]="item.Emp_No" *ngFor="let item of owner_dropdown">
                                    <a data-toggle="tooltip" title="{{item.RACIS}}">{{item.RACIS}}</a>
                                </ng-option>
                            </ng-select>
                        </div>
                        <div class="form-group">
                            <label>Remarks<span class="text-danger">*</span>:</label>
                            <textarea class="form-control" [(ngModel)]="extend_remarks"
                                placeholder="Define your exact reason to change action owner." rows="2" cols="20"
                                style="height:100px;"></textarea>
                        </div>
                    </div>
                </div>
                <li class="kt-nav__separator"></li>
            </ul>
            <div class="px-4 pb-3">
                <button class="btn btn-info btn-sm mr-2 text-white" [disabled]="!selectedOwnResp || !extend_remarks"
                    (click)="onAction_updateOwner()">Submit</button>
                <button class="btn btn-outline-info btn-sm text-dark-75" (click)="close_space()">Close</button>
            </div>
        </div>
    </div>
    <!-- action owner edit end-->

      <!-- action responsible edit -->
      <div class="spacer--body" *ngIf="editActionResp==true">
        <div class="">
            <ul class="kt-nav pb-0">
                <li class="kt-nav__head py-0">
                    <div><b>Change action responsible</b><br>Action {{actnum}}: {{actionName }}</div>
                </li>
                <li class="kt-nav__separator"></li>
                <div class="height-scroll h-scr">
                    <div class="px-4 py-3">
                        <div class="form-group">
                            <label> Select new responsible <span class="text-danger">*</span> : <strong></strong></label>
                            <ng-select [(ngModel)]="selectedOwnResp" placeholder="Select new responsible">
                                <ng-option [value]="item.Emp_No" *ngFor="let item of responsible_dropdown">
                                    <a data-toggle="tooltip" title="{{item.RACIS}}">{{item.RACIS}}</a>
                                </ng-option>
                            </ng-select>
                        </div>
                        <div class="form-group">
                            <label>Remarks<span class="text-danger">*</span>:</label>
                            <textarea class="form-control" [(ngModel)]="extend_remarks"
                                placeholder="Define your exact reason to change action responsible." rows="2" cols="20"
                                style="height:100px;"></textarea>
                        </div>
                    </div>
                </div>
                <li class="kt-nav__separator"></li>
            </ul>
            <div class="px-4 pb-3">
                <button class="btn btn-info btn-sm mr-2 text-white" [disabled]="!selectedOwnResp || !extend_remarks"
                    (click)="onAction_updateResp()">Submit</button>
                <button class="btn btn-outline-info btn-sm text-dark-75" (click)="close_space()">Close</button>
            </div>
        </div>
    </div>
    <!-- action responsible edit end-->

    <!-- action end date edit -->
    <div class="spacer--body" *ngIf="actendedit==true">
        <div class="">
            <ul class="kt-nav pb-0">
                <li class="kt-nav__head py-0">
                    <div><b>New end date</b><br>Action {{actnum}}: {{actionName}}</div>
                </li>
                <li class="kt-nav__separator"></li>
                <div class="height-scroll h-scr">
                    <div class="px-4 py-3">
                        <div class="form-group mb-1 d-flex">
                            Existing action end date is {{actionenddate | date: 'dd-MM-YYYY'}}
                        </div>
                        <div class="form-group input-group">
                            <label>Set new end date <span class="text-danger">*</span></label>
                            <div class="d-flex input-group">
                                <input matInput [matDatepicker]="picker5" #actionend="ngModel" (click)="picker5.open();"
                                    (keydown.enter)="actiondeadline_alert();" [min]="disablePreviousDate1"
                                    placeholder="Select Date" [(ngModel)]="_ProjDeadline" class="form-control"
                                    name="date">
                                <div class="input-group-append">
                                    <mat-datepicker-toggle matSuffix [for]="picker5" class="btn-secondary">
                                    </mat-datepicker-toggle>
                                    <mat-datepicker class="form-group" #picker5></mat-datepicker>
                                </div>
                            </div>
                        </div>
                        <div class="form-group mb-1">
                            <label>Remarks <span class="text-danger">*</span>
                            </label>
                            <textarea [(ngModel)]="extend_remarks" placeholder="Define your exact reason to edit action end date." rows="2"
                                cols="20" class="form-control" style="height: 70px;"></textarea>
                        </div>
                    </div>
                </div>
                <li class="kt-nav__separator"></li>
            </ul>
            <div class="px-4 pb-3">
                <button class="btn btn-info btn-sm mr-2 text-white" [disabled]="!extend_remarks || !_ProjDeadline"
                    (click)="actiondeadline_alert()"> Submit </button>
                <button class="btn btn-outline-info btn-sm text-dark-75" (click)="close_space()">Close</button>
            </div>
        </div>
    </div>
    <!-- action end date edit end -->

    <!-- action start date edit id="StartDatetext_{{item.id}}"-->
    <div class="spacer--body" *ngIf="actstartedit==true">
        <div class="">
            <ul class="kt-nav pb-0">
                <li class="kt-nav__head py-0">
                    <div><b>New start date</b><br>Action {{actnum}}: {{actionName }}</div>
                </li>
                <li class="kt-nav__separator"></li>
                <div class="height-scroll h-scr">
                    <div class="px-4 py-3">
                        <div class="form-group mb-1 d-flex">
                            Existing action start date is {{actionStartdate | date: 'dd-MM-YYYY'}}
                        </div>
                        <div class="form-group input-group">
                            <label>Set new start date <span class="text-danger">*</span></label>
                            <div class="d-flex input-group">
                                <input matInput [matDatepicker]="picker6" #actionstart="ngModel"
                                    (click)="picker6.open();" (keydown.enter)="onAction_ExtendDeadline();"
                                    [min]="disablePreviousDate1" placeholder="Select Date"
                                    [(ngModel)]="_ProjDeadline" class="form-control" name="date">
                                <div class="input-group-append">
                                    <mat-datepicker-toggle matSuffix [for]="picker6" class="btn-secondary">
                                    </mat-datepicker-toggle>
                                    <mat-datepicker class="form-group" #picker6></mat-datepicker>
                                </div>
                            </div>
                        </div>
                        <div class="form-group mb-1">
                            <label>Remarks <span class="text-danger">*</span>
                            </label>
                            <textarea [(ngModel)]="extend_remarks" placeholder="Define your exact reason to edit action start date." rows="2"
                                cols="20" class="form-control" style="height: 70px;"></textarea>
                        </div>
                    </div>
                </div>
                <li class="kt-nav__separator"></li>
            </ul>
            <div class="px-4 pb-3">
                <button class="btn btn-info btn-sm mr-2 text-white" [disabled]="!extend_remarks || !_ProjDeadline"
                    (click)="onAction_ExtendDPG()"> Submit </button>
                <button class="btn btn-outline-info btn-sm text-dark-75" (click)="close_space()">Close</button>
            </div>
        </div>
    </div>
    <!-- action start date edit end -->

    <!-- action duration edit id="AllocFocus_{{item.id}}"-->
    <div class="spacer--body" *ngIf="editduration==true">
        <div class="">
            <ul class="kt-nav pb-0">
                <li class="kt-nav__head py-0">
                    <div style="white-space: break-spaces;">Add allocated hours <br>Action {{actnum}}: {{actionName }}
                    </div>
                </li>
                <li class="kt-nav__separator"></li>
                <div class="height-scroll h-scr">
                    <div class="px-4 py-3">
                        <div class="form-group">
                            <label>Add hours <span class="text-danger">*</span></label>
                            <input type="number" class="form-control" placeholder="hrs" [(ngModel)]="_modelProjAlloc"
                                min="0" oninput="validity.valid||(value='');">
                            <span *ngIf="(_modelProjAlloc > (subduration * 10))" class="text-danger">*Allocation per day
                                limit is 10 hours.</span>
                            <span *ngIf="_modelProjAlloc > (subduration * 10)" class="text-danger">Please enter the
                                hours less than or equal to <b>{{(subduration * 10)}}</b> hours!</span>
                        </div>
                        <div class="form-group mb-1">
                            <label>Remarks <span class="text-danger">*</span>
                            </label>
                            <textarea [(ngModel)]="alloc_remarks" placeholder="Define your exact reason to edit action duration." rows="2"
                                cols="20" class="form-control" style="height: 70px;"></textarea>
                        </div>
                    </div>
                </div>
                <li class="kt-nav__separator"></li>
            </ul>
            <div class="px-4 pb-3">
                <button class="btn btn-info btn-sm mr-2 text-white" [disabled]="!alloc_remarks || !_modelProjAlloc"
                    (click)="onProject_updateDuration()"> Submit </button>
                <button class="btn btn-outline-info btn-sm text-dark-75" (click)="close_space()">Close</button>
            </div>
        </div>
    </div>
    <!-- action duration edit end -->

    <!-- Project release start-->
    <div class="spacer--body" *ngIf="editRelease==true">
        <div class="">
            <ul class="kt-nav pb-0">
                <li class="kt-nav__head py-0">
                    <div><b>Project release</b></div>
                </li>
                <li class="kt-nav__separator"></li>
                <div class="height-scroll h-scr">

                    <div class="px-4 py-3">
                        <div class="form-group mb-1 d-flex">
                            This project is on hold until {{hold_upto}}
                        </div>
                        <div class="form-group input-group">
                            <label>Set new release date:<span class="text-danger">*</span></label>
                            <div class="input-group">
                                <input matInput [matDatepicker]="picker7" id="Holdtext_{{Pid}}"
                                    (click)="picker7.open();" (dateChange)="orgValueChange1($event)"
                                    [value]="dateR.value" [min]="minhold" [max]="maxhold" placeholder="Select Date"
                                    class="form-control" name="date">
                                <div class="input-group-append">
                                    <mat-datepicker-toggle matSuffix [for]="picker7" class="btn-secondary">
                                    </mat-datepicker-toggle>
                                    <mat-datepicker class="form-group" #picker7></mat-datepicker>
                                </div>
                            </div>
                        </div>
                        <div class="form-group mb-1">
                            <label>Remarks<span class="text-danger">*</span></label>
                            <textarea class="form-control" [(ngModel)]="hold_remarks" placeholder="" rows="2" cols="20"
                                placeholder="Define your exact reason to edit hold date." style="height:70px;"></textarea>
                        </div>
                    </div>
                </div>
                <li class="kt-nav__separator"></li>
            </ul>
            <div class="px-4 pb-3">
                <button class="btn btn-info btn-sm mr-2 text-white" [disabled]="!hold_remarks"
                    (click)="updateReleaseDate()">
                    Submit
                </button>
                <button class="btn btn-outline-info btn-sm text-dark-75" (click)="close_space()">Close</button>
            </div>
        </div>
    </div>
    <!-- Project release end -->
</div>