{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{Tkif:function(t,i,s){\"use strict\";s.r(i),s.d(i,\"LoginModule\",(function(){return I}));var e=s(\"ofXK\"),o=s(\"3Pt+\"),r=s(\"tyNb\"),c=s(\"dh0H\"),n=s(\"fXoL\"),a=s(\"ps0H\"),d=s(\"Dlfb\"),l=s(\"tHiJ\"),g=s(\"lPP5\");function b(t,i){1&t&&(n.cc(0,\"div\",36),n.cc(1,\"b\"),n.Yc(2,\"UserName is required !\"),n.bc(),n.bc())}function u(t,i){if(1&t&&(n.cc(0,\"div\",34),n.Wc(1,b,3,0,\"div\",35),n.bc()),2&t){const t=n.rc();n.Jb(1),n.yc(\"ngIf\",t.f.userid.errors.required)}}function h(t,i){1&t&&(n.cc(0,\"p\",37),n.cc(1,\"strong\"),n.Yc(2,\"In Correct UserName\"),n.bc(),n.bc())}function m(t,i){1&t&&(n.cc(0,\"div\",36),n.cc(1,\"b\"),n.Yc(2,\"Password is required !\"),n.bc(),n.bc())}function p(t,i){if(1&t&&(n.cc(0,\"div\",34),n.Wc(1,m,3,0,\"div\",35),n.bc()),2&t){const t=n.rc();n.Jb(1),n.yc(\"ngIf\",t.f.password.errors.required)}}function f(t,i){if(1&t&&(n.cc(0,\"p\",37),n.cc(1,\"strong\"),n.Yc(2),n.bc(),n.bc()),2&t){const t=n.rc();n.Jb(2),n.Zc(t.message)}}const _=function(t){return{\"has-error\":t}},k=[{path:\"\",component:(()=>{class t{constructor(t,i,s,e,r,n,a){this.formBuilder=t,this.router=i,this.notifyService=s,this.cd=e,this.authService=r,this.service=n,this.loadingBar=a,this.submitted=!1,this.isLoading=!1,this.InValidPassword=!1,this.InValidUserName=!1,this.dashboardUrl=\"backend/dashboard\",this.policyUrl=\"userpolicy\",this.cosnt_Loadingbar=this.loadingBar.useRef(\"http\"),this.Obj_ILoginDTO=new c.a,this.loginForm=this.formBuilder.group({userid:[\"\",o.y.required],password:[\"\",o.y.required]})}ngOnInit(){this.authService.logout()}get f(){return this.loginForm.controls}OnKeyPress(){this.InValidPassword=!1,this.InValidUserName=!1,this.message=\"\"}login(){this.submitted=!0,this.loginForm.invalid||(this.Obj_ILoginDTO.UserName=this.f.userid.value,this.Obj_ILoginDTO.Password=this.f.password.value,this.service.LoginCredentials(this.Obj_ILoginDTO).subscribe(t=>{this.UserDetails_List=t,this.message=this.UserDetails_List[0].Message,this.DB_username=this.UserDetails_List[0].UserName.toLowerCase(),this.DB_password=this.UserDetails_List[0].Password,this.User_FullName=this.UserDetails_List[0].TM_DisplayName,this.IsPolicy=this.UserDetails_List[0].IsPolicy,this.f.userid.value.toLowerCase()==this.DB_username&&this.f.password.value==this.DB_password?(localStorage.setItem(\"isLoggedIn\",\"true\"),this.InValidPassword=!1,this.cd.detectChanges(),this.EmpNo=t[0].Emp_No,localStorage.setItem(\"EmpNo\",this.EmpNo),this.EmpCompNo=t[0].Emp_Comp_No.replace(/\\s/g,\"\"),this.SystemRole=t[0].Emp_SystemRole,this.OrganizationId=t[0].OrganizationId,sessionStorage.setItem(\"Emp_Email\",t[0].Emp_Email),sessionStorage.setItem(\"Session_EmpNo\",this.EmpNo),sessionStorage.setItem(\"EmpCompNo\",this.EmpCompNo),localStorage.setItem(\"UserfullName\",this.User_FullName),localStorage.setItem(\"_Currentuser\",this.DB_username),localStorage.setItem(\"OrganizationId\",this.OrganizationId),1==this.IsPolicy?(this.router.navigate([this.dashboardUrl]),this.notifyService.showInfo(this.User_FullName+\"  \",\"Login By :\"),this.notifyService.showSuccess(\"Successfully\",\"Logged In\"),this.InValidPassword=!1,this.cd.detectChanges()):0==this.IsPolicy&&(this.router.navigate([this.policyUrl]),this.InValidPassword=!1,this.cd.detectChanges())):(this.InValidPassword=!0,console.log(\"Invalid Login\"),this.authService.logout(),localStorage.removeItem(\"EmpNo\"),this.cd.detectChanges())}))}}return t.\\u0275fac=function(i){return new(i||t)(n.Wb(o.e),n.Wb(r.f),n.Wb(a.a),n.Wb(n.i),n.Wb(d.a),n.Wb(l.a),n.Wb(g.c))},t.\\u0275cmp=n.Qb({type:t,selectors:[[\"app-login\"]],decls:46,vars:11,consts:[[1,\"kt-grid\",\"kt-grid--ver\",\"kt-grid--root\",\"kt-page\"],[\"id\",\"kt_login\",1,\"kt-grid\",\"kt-grid--hor\",\"kt-grid--root\",\"kt-login\",\"kt-login--v6\",\"kt-login--signin\",\"h-100\"],[1,\"kt-grid__item\",\"kt-grid__item--fluid\",\"kt-grid\",\"kt-grid--desktop\",\"kt-grid--ver-desktop\",\"kt-grid--hor-tablet-and-mobile\"],[1,\"kt-grid__item\",\"kt-grid__item--fluid\",\"kt-grid__item--center\",\"kt-grid\",\"kt-grid--ver\",\"kt-login__content\",2,\"background-image\",\"url(assets/images/login-banner.jpg)\"],[1,\"kt-login__section\"],[1,\"kt-login__block\"],[1,\"kt-login__desc\"],[1,\"kt-grid__item\",\"kt-grid__item--order-tablet-and-mobile-2\",\"kt-grid\",\"kt-grid--hor\",\"kt-login__aside\",\"p-0\"],[1,\"kt-login__wrapper\"],[1,\"kt-login__container\"],[1,\"kt-login__body\",2,\"padding\",\"25px 30px\",\"border-radius\",\"5px\"],[1,\"kt-login__logo\",\"mb-4\"],[\"href\",\"#\"],[1,\"kt-login__signin\"],[1,\"kt-login__head\"],[2,\"font-size\",\"2rem\",\"color\",\"#67666e\"],[1,\"kt-login__form\"],[\"action\",\"\",1,\"kt-form\",3,\"formGroup\",\"ngSubmit\"],[1,\"form-group\",\"mb-4\",3,\"ngClass\"],[\"type\",\"text\",\"placeholder\",\"UserName\",\"autocomplete\",\"off\",\"formControlName\",\"userid\",1,\"form-control\"],[\"class\",\"help-block\",4,\"ngIf\"],[\"class\",\"text-danger\",4,\"ngIf\"],[1,\"form-group\",3,\"ngClass\"],[\"type\",\"password\",\"placeholder\",\"Password\",\"formControlName\",\"password\",1,\"form-control\",3,\"keypress\"],[\"class\",\"text-center error\",\"class\",\"text-danger\",4,\"ngIf\"],[1,\"kt-login__actions\"],[\"id\",\"kt_login_signin_submit\",\"type\",\"submit\",1,\"btn\",\"btn-primary\",\"kt-btn\",\"px-5\",2,\"height\",\"38px\"],[1,\"kt-login__forgot\"],[1,\"kt-login__title\"],[\"action\",\"\",1,\"kt-form\"],[1,\"form-group\"],[\"type\",\"text\",\"placeholder\",\"Email\",\"name\",\"email\",\"id\",\"kt_email\",\"autocomplete\",\"off\",1,\"form-control\"],[\"id\",\"kt_login_forgot_submit\",1,\"btn\",\"btn-brand\",\"btn-pill\",\"btn-elevate\"],[\"id\",\"kt_login_forgot_cancel\",1,\"btn\",\"btn-outline-brand\",\"btn-pill\"],[1,\"help-block\"],[\"class\",\"text-info\",4,\"ngIf\"],[1,\"text-info\"],[1,\"text-danger\"]],template:function(t,i){1&t&&(n.cc(0,\"div\",0),n.cc(1,\"div\",1),n.cc(2,\"div\",2),n.cc(3,\"div\",3),n.cc(4,\"div\",4),n.cc(5,\"div\",5),n.cc(6,\"div\",6),n.Xb(7,\"br\"),n.bc(),n.bc(),n.bc(),n.bc(),n.cc(8,\"div\",7),n.cc(9,\"div\",8),n.cc(10,\"div\",9),n.cc(11,\"div\",10),n.cc(12,\"div\",11),n.Xb(13,\"a\",12),n.bc(),n.cc(14,\"div\",13),n.cc(15,\"div\",14),n.cc(16,\"h2\",15),n.Yc(17,\"Sign In \"),n.bc(),n.bc(),n.cc(18,\"div\",16),n.cc(19,\"form\",17),n.nc(\"ngSubmit\",(function(){return i.login()})),n.cc(20,\"div\",18),n.Xb(21,\"input\",19),n.Wc(22,u,2,1,\"div\",20),n.Wc(23,h,3,0,\"p\",21),n.bc(),n.cc(24,\"div\",22),n.cc(25,\"input\",23),n.nc(\"keypress\",(function(){return i.OnKeyPress()})),n.bc(),n.Wc(26,p,2,1,\"div\",20),n.bc(),n.Wc(27,f,3,1,\"p\",24),n.cc(28,\"div\",25),n.cc(29,\"button\",26),n.Yc(30,\"Sign In\"),n.bc(),n.bc(),n.bc(),n.bc(),n.bc(),n.cc(31,\"div\",27),n.cc(32,\"div\",14),n.cc(33,\"h3\",28),n.Yc(34,\"Forgotten Password ?\"),n.bc(),n.cc(35,\"div\",6),n.Yc(36,\"Enter your email to reset your password:\"),n.bc(),n.bc(),n.cc(37,\"div\",16),n.cc(38,\"form\",29),n.cc(39,\"div\",30),n.Xb(40,\"input\",31),n.bc(),n.cc(41,\"div\",25),n.cc(42,\"button\",32),n.Yc(43,\"Request\"),n.bc(),n.cc(44,\"button\",33),n.Yc(45,\"Cancel\"),n.bc(),n.bc(),n.bc(),n.bc(),n.bc(),n.bc(),n.bc(),n.bc(),n.bc(),n.bc(),n.bc(),n.bc()),2&t&&(n.Jb(19),n.yc(\"formGroup\",i.loginForm),n.Jb(1),n.yc(\"ngClass\",n.Cc(7,_,i.submitted&&i.f.userid.errors)),n.Jb(2),n.yc(\"ngIf\",i.submitted&&i.f.userid.errors),n.Jb(1),n.yc(\"ngIf\",i.InValidUserName),n.Jb(1),n.yc(\"ngClass\",n.Cc(9,_,i.submitted&&i.f.password.errors)),n.Jb(2),n.yc(\"ngIf\",i.submitted&&i.f.password.errors),n.Jb(1),n.yc(\"ngIf\",i.message))},directives:[o.A,o.p,o.j,e.m,o.d,o.o,o.h,e.o,o.q],styles:[\"@media only screen and (min-width:1024px){.h-100[_ngcontent-%COMP%]{height:100vh!important}}#kt_login_signin_submit[_ngcontent-%COMP%]{background-color:#5867dd;border-color:#5867dd;color:#fff}\"]}),t})()}];let v=(()=>{class t{}return t.\\u0275mod=n.Ub({type:t}),t.\\u0275inj=n.Tb({factory:function(i){return new(i||t)},imports:[[r.i.forChild(k)],r.i]}),t})(),I=(()=>{class t{}return t.\\u0275mod=n.Ub({type:t}),t.\\u0275inj=n.Tb({factory:function(i){return new(i||t)},imports:[[e.c,o.k,o.v,v]]}),t})()},ps0H:function(t,i,s){\"use strict\";s.d(i,\"a\",(function(){return r}));var e=s(\"fXoL\"),o=s(\"5eHb\");let r=(()=>{class t{constructor(t){this.toastr=t}showSuccess(t,i){this.toastr.success(t,i,{closeButton:!0})}showError(t,i){this.toastr.error(t,i,{closeButton:!0})}showInfo(t,i){this.toastr.info(t,i,{closeButton:!0})}showWarning(t,i){this.toastr.warning(t,i,{closeButton:!0})}}return t.\\u0275fac=function(i){return new(i||t)(e.kc(o.b))},t.\\u0275prov=e.Sb({token:t,factory:t.\\u0275fac,providedIn:\"root\"}),t})()}}]);","extractedComments":[]}